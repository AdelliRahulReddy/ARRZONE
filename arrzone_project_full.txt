=== PROJECT STRUCTURE === 
Folder PATH listing for volume Windows
Volume serial number is D4CD-3897
C:.
|   404.php
|   AI_INSTRUCTIONS.txt
|   archive.php
|   arrzone_project_full.txt
|   footer.php
|   functions.php
|   header.php
|   index.php
|   page-all-campaigns.php
|   page-all-categories.php
|   page-all-deal-types.php
|   page-all-stores.php
|   page.php
|   robots.txt
|   single.php
|   style.css
|   
+---.git
|   |   COMMIT_EDITMSG
|   |   config
|   |   description
|   |   HEAD
|   |   index
|   |   
|   +---hooks
|   |       applypatch-msg.sample
|   |       commit-msg.sample
|   |       fsmonitor-watchman.sample
|   |       post-update.sample
|   |       pre-applypatch.sample
|   |       pre-commit.sample
|   |       pre-merge-commit.sample
|   |       pre-push.sample
|   |       pre-rebase.sample
|   |       pre-receive.sample
|   |       prepare-commit-msg.sample
|   |       push-to-checkout.sample
|   |       sendemail-validate.sample
|   |       update.sample
|   |       
|   +---info
|   |       exclude
|   |       
|   +---logs
|   |   |   HEAD
|   |   |   
|   |   \---refs
|   |       +---heads
|   |       |       main
|   |       |       
|   |       \---remotes
|   |           \---origin
|   |                   main
|   |                   
|   +---objects
|   |   +---00
|   |   |       7d622f8423cbb43b7eef014e2e08e78fedfff0
|   |   |       
|   |   +---02
|   |   |       1ec16833e9b5364409178f2b4efc3fd98b4994
|   |   |       d3c74b44586dc6f26d393c0d28f132f859ff77
|   |   |       f5c466d88ff5b16746658a4b3965ca8bb60990
|   |   |       
|   |   +---06
|   |   |       16da2331db76ed25638ed8c74b51e8a85ea88e
|   |   |       
|   |   +---08
|   |   |       eb5decd63b28063f588cb7907d6a6e51eeb2e0
|   |   |       
|   |   +---0b
|   |   |       5d83d0c197f8f3a89fbf85e14187d4046a5cd9
|   |   |       f4301ad7f59840d07699b9a5f2185defa34657
|   |   |       
|   |   +---0c
|   |   |       43238675193154eb3fc02b4d7901c15dbf168d
|   |   |       b154514b0633dfce0c8c366d1837afe872e5e9
|   |   |       
|   |   +---0e
|   |   |       893a38ad65b5807d490944f80ac04359a1cfcd
|   |   |       d3e721ad4e5e389b2f61a7e170316273204365
|   |   |       d468e36e28fe5333df3bce56064e5e9fa0ce6f
|   |   |       
|   |   +---12
|   |   |       82900ccadd5c339b6791eea4c3f2c8a8e2970d
|   |   |       
|   |   +---13
|   |   |       2b25874547c0311494bfa9eab0d04621fbf6d8
|   |   |       320c53be80f052d25dc083aa68a374df9df4a4
|   |   |       5b1a9d6f5b399dc2778572b9aedbabfcb1bcbd
|   |   |       
|   |   +---14
|   |   |       9e43109692b24b3683d348e4985b04c220ebb4
|   |   |       
|   |   +---15
|   |   |       690687925c15e027db3c454235f9480aacea13
|   |   |       d8bacb2b5b5593032e346b8602d224e0852d91
|   |   |       
|   |   +---16
|   |   |       31c6fe1ba2297bc6b0a6c50baed78f2c8131db
|   |   |       fdd4606099765e6fdacffabfe34a0ac4b21098
|   |   |       
|   |   +---18
|   |   |       38711e758801906f33b6fd264d2b3e0e54c743
|   |   |       60da4e6890dcc50b49f0e8ff64a3a13b08d6ea
|   |   |       a6ecf077ae4699f81cf77f13c185bde95dab08
|   |   |       
|   |   +---19
|   |   |       2e6b65a4bf448401811658fd36166df85501ed
|   |   |       
|   |   +---1b
|   |   |       cba144c89ae19147220417c7b555c1e85b32ab
|   |   |       
|   |   +---1c
|   |   |       73262596151971c631dc038480cf7433e8c43a
|   |   |       
|   |   +---1d
|   |   |       6c7db4470a9438f4c6359383fc097536151b71
|   |   |       
|   |   +---1e
|   |   |       c05ae5c1762b0a6e988ead67adb1b3067af5fa
|   |   |       d7b656203b4f749546aea668a49f79fd4d923e
|   |   |       
|   |   +---1f
|   |   |       1b27d236943bfdab73871eba4ef5ff6928911a
|   |   |       25e2e21e1e387d261283c1c7e1cdbc1a3073a1
|   |   |       ddf877634f347892c36ab5c92dd3c4123a7114
|   |   |       
|   |   +---20
|   |   |       50ef3ceae57f2a0d4d922fa0430b0028efb2c1
|   |   |       79a8f8a4091037b7601062d07773ecab625b13
|   |   |       
|   |   +---21
|   |   |       447b7c6fc3f3dddddddc825a19ee83b6ff9a49
|   |   |       c62cba13ec265f1032cea04ed613ec3c74ba49
|   |   |       
|   |   +---22
|   |   |       43380be30b9594500ab8a5883f5cebe6768b83
|   |   |       
|   |   +---23
|   |   |       de820544ef4c828a5b1a88e9309a65a4057d31
|   |   |       
|   |   +---24
|   |   |       8673eae0484a1002f2f996c56f8174d42f4a0e
|   |   |       
|   |   +---26
|   |   |       087872ae92a74b7d9e866fac557484576334aa
|   |   |       09b161dc3b755d8a515fdea21a412419c2f377
|   |   |       
|   |   +---28
|   |   |       cc5834443b457947efcf016af961e9acd08add
|   |   |       
|   |   +---2c
|   |   |       dfc56ca38c45de144ee34da18beeacb4f598dd
|   |   |       
|   |   +---2d
|   |   |       b089c49534f11df30c1ab3277d0bb936f5feef
|   |   |       
|   |   +---2f
|   |   |       f92a0fad9a65f7442cf5b78751d2177416b754
|   |   |       
|   |   +---31
|   |   |       d943fd046ea9890a3c877b2da0101ee3c28307
|   |   |       
|   |   +---32
|   |   |       35c93397b479689c9e14a4f3427dda46c3fbd3
|   |   |       45f63502bed56b0d4dccccf2dadc8ec2db0a92
|   |   |       
|   |   +---38
|   |   |       2827514d7057f555462f6d41f538237b282fca
|   |   |       
|   |   +---3b
|   |   |       e90d9fe677f26d8dc30d2e0e74bcda3007e441
|   |   |       
|   |   +---3d
|   |   |       fdba9e5a01661fa0a9817d7721e636abe7b0ff
|   |   |       
|   |   +---3e
|   |   |       51ea14fa69f7cfc3fb4d3bd8e7d05e603f33fb
|   |   |       
|   |   +---3f
|   |   |       c962b0bf955ae37767e320640b6b77fda79eb9
|   |   |       
|   |   +---40
|   |   |       717914a3c02aeabab486b1502b81729ca585a8
|   |   |       
|   |   +---43
|   |   |       99c9367e4609954bc37d8793283c9afc9217ca
|   |   |       
|   |   +---45
|   |   |       40c8b8032264eec1ff4b309af547ad02ae9089
|   |   |       4bfc546d4c773816777a7ac4d153dda2194ada
|   |   |       
|   |   +---48
|   |   |       38fe339b1faa122f7a78842675f35a657c88ba
|   |   |       54afb8c8f1e1fe68dc100ab8b244fa752e7614
|   |   |       
|   |   +---49
|   |   |       3b7d18eff70a99005656de9f70d021daf8f474
|   |   |       
|   |   +---4a
|   |   |       24f878531230a8ce8a1e0989885394bdbf1311
|   |   |       2517f12e9d25fd12a871563a25708587a82793
|   |   |       
|   |   +---4c
|   |   |       5385cd42a244011d07e46fa3352cecce61f16d
|   |   |       
|   |   +---4d
|   |   |       28ff1d8a9d4977d20bb47bb3c519dbd7e062bc
|   |   |       76b3dd69ab07c920ddc7fe445a8ea41db8f125
|   |   |       
|   |   +---4f
|   |   |       5f8fd93dd5e2f83eeb46f7795467c7b9e27468
|   |   |       
|   |   +---51
|   |   |       238880aa9d005f67de4ef701de78f5dd620a58
|   |   |       
|   |   +---54
|   |   |       ca2c7629747f0dac0008d602743646e9309ad1
|   |   |       f9caf36810c7cc2f9526f1a7d1f31875a09c70
|   |   |       fc7f1551c5bf1456df5f787827eb342f83335c
|   |   |       
|   |   +---57
|   |   |       89516cf3dae4663728d8671126c440040b5527
|   |   |       
|   |   +---58
|   |   |       9b17fba13325cdc050d2f685b26aae8633fbb4
|   |   |       c5551bc5bdc957e06f07a59d6c32ec9fc250dd
|   |   |       
|   |   +---59
|   |   |       513c76e6236d7ac56517633d1c55c22f38ca7e
|   |   |       75e5c590bc52ca5a80fd2cf2ec912920b8e2fa
|   |   |       
|   |   +---5a
|   |   |       521d46c4db1dca34e3d5ba862ed346b0f66b34
|   |   |       728942f5ecb2b8434f1a5761c4922db0ff8c3a
|   |   |       
|   |   +---5e
|   |   |       29cec10cbd4ee250fc15e9091e46877927c191
|   |   |       ad33b63f2580c8ec8fc0401662cb8aed9c3514
|   |   |       
|   |   +---60
|   |   |       0f12a4ac06323f732f1be280fafc59d09c4adb
|   |   |       
|   |   +---63
|   |   |       493de5a9fae4b888554541066700abb3b2dcfc
|   |   |       8c47695b1738f7ee4fec8d6239d2f7b32125a1
|   |   |       d9dcba5abcb9727d9294511cac03e19c6d6cf7
|   |   |       
|   |   +---65
|   |   |       8f945bb52d20e25c405a1cc02da81a2bd3c665
|   |   |       
|   |   +---67
|   |   |       aabbe4216887019bc29b3523d334065c274b0a
|   |   |       baa7892b69191f6861d5aa563cf45e01358855
|   |   |       
|   |   +---69
|   |   |       03231144670bdea7d9dec2a8f5d6953c75e2ae
|   |   |       
|   |   +---6a
|   |   |       b5132268bbed9d42a116a368aa494c18eff799
|   |   |       
|   |   +---6b
|   |   |       48c159953c5e8d0b432ab967910d1b47babe4b
|   |   |       
|   |   +---6c
|   |   |       15161657ab915b093449e0021454aa334a1963
|   |   |       
|   |   +---6d
|   |   |       aab09e86445b19661c0bce48a2cf4e2b7da33e
|   |   |       
|   |   +---70
|   |   |       a52b83dd644cd9efdf7a2f209489f829a89744
|   |   |       
|   |   +---71
|   |   |       e86813017511646d70fa10ca4f44bece2839e6
|   |   |       
|   |   +---72
|   |   |       8231b63926e9f4638b5347f9336eacb8a09ae7
|   |   |       
|   |   +---73
|   |   |       f6fc4116ffddbf02b08c4be550261cb1dbca73
|   |   |       
|   |   +---74
|   |   |       3504cf8e31a674ff6c894cae3440289a9e43fc
|   |   |       79438a0a3294caa7588bed3f894a9bf0791b4c
|   |   |       
|   |   +---75
|   |   |       cf7e7ebb9c510373794398421c61b54d05a0e1
|   |   |       
|   |   +---76
|   |   |       aa0c9e15ffbb8d53cb60cc6e8db31b68bf4211
|   |   |       
|   |   +---78
|   |   |       9e71caf3bdcd1b998d4f43889d40dcbed9fd8b
|   |   |       
|   |   +---7d
|   |   |       690652a5cc5ab049502ee2085e59343f1ab32f
|   |   |       a05032630836e2a8c2ab9ca74abfc160483130
|   |   |       
|   |   +---7e
|   |   |       18ffac1310028bf674b8419655799d15c6eadd
|   |   |       
|   |   +---81
|   |   |       903f2074da26480771a22d4e50ecaba17bd319
|   |   |       
|   |   +---85
|   |   |       1ddb774e676b07d54a0c4bd0bf3a4e8949e2d2
|   |   |       
|   |   +---8a
|   |   |       29d0855f44cbe0c232d71964e9da2dc601b682
|   |   |       
|   |   +---8b
|   |   |       a05dc1b6f6d89cc29cbd2ed014750de26fe342
|   |   |       f4b2f9469b57e9991be75be33decf244e3b22b
|   |   |       
|   |   +---8d
|   |   |       b4cf5f854afff1e99aaeadd1871d41aefbb0ba
|   |   |       
|   |   +---91
|   |   |       4bc5fb781acd8efaed7b2acabec052a91c0266
|   |   |       
|   |   +---92
|   |   |       a124c61d640ffca39179dcfb12cbef62b35168
|   |   |       c738e5ec355145054f327fe4a49feef6104eb5
|   |   |       d563d70882cfcf69b258c1f07052798fb2f18c
|   |   |       
|   |   +---93
|   |   |       395797400608907f699bfc9f8bf4cd35bf4dc3
|   |   |       
|   |   +---94
|   |   |       e77e10eae22d74e806cc5b24751bcc41a7d194
|   |   |       f814a3c657971110fdcf544b2abd14aa1939a9
|   |   |       
|   |   +---95
|   |   |       c1f51250ba52079f2d1d31f1be2c736785a5fb
|   |   |       
|   |   +---96
|   |   |       e9f4b2271ed812f97667b604903a21e6f71ec3
|   |   |       
|   |   +---97
|   |   |       159b9dc9d738e6eb66dd90ef8dfaaae37b32ab
|   |   |       
|   |   +---99
|   |   |       0c24e1a230153a34d361d2985b170bf8abe0e3
|   |   |       14156331c8c875dece1a35ab9f210544c95f2e
|   |   |       
|   |   +---9a
|   |   |       5335fcc9018c63da70a788e43a98aefcb66840
|   |   |       
|   |   +---9b
|   |   |       35ebbd48151e1c39c68de8e69e2482ebbcd9c4
|   |   |       
|   |   +---9c
|   |   |       adb6d7febe11d681bad5baa265f8c4f82dbbc3
|   |   |       
|   |   +---9e
|   |   |       cde057c914d1b8e95c772ae6c393271c51c03c
|   |   |       
|   |   +---a0
|   |   |       1dee2fc3f3e279af69b5d2f166852b0d1660d9
|   |   |       
|   |   +---a1
|   |   |       fd3bb6c8ef07977f5d2051f29a38f46f232b8a
|   |   |       
|   |   +---a5
|   |   |       6bb0f4e321cb9209ff6b167a067c3e55c35c3e
|   |   |       
|   |   +---a7
|   |   |       2bf4efe2dd4d50a20ea57e6a7fdcc81ddcbc3e
|   |   |       35352b259ec95424247f146aa79191cd6bc519
|   |   |       f2780abb687f84a77abafd299c38fc7b68837d
|   |   |       
|   |   +---a9
|   |   |       b3783eb7ca6ec79601caa430662a9be01f1c67
|   |   |       
|   |   +---ab
|   |   |       eda14536f6fdc566259ba2f7b1f320cb6047db
|   |   |       
|   |   +---ac
|   |   |       a2218e676b8d22455045164ff818783eb3e052
|   |   |       
|   |   +---ae
|   |   |       0694fd0ea896243d252efead74c1020dd9670b
|   |   |       a5ebd1e340bfee0d2bd376a0639980117a553e
|   |   |       d249691ee5addfe5249cf3b828fd6ca2333cd1
|   |   |       
|   |   +---af
|   |   |       0f4daaf5f2c09426bcd34498af32c536f5124f
|   |   |       56f9e269c814a0a89a15b5c65124b9e4754daa
|   |   |       bd04d57246f2b149b80d6811247cde1fdb7563
|   |   |       
|   |   +---b1
|   |   |       a523b35a8d4d8995a3211bc6aca522ed079c54
|   |   |       
|   |   +---b2
|   |   |       9c176424a2944d8876361ddb215e2d5007e6bb
|   |   |       b1615c890722144fa62b03b9e31901a92f339b
|   |   |       ff890621080d24a70650591932312b32ba56ed
|   |   |       
|   |   +---b6
|   |   |       0125977be3637ffe2b9266a01445627289932d
|   |   |       
|   |   +---b7
|   |   |       ba75af659de07d3fba5e1b4db12cb5ad25f2a0
|   |   |       
|   |   +---b8
|   |   |       8225ad4e7f0ffddb0d283ba41f04c4dd755f5b
|   |   |       
|   |   +---ba
|   |   |       a71ebe7014fb5b9ccfe791a3a35b424ea3d401
|   |   |       
|   |   +---c1
|   |   |       9290e820cf9db6911ba9d001bedbe50dbc699a
|   |   |       
|   |   +---c2
|   |   |       3a9ac85b3b75c1b3c9961ca2455bcee12fbeeb
|   |   |       cbd31496e83f88177065c0246c8f872cedf307
|   |   |       
|   |   +---c3
|   |   |       120856221d60c2e228e197f204c62746473bc0
|   |   |       
|   |   +---c4
|   |   |       3bfb885a85f34d54758f8108a56e3bc448fc47
|   |   |       7b50181ccaa22a146250fba7e6467dc1ebc3e4
|   |   |       
|   |   +---c5
|   |   |       801b1c73c8e3fa3161fba703d31297515f79ae
|   |   |       e6c3ee85b8e6ae7a3ad8d17ba1a68fdfef2cf8
|   |   |       
|   |   +---c9
|   |   |       659c9c4eb3dfa7556f7668216a167f6490e52d
|   |   |       
|   |   +---cc
|   |   |       73ef0d1417902d2e1d05ea61cba018590ba198
|   |   |       8918fba068b4b86f69de50f6f27d5843f16c01
|   |   |       a3e2fe7354124c317de72f0a9abe63ec489a8e
|   |   |       
|   |   +---cf
|   |   |       4b73467974a3a085bda04359a03488a472d401
|   |   |       a78f513c207b7bafebd52524113f8356c300a2
|   |   |       
|   |   +---d0
|   |   |       20c38974ca69bc045c722306a7c8d56bf8a76e
|   |   |       2b5984a5637e04ccafdf3c089ccb00cd5f82e7
|   |   |       5c1b328a55e73a698318a8621928295fedb2f6
|   |   |       fefba45b23ff7d43f2a77d38acd6bee5eb44f7
|   |   |       
|   |   +---d1
|   |   |       9188c94853ba9c4806ddc497da1bd941d87591
|   |   |       
|   |   +---d2
|   |   |       65e6ca71a34169f0e1368b61292a2b220f14e9
|   |   |       
|   |   +---d3
|   |   |       71e46030b317b6f77893e62404212017fb1800
|   |   |       f0bf2a6611894af8ea66c78a85b9122e81e4c3
|   |   |       
|   |   +---d5
|   |   |       66ab3c25a9fcda5b20a4f3999c417d41b83ac4
|   |   |       b221bb411aec22b07f0cdca63e260c24bc65fa
|   |   |       
|   |   +---d7
|   |   |       2fca8d208fdd6b20762e7912a07757953fe761
|   |   |       
|   |   +---d8
|   |   |       df7a6000ab320bf992e5365c6cf39b5a2b9c3e
|   |   |       
|   |   +---da
|   |   |       3127156fb0993efb1e03023a2f5b051713000c
|   |   |       698ef7dd748dbe4c4ddc2d86c5ba712865963c
|   |   |       9b6573d4587ed13765d20b9f6f4001c7d91885
|   |   |       ea012a2e862fa3c95cfd3aeff9bebba75b9cab
|   |   |       
|   |   +---dc
|   |   |       bd65fe41ee5c4256744e696acfc284268f06d4
|   |   |       
|   |   +---dd
|   |   |       49b517428a5823bcc22b5d7fab77ce8bc6c31c
|   |   |       
|   |   +---e3
|   |   |       8c4ea37bf652f0c844a3ca1e5bbf169b52f13e
|   |   |       93822242d86449eb1b3716248ceb0822b1c270
|   |   |       a99f149e5fcd04341fee69c6643690dafe1a53
|   |   |       
|   |   +---e4
|   |   |       7a11bb6033fa1242dac152ad02ca6f5d84ca1e
|   |   |       
|   |   +---e5
|   |   |       8ec11e9dfe404d28302924be493943639cfc6d
|   |   |       
|   |   +---e6
|   |   |       04f1c2201d82d17bfa364a03e2b244b8f15dab
|   |   |       9de29bb2d1d6434b8b29ae775ad8c2e48c5391
|   |   |       
|   |   +---e7
|   |   |       5ea86799d91c0afc9385dac56f31f12af2fe1f
|   |   |       
|   |   +---e9
|   |   |       665b87bd1d2dc892af081d519bc5210320364c
|   |   |       
|   |   +---eb
|   |   |       01b36b91ab82cd3e91bee2001feea8b87e3aee
|   |   |       
|   |   +---ed
|   |   |       e3875b380c3c5b4b579e84f11e5820c9c70d6d
|   |   |       
|   |   +---ee
|   |   |       5bcdbee450b542a88d09b4b4fc09d06e33c870
|   |   |       9d8d01c24401fafc79f4baf82703692ecccdaf
|   |   |       f2dd6b34f9587b0d9cfa40f123ae9d82546723
|   |   |       
|   |   +---f0
|   |   |       780c1416f26a8abb9c1f13dcd238876e381547
|   |   |       
|   |   +---f3
|   |   |       9383f2dc3ecfcb3e6066588221e10c3d46525a
|   |   |       
|   |   +---f4
|   |   |       32f89014237068c7546d450e74d01234f39716
|   |   |       
|   |   +---f5
|   |   |       15dd5666bb2e3d8bffad25e9579f3ec705f028
|   |   |       4c9c1856970245844d69ee887a3702f348221c
|   |   |       
|   |   +---f8
|   |   |       27c014a612e79c028087405bc085fcfabb805e
|   |   |       
|   |   +---f9
|   |   |       99bd91e714c987ac030ebb1106f8200e6a70d9
|   |   |       
|   |   +---fb
|   |   |       ee7a43bd505d4a77ba1cbf2389a7a5cd0e8d5f
|   |   |       
|   |   +---fc
|   |   |       620c41850e0224124b5102ee79324a0dae9756
|   |   |       8a367550ca722cd2f676ae6cdd8d0bd8f1a1a6
|   |   |       a0137ddb03272f272812b522ac6d538ec49daa
|   |   |       
|   |   +---fe
|   |   |       8566ee77597abc1380e70cd48b45ea2c84abe3
|   |   |       8dccf4bdd5778196a9a83e770ba640cb6aa2f7
|   |   |       
|   |   +---info
|   |   \---pack
|   \---refs
|       +---heads
|       |       main
|       |       
|       +---remotes
|       |   \---origin
|       |           main
|       |           
|       \---tags
+---assets
|   +---css
|   |       components.css
|   |       global.css
|   |       homepage.css
|   |       layout.css
|   |       page.css
|   |       variables.css
|   |       
|   \---js
|           admin-media-uploader.js
|           banner-slider.js
|           filter.js
|           flip-card.js
|           main.js
|           
+---inc
|   +---admin
|   |       admin-setup.php
|   |       
|   +---ajax
|   |       filter-handler.php
|   |       
|   +---helpers
|   |       deal-helpers.php
|   |       template-helpers.php
|   |       utilities.php
|   |       
|   +---meta-boxes
|   |       banner-meta.php
|   |       deal-meta.php
|   |       giveaway-meta.php
|   |       step-meta.php
|   |       
|   +---post-types
|   |       deals.php
|   |       giveaways.php
|   |       hero-banners.php
|   |       money-earning.php
|   |       work-steps.php
|   |       
|   +---queries
|   |       archive-sorting.php
|   |       deal-queries.php
|   |       
|   +---setup
|   |       enqueue-assets.php
|   |       theme-config.php
|   |       
|   \---taxonomies
|           campaigns.php
|           deal-categories.php
|           deal-types.php
|           stores.php
|           term-meta.php
|           
\---template-parts
        deal-card.php
        filter-sidebar.php
        
 
=== PROJECT FILE CONTENTS === 
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\404.php === 
<?php
if (!defined('ABSPATH')) exit; // Exit if accessed directly

get_header(); 
?>

<div class="container">
    <div class="error-404-container">
        <h1 class="error-title">404</h1>
        <h2>Oops! Page Not Found</h2>
        <p>The page you're looking for doesn't exist or has been moved.</p>
        
        <div class="error-actions">
            <a href="<?php echo esc_url(home_url('/')); ?>" class="btn btn-primary">← Back to Homepage</a>
            
            <div class="error-search">
                <p>Or search for deals:</p>
                <form role="search" method="get" action="<?php echo esc_url(home_url('/')); ?>">
                    <input type="search" 
                           name="s" 
                           placeholder="Search deals..." 
                           class="search-input">
                    <button type="submit" class="btn btn-secondary">🔍 Search</button>
                </form>
            </div>
        </div>
        
        <div class="popular-categories">
            <h3>Browse Popular Categories:</h3>
            <div class="category-filters">
                <?php
                $categories = get_terms(array(
                    'taxonomy' => 'deal_category',
                    'hide_empty' => true,
                    'number'     => 6,
                    'orderby'    => 'count',
                    'order'      => 'DESC'
                ));
                
                if ($categories && !is_wp_error($categories)) :
                    foreach ($categories as $category) : ?>
                        <a href="<?php echo esc_url(get_term_link($category)); ?>" class="btn btn-tag">
                            <?php echo esc_html($category->name); ?>
                        </a>
                    <?php endforeach;
                endif; ?>
            </div>
        </div>
    </div>
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\archive.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Archive Template - Enhanced "Every Page is a Homepage" Architecture
 * 
 * @package ARRZONE
 * @version 7.2 - Fixed Hero Background Images
 */


get_header();


// Detect page type
$page_type = 'deals_archive';
$current_term = null;
$term_name = '';
$term_description = '';
$term_meta = array();


if (is_tax('campaign')) {
    $page_type = 'campaign';
    $current_term = get_queried_object();
    $term_name = $current_term->name;
    $term_description = term_description($current_term->term_id);
    
    $term_meta['icon'] = get_term_meta($current_term->term_id, 'campaign_icon', true);
    $term_meta['banner_id'] = get_term_meta($current_term->term_id, 'campaign_banner_id', true);
    $term_meta['banner_url'] = $term_meta['banner_id'] ? wp_get_attachment_url($term_meta['banner_id']) : '';
    $term_meta['color'] = get_term_meta($current_term->term_id, 'campaign_color', true);
    $term_meta['start_date'] = get_term_meta($current_term->term_id, 'campaign_start_date', true);
    $term_meta['end_date'] = get_term_meta($current_term->term_id, 'campaign_end_date', true);
    $term_meta['tagline'] = get_term_meta($current_term->term_id, 'campaign_tagline', true);
    $term_meta['is_featured'] = get_term_meta($current_term->term_id, 'campaign_is_featured', true);
    
    $today = current_time('Y-m-d');
    $term_meta['status'] = 'Active';
    if ($term_meta['start_date'] && $today < $term_meta['start_date']) {
        $term_meta['status'] = 'Upcoming';
    } elseif ($term_meta['end_date'] && $today > $term_meta['end_date']) {
        $term_meta['status'] = 'Expired';
    }
    
} elseif (is_tax('deal-category')) {
    $page_type = 'category';
    $current_term = get_queried_object();
    $term_name = $current_term->name;
    $term_description = term_description($current_term->term_id);
    
    $term_meta['icon'] = get_term_meta($current_term->term_id, 'category_icon', true);
    $term_meta['icon_image_id'] = get_term_meta($current_term->term_id, 'category_icon_image_id', true);
    $term_meta['icon_image_url'] = $term_meta['icon_image_id'] ? wp_get_attachment_url($term_meta['icon_image_id']) : '';
    $term_meta['color'] = get_term_meta($current_term->term_id, 'category_color', true);
    $term_meta['banner_id'] = get_term_meta($current_term->term_id, 'category_banner_id', true);
    $term_meta['banner_url'] = $term_meta['banner_id'] ? wp_get_attachment_url($term_meta['banner_id']) : '';
    $term_meta['is_featured'] = get_term_meta($current_term->term_id, 'category_is_featured', true);
    $term_meta['featured_deals'] = get_term_meta($current_term->term_id, 'category_featured_deals', true);
    $term_meta['bg_gradient'] = get_term_meta($current_term->term_id, 'category_bg_gradient', true);
    
} elseif (is_tax('store')) {
    $page_type = 'store';
    $current_term = get_queried_object();
    $term_name = $current_term->name;
    $term_description = term_description($current_term->term_id);
    
    $term_meta['logo_id'] = get_term_meta($current_term->term_id, 'store_logo_id', true);
    $term_meta['logo_url'] = $term_meta['logo_id'] ? wp_get_attachment_url($term_meta['logo_id']) : '';
    $term_meta['banner_id'] = get_term_meta($current_term->term_id, 'store_banner_id', true);
    $term_meta['banner_url'] = $term_meta['banner_id'] ? wp_get_attachment_url($term_meta['banner_id']) : '';
    $term_meta['cashback'] = get_term_meta($current_term->term_id, 'store_cashback', true);
    $term_meta['is_featured'] = get_term_meta($current_term->term_id, 'store_is_featured', true);
    $term_meta['website_url'] = get_term_meta($current_term->term_id, 'store_website_url', true);
    $term_meta['bg_color'] = get_term_meta($current_term->term_id, 'store_bg_color', true);
    $term_meta['featured_deals'] = get_term_meta($current_term->term_id, 'store_featured_deals', true);
    
} elseif (is_tax('deal-type')) {
    $page_type = 'dealtype';
    $current_term = get_queried_object();
    $term_name = $current_term->name;
    $term_description = term_description($current_term->term_id);
    
    $term_meta['icon'] = get_term_meta($current_term->term_id, 'dealtype_icon', true);
    $term_meta['icon_image_id'] = get_term_meta($current_term->term_id, 'dealtype_icon_image_id', true);
    $term_meta['icon_image_url'] = $term_meta['icon_image_id'] ? wp_get_attachment_url($term_meta['icon_image_id']) : '';
    $term_meta['color'] = get_term_meta($current_term->term_id, 'dealtype_color', true);
    $term_meta['banner_id'] = get_term_meta($current_term->term_id, 'dealtype_banner_id', true);
    $term_meta['banner_url'] = $term_meta['banner_id'] ? wp_get_attachment_url($term_meta['banner_id']) : '';
    $term_meta['featured_deals'] = get_term_meta($current_term->term_id, 'dealtype_featured_deals', true);
    $term_meta['bg_gradient'] = get_term_meta($current_term->term_id, 'dealtype_bg_gradient', true);
}


global $wp_query;
$total_deals = $wp_query->found_posts;


?>


<div class="archive-deals <?php echo esc_attr($page_type); ?>-page">


<?php
// Hero Sections
if ($page_type === 'campaign') :
?>
    <section class="campaign-hero-section campaign-status-<?php echo esc_attr(strtolower($term_meta['status'])); ?>">
        <?php if (!empty($term_meta['banner_url'])) : ?>
            <div class="hero-bg-image hero-bg-<?php echo esc_attr($page_type); ?>" style="background-image: url('<?php echo esc_url($term_meta['banner_url']); ?>');"></div>
        <?php endif; ?>
        
        <div class="container">
            <div class="campaign-hero-content">
                <div class="campaign-status-badge campaign-<?php echo esc_attr(strtolower($term_meta['status'])); ?>">
                    <?php 
                    if ($term_meta['status'] === 'Active') {
                        echo '🟢 ' . esc_html__('Live Now', 'dealsindia');
                    } elseif ($term_meta['status'] === 'Upcoming') {
                        echo '🟡 ' . esc_html__('Coming Soon', 'dealsindia');
                    } else {
                        echo '🔴 ' . esc_html__('Ended', 'dealsindia');
                    }
                    ?>
                </div>
                
                <div class="campaign-header">
                    <?php if (!empty($term_meta['icon'])) : ?>
                        <div class="campaign-icon-large"><?php echo esc_html($term_meta['icon']); ?></div>
                    <?php endif; ?>
                    <h1 class="campaign-hero-title"><?php echo esc_html($term_name); ?></h1>
                </div>
                
                <?php if (!empty($term_meta['tagline'])) : ?>
                    <p class="campaign-tagline"><?php echo esc_html($term_meta['tagline']); ?></p>
                <?php endif; ?>
                
                <?php if ($term_description) : ?>
                    <div class="campaign-description"><?php echo wp_kses_post($term_description); ?></div>
                <?php endif; ?>
                
                <div class="campaign-hero-meta">
                    <div class="hero-stat">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke-width="2"/><line x1="16" y1="2" x2="16" y2="6" stroke-width="2"/><line x1="8" y1="2" x2="8" y2="6" stroke-width="2"/><line x1="3" y1="10" x2="21" y2="10" stroke-width="2"/></svg>
                        <strong><?php echo number_format($total_deals); ?></strong>
                        <?php echo $total_deals == 1 ? esc_html__('Deal', 'dealsindia') : esc_html__('Deals', 'dealsindia'); ?>
                    </div>
                    
                    <?php if (!empty($term_meta['start_date']) && !empty($term_meta['end_date'])) : ?>
                        <div class="hero-stat campaign-dates">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke-width="2"/><polyline points="12 6 12 12 16 14" stroke-width="2"/></svg>
                            <?php 
                            if ($term_meta['status'] === 'Active') {
                                echo esc_html__('Ends: ', 'dealsindia') . date_i18n('M d, Y', strtotime($term_meta['end_date']));
                            } elseif ($term_meta['status'] === 'Upcoming') {
                                echo esc_html__('Starts: ', 'dealsindia') . date_i18n('M d, Y', strtotime($term_meta['start_date']));
                            } else {
                                echo esc_html__('Ended: ', 'dealsindia') . date_i18n('M d, Y', strtotime($term_meta['end_date']));
                            }
                            ?>
                        </div>
                    <?php endif; ?>
                </div>
            </div>
        </div>
    </section>


<?php elseif ($page_type === 'store') : ?>
    <section class="store-hero-section" <?php if (!empty($term_meta['bg_color'])) : ?>style="background: <?php echo esc_attr($term_meta['bg_color']); ?>;"<?php endif; ?>>
        <?php if (!empty($term_meta['banner_url'])) : ?>
            <div class="hero-bg-image hero-bg-<?php echo esc_attr($page_type); ?>" style="background-image: url('<?php echo esc_url($term_meta['banner_url']); ?>');"></div>
        <?php endif; ?>
        <div class="container">
            <div class="store-hero-content">
                <?php if (!empty($term_meta['logo_url'])) : ?>
                    <div class="store-logo-hero">
                        <img src="<?php echo esc_url($term_meta['logo_url']); ?>" alt="<?php echo esc_attr($term_name); ?>" loading="eager">
                    </div>
                <?php endif; ?>
                <h1 class="store-hero-title"><?php echo esc_html($term_name); ?></h1>
                <?php if ($term_description) : ?>
                    <p class="store-hero-description"><?php echo wp_kses_post($term_description); ?></p>
                <?php endif; ?>
                <div class="store-hero-meta">
                    <div class="hero-stat">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 16V8a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z" stroke-width="2"/><polyline points="7 10 12 14 17 10" stroke-width="2"/></svg>
                        <strong><?php echo number_format($total_deals); ?></strong>
                        <?php echo $total_deals == 1 ? esc_html__('Deal', 'dealsindia') : esc_html__('Deals', 'dealsindia'); ?>
                    </div>
                    <?php if (!empty($term_meta['cashback'])) : ?>
                        <div class="hero-stat hero-cashback">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><line x1="12" y1="1" x2="12" y2="23" stroke-width="2"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke-width="2"/></svg>
                            <?php echo esc_html($term_meta['cashback']); ?>
                        </div>
                    <?php endif; ?>
                    <?php if (!empty($term_meta['website_url'])) : ?>
                        <a href="<?php echo esc_url($term_meta['website_url']); ?>" target="_blank" rel="nofollow noopener" class="hero-store-link">
                            <?php esc_html_e('Visit Store', 'dealsindia'); ?>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" stroke-width="2"/><polyline points="15 3 21 3 21 9" stroke-width="2"/><line x1="10" y1="14" x2="21" y2="3" stroke-width="2"/></svg>
                        </a>
                    <?php endif; ?>
                </div>
            </div>
        </div>
    </section>


<?php elseif ($page_type === 'category') : ?>
    <section class="category-hero-section">
        <?php if (!empty($term_meta['banner_url'])) : ?>
            <div class="hero-bg-image hero-bg-<?php echo esc_attr($page_type); ?>" style="background-image: url('<?php echo esc_url($term_meta['banner_url']); ?>');"></div>
        <?php endif; ?>
        <div class="container">
            <div class="category-hero-content">
                <?php if (!empty($term_meta['icon_image_url'])) : ?>
                    <div class="category-icon-hero">
                        <img src="<?php echo esc_url($term_meta['icon_image_url']); ?>" alt="<?php echo esc_attr($term_name); ?>">
                    </div>
                <?php elseif (!empty($term_meta['icon'])) : ?>
                    <div class="category-emoji-hero"><?php echo esc_html($term_meta['icon']); ?></div>
                <?php endif; ?>
                <h1 class="category-hero-title"><?php echo esc_html($term_name); ?></h1>
                <?php if ($term_description) : ?>
                    <p class="category-hero-description"><?php echo wp_kses_post($term_description); ?></p>
                <?php endif; ?>
                <div class="category-hero-stats">
                    <div class="hero-stat-box">
                        <strong><?php echo number_format($total_deals); ?></strong>
                        <span><?php echo $total_deals == 1 ? esc_html__('Deal', 'dealsindia') : esc_html__('Deals', 'dealsindia'); ?></span>
                    </div>
                </div>
            </div>
        </div>
    </section>


<?php elseif ($page_type === 'dealtype') : ?>
    <section class="dealtype-hero-section">
        <?php if (!empty($term_meta['banner_url'])) : ?>
            <div class="hero-bg-image hero-bg-<?php echo esc_attr($page_type); ?>" style="background-image: url('<?php echo esc_url($term_meta['banner_url']); ?>');"></div>
        <?php endif; ?>
        <div class="container">
            <div class="dealtype-hero-content">
                <?php if (!empty($term_meta['icon_image_url'])) : ?>
                    <div class="dealtype-icon-hero">
                        <img src="<?php echo esc_url($term_meta['icon_image_url']); ?>" alt="<?php echo esc_attr($term_name); ?>">
                    </div>
                <?php elseif (!empty($term_meta['icon'])) : ?>
                    <div class="dealtype-emoji-hero"><?php echo esc_html($term_meta['icon']); ?></div>
                <?php endif; ?>
                <h1 class="dealtype-hero-title"><?php echo esc_html($term_name); ?></h1>
                <?php if ($term_description) : ?>
                    <p class="dealtype-hero-description"><?php echo wp_kses_post($term_description); ?></p>
                <?php endif; ?>
                <div class="dealtype-hero-stats">
                    <div class="hero-stat-box">
                        <strong><?php echo number_format($total_deals); ?></strong>
                        <span><?php echo esc_html__('Available', 'dealsindia'); ?></span>
                    </div>
                </div>
            </div>
        </div>
    </section>
<?php endif; ?>


<?php
// Featured Deals Section
if (($page_type === 'store' || $page_type === 'category' || $page_type === 'dealtype') && !empty($term_meta['featured_deals'])) :
    $featured_deal_ids = array_map('trim', explode(',', $term_meta['featured_deals']));
    $featured_deal_ids = array_filter($featured_deal_ids, 'is_numeric');
    
    if (!empty($featured_deal_ids)) :
        $featured_query = new WP_Query(array(
            'post_type' => 'deals',
            'post__in' => $featured_deal_ids,
            'orderby' => 'post__in',
            'posts_per_page' => count($featured_deal_ids),
            'post_status' => 'publish'
        ));
        
        if ($featured_query->have_posts()) :
?>
<section class="featured-deals-section">
    <div class="container">
        <div class="section-header-inline">
            <h2><?php printf(esc_html__('Featured %s Deals', 'dealsindia'), esc_html($term_name)); ?></h2>
        </div>
        <div class="deals-scroll-wrapper">
            <div class="deals-scroll">
                <?php while ($featured_query->have_posts()) : $featured_query->the_post(); ?>
                    <?php get_template_part('template-parts/deal-card'); ?>
                <?php endwhile; ?>
            </div>
        </div>
    </div>
</section>
<?php
        wp_reset_postdata();
        endif;
    endif;
endif;
?>


<div class="container">
    <div class="archive-breadcrumb">
        <?php dealsindia_breadcrumb(); ?>
    </div>
</div>


<!-- HORIZONTAL FILTERS (FULL WIDTH) -->
<?php 
set_query_var('show_horizontal_only', true);
get_template_part('template-parts/filter-sidebar');
set_query_var('show_horizontal_only', false);
?>


<div class="container">
    <div class="archive-layout">
        
        <aside class="archive-sidebar" id="dealFiltersSidebar">

            <?php 
            set_query_var('show_sidebar_only', true);
            get_template_part('template-parts/filter-sidebar');
            set_query_var('show_sidebar_only', false);
            ?>
        </aside>
        
        <div class="archive-content">
            
            <?php if ($page_type === 'deals_archive') : ?>
                <div class="archive-header-simple">
                    <h1 class="archive-title"><?php esc_html_e('All Deals', 'dealsindia'); ?></h1>
                    <p class="archive-count"><?php echo number_format($total_deals); ?> <?php echo $total_deals == 1 ? esc_html__('deal', 'dealsindia') : esc_html__('deals', 'dealsindia'); ?> <?php esc_html_e('available', 'dealsindia'); ?></p>
                </div>
            <?php else : ?>
                <div class="archive-header-simple">
                    <p class="archive-count"><?php echo number_format($total_deals); ?> <?php echo $total_deals == 1 ? esc_html__('deal found', 'dealsindia') : esc_html__('deals found', 'dealsindia'); ?></p>
                </div>
            <?php endif; ?>
            
            <div class="deals-grid" id="dealsGridContainer">
                <?php if (have_posts()) : ?>
                    <?php while (have_posts()) : the_post(); ?>
                        <?php get_template_part('template-parts/deal-card'); ?>
                    <?php endwhile; ?>
                <?php else : ?>
                    <div class="no-deals-message">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <line x1="15" y1="9" x2="9" y2="15" stroke-width="2"/>
                            <line x1="9" y1="9" x2="15" y2="15" stroke-width="2"/>
                        </svg>
                        <h3><?php esc_html_e('No Deals Found', 'dealsindia'); ?></h3>
                        <p><?php esc_html_e('We couldn\'t find any deals at the moment. Check back soon!', 'dealsindia'); ?></p>
                        <a href="<?php echo esc_url(home_url('/')); ?>" class="btn btn-primary"><?php esc_html_e('Back to Homepage', 'dealsindia'); ?></a>
                    </div>
                <?php endif; ?>
            </div>
            
            <?php if ($wp_query->max_num_pages > 1) : ?>
                <div class="archive-pagination">
                    <?php dealsindia_pagination(); ?>
                </div>
            <?php endif; ?>
            
        </div>
        
    </div>
    
    <?php
    // Browse Sections
    if ($page_type === 'store' || $page_type === 'dealtype' || $page_type === 'campaign') :
        $browse_categories = get_terms(array(
            'taxonomy' => 'deal-category',
            'hide_empty' => true,
            'number' => 12,
            'orderby' => 'count',
            'order' => 'DESC'
        ));
        
        if (!is_wp_error($browse_categories) && count($browse_categories) > 0) :
    ?>
    <section class="browse-section browse-categories">
        <div class="section-header">
            <h2>
                <?php 
                if ($page_type === 'store') {
                    printf(esc_html__('Browse %s by Category', 'dealsindia'), esc_html($term_name));
                } elseif ($page_type === 'campaign') {
                    printf(esc_html__('%s Deals by Category', 'dealsindia'), esc_html($term_name));
                } else {
                    esc_html_e('Browse by Category', 'dealsindia');
                }
                ?>
            </h2>
        </div>
        <div class="browse-grid">
            <?php foreach ($browse_categories as $category) : 
                $icon = get_term_meta($category->term_id, 'category_icon', true);
                $icon_image_id = get_term_meta($category->term_id, 'category_icon_image_id', true);
                $icon_image_url = $icon_image_id ? wp_get_attachment_url($icon_image_id) : '';
                $category_link = get_term_link($category);
            ?>
                <a href="<?php echo esc_url($category_link); ?>" class="browse-card">
                    <div class="browse-icon">
                        <?php if ($icon_image_url) : ?>
                            <img src="<?php echo esc_url($icon_image_url); ?>" alt="<?php echo esc_attr($category->name); ?>">
                        <?php elseif ($icon) : ?>
                            <span class="browse-emoji"><?php echo esc_html($icon); ?></span>
                        <?php endif; ?>
                    </div>
                    <h3 class="browse-name"><?php echo esc_html($category->name); ?></h3>
                    <span class="browse-count"><?php echo number_format($category->count); ?> <?php echo $category->count == 1 ? esc_html__('deal', 'dealsindia') : esc_html__('deals', 'dealsindia'); ?></span>
                </a>
            <?php endforeach; ?>
        </div>
    </section>
    <?php 
        endif;
    endif;
    
    if ($page_type === 'category' || $page_type === 'dealtype' || $page_type === 'campaign' || $page_type === 'deals_archive') :
        $browse_stores = get_terms(array(
            'taxonomy' => 'store',
            'hide_empty' => true,
            'number' => 12,
            'orderby' => 'count',
            'order' => 'DESC'
        ));
        
        if (!is_wp_error($browse_stores) && count($browse_stores) > 0) :
    ?>
    <section class="browse-section browse-stores">
        <div class="section-header">
            <h2>
                <?php 
                if ($page_type === 'category') {
                    printf(esc_html__('Top Stores for %s', 'dealsindia'), esc_html($term_name));
                } elseif ($page_type === 'dealtype') {
                    printf(esc_html__('Top Stores for %s', 'dealsindia'), esc_html($term_name));
                } elseif ($page_type === 'campaign') {
                    printf(esc_html__('Top Stores in %s', 'dealsindia'), esc_html($term_name));
                } else {
                    esc_html_e('Browse by Store', 'dealsindia');
                }
                ?>
            </h2>
        </div>
        <div class="browse-grid">
            <?php foreach ($browse_stores as $store) : 
                $logo_id = get_term_meta($store->term_id, 'store_logo_id', true);
                $logo_url = $logo_id ? wp_get_attachment_url($logo_id) : '';
                $cashback = get_term_meta($store->term_id, 'store_cashback', true);
                $store_link = get_term_link($store);
            ?>
                <a href="<?php echo esc_url($store_link); ?>" class="browse-card browse-store">
                    <?php if ($logo_url) : ?>
                        <div class="browse-store-logo">
                            <img src="<?php echo esc_url($logo_url); ?>" alt="<?php echo esc_attr($store->name); ?>">
                        </div>
                    <?php else : ?>
                        <div class="browse-store-fallback">
                            <?php echo esc_html(strtoupper(substr($store->name, 0, 2))); ?>
                        </div>
                    <?php endif; ?>
                    <h3 class="browse-name"><?php echo esc_html($store->name); ?></h3>
                    <div class="browse-meta">
                        <span class="browse-count"><?php echo number_format($store->count); ?> <?php echo $store->count == 1 ? esc_html__('deal', 'dealsindia') : esc_html__('deals', 'dealsindia'); ?></span>
                        <?php if ($cashback) : ?>
                            <span class="browse-cashback"><?php echo esc_html($cashback); ?></span>
                        <?php endif; ?>
                    </div>
                </a>
            <?php endforeach; ?>
        </div>
    </section>
    <?php 
        endif;
    endif;
    ?>
    
</div>


</div>


<button class="mobile-filter-toggle-btn" id="mobileFilterToggle">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" stroke-width="2"/>
    </svg>
    <?php esc_html_e('Filters', 'dealsindia'); ?>
</button>


<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\footer.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Footer Template - Enhanced & 100% Dynamic
 * 
 * Features:
 * - Newsletter subscription section
 * - 4-column footer menu system
 * - Dynamic social media links
 * - Payment methods display
 * - Copyright with year replacement
 * - Mobile responsive
 * - All content from WordPress Customizer
 * 
 * @package ARRZONE
 * @version 5.0 - Enhanced Dynamic
 */
?>

<!-- Newsletter Section (Above Footer) -->
<?php if (get_theme_mod('dealsindia_show_newsletter', true)) : ?>
<section class="newsletter-section">
    <div class="container">
        <div class="newsletter-wrapper">
            <div class="newsletter-content">
                <?php if (get_theme_mod('dealsindia_newsletter_icon', '📧')) : ?>
                    <div class="newsletter-icon">
                        <?php echo esc_html(get_theme_mod('dealsindia_newsletter_icon', '📧')); ?>
                    </div>
                <?php endif; ?>
                
                <div class="newsletter-text">
                    <h3 class="newsletter-title">
                        <?php echo esc_html(get_theme_mod('dealsindia_newsletter_title', 'Never Miss a Deal!')); ?>
                    </h3>
                    <p class="newsletter-description">
                        <?php echo esc_html(get_theme_mod('dealsindia_newsletter_subtitle', 'Subscribe to get the hottest deals delivered to your inbox.')); ?>
                    </p>
                </div>
            </div>
            
            <form class="newsletter-form" id="newsletterForm" method="post">
                <input 
                    type="email" 
                    name="newsletter_email" 
                    class="newsletter-input" 
                    placeholder="<?php echo esc_attr(get_theme_mod('dealsindia_newsletter_placeholder', 'Enter your email address')); ?>" 
                    required
                >
                <button type="submit" class="newsletter-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <line x1="22" y1="2" x2="11" y2="13" stroke-width="2"/>
                        <polygon points="22 2 15 22 11 13 2 9 22 2" stroke-width="2"/>
                    </svg>
                    <?php echo esc_html(get_theme_mod('dealsindia_newsletter_button_text', 'Subscribe')); ?>
                </button>
                <?php wp_nonce_field('dealsindia_newsletter', 'newsletter_nonce'); ?>
            </form>
            
            <div class="newsletter-message" id="newsletterMessage" style="display: none;"></div>
            
            <?php if (get_theme_mod('dealsindia_newsletter_privacy_text')) : ?>
                <p class="newsletter-privacy">
                    🔒 <?php echo esc_html(get_theme_mod('dealsindia_newsletter_privacy_text', 'We respect your privacy. Unsubscribe anytime.')); ?>
                </p>
            <?php endif; ?>
        </div>
    </div>
</section>
<?php endif; ?>

<!-- Main Footer -->
<footer class="site-footer">
    <div class="container">
        
        <!-- Footer Content Grid -->
        <div class="footer-content">
            
            <!-- Column 1: About & Social -->
            <div class="footer-section footer-about">
                <?php if (has_custom_logo()) : ?>
                    <div class="footer-logo">
                        <?php the_custom_logo(); ?>
                    </div>
                <?php else : ?>
                    <h3 class="footer-brand"><?php bloginfo('name'); ?></h3>
                <?php endif; ?>
                
                <p class="footer-description">
                    <?php echo esc_html(get_theme_mod('dealsindia_footer_about', get_bloginfo('description'))); ?>
                </p>
                
                <!-- Social Media Links - Dynamic -->
                <?php
                $facebook = get_theme_mod('dealsindia_social_facebook');
                $twitter = get_theme_mod('dealsindia_social_twitter');
                $instagram = get_theme_mod('dealsindia_social_instagram');
                $youtube = get_theme_mod('dealsindia_social_youtube');
                $telegram = get_theme_mod('dealsindia_social_telegram');
                
                if ($facebook || $twitter || $instagram || $youtube || $telegram) :
                ?>
                    <div class="footer-social">
                        <?php if ($facebook) : ?>
                            <a href="<?php echo esc_url($facebook); ?>" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                        
                        <?php if ($twitter) : ?>
                            <a href="<?php echo esc_url($twitter); ?>" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                        
                        <?php if ($instagram) : ?>
                            <a href="<?php echo esc_url($instagram); ?>" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                        
                        <?php if ($youtube) : ?>
                            <a href="<?php echo esc_url($youtube); ?>" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                        
                        <?php if ($telegram) : ?>
                            <a href="<?php echo esc_url($telegram); ?>" target="_blank" rel="noopener noreferrer" aria-label="Telegram">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                    </div>
                <?php endif; ?>
            </div>
            
            <!-- Column 2: Quick Links -->
            <div class="footer-section footer-links">
                <h4><?php echo esc_html(get_theme_mod('dealsindia_footer_links_title', 'Quick Links')); ?></h4>
                <?php
                if (has_nav_menu('footer-links')) {
                    wp_nav_menu(array(
                        'theme_location' => 'footer-links',
                        'menu_class'     => 'footer-menu',
                        'container'      => false,
                        'depth'          => 1,
                    ));
                } else {
                    // Fallback menu
                    echo '<ul class="footer-menu">';
                    echo '<li><a href="' . esc_url(home_url('/')) . '">' . esc_html__('Home', 'dealsindia') . '</a></li>';
                    echo '<li><a href="' . esc_url(home_url('/about-us/')) . '">' . esc_html__('About Us', 'dealsindia') . '</a></li>';
                    echo '<li><a href="' . esc_url(home_url('/contact/')) . '">' . esc_html__('Contact', 'dealsindia') . '</a></li>';
                    echo '<li><a href="' . esc_url(home_url('/blog/')) . '">' . esc_html__('Blog', 'dealsindia') . '</a></li>';
                    echo '</ul>';
                }
                ?>
            </div>
            
            <!-- Column 3: Popular Categories -->
            <div class="footer-section footer-categories">
                <h4><?php echo esc_html(get_theme_mod('dealsindia_footer_categories_title', 'Popular Categories')); ?></h4>
                <?php
                $category_count = get_theme_mod('dealsindia_footer_categories_count', 6);
                $categories = get_terms(array(
                    'taxonomy'   => 'deal-category',
                    'number'     => $category_count,
                    'orderby'    => 'count',
                    'order'      => 'DESC',
                    'hide_empty' => true
                ));
                
                if (!empty($categories) && !is_wp_error($categories)) :
                ?>
                    <ul class="footer-menu">
                        <?php foreach ($categories as $category) : ?>
                            <li>
                                <a href="<?php echo esc_url(get_term_link($category)); ?>">
                                    <?php echo esc_html($category->name); ?>
                                </a>
                            </li>
                        <?php endforeach; ?>
                    </ul>
                <?php else : ?>
                    <p><?php esc_html_e('No categories available yet.', 'dealsindia'); ?></p>
                <?php endif; ?>
            </div>
            
            <!-- Column 4: Top Stores -->
            <div class="footer-section footer-stores">
                <h4><?php echo esc_html(get_theme_mod('dealsindia_footer_stores_title', 'Top Stores')); ?></h4>
                <?php
                $store_count = get_theme_mod('dealsindia_footer_stores_count', 6);
                $stores = get_terms(array(
                    'taxonomy'   => 'store',
                    'number'     => $store_count,
                    'orderby'    => 'count',
                    'order'      => 'DESC',
                    'hide_empty' => true
                ));
                
                if (!empty($stores) && !is_wp_error($stores)) :
                ?>
                    <ul class="footer-menu">
                        <?php foreach ($stores as $store) : ?>
                            <li>
                                <a href="<?php echo esc_url(get_term_link($store)); ?>">
                                    <?php echo esc_html($store->name); ?>
                                </a>
                            </li>
                        <?php endforeach; ?>
                    </ul>
                <?php else : ?>
                    <p><?php esc_html_e('No stores available yet.', 'dealsindia'); ?></p>
                <?php endif; ?>
            </div>
            
        </div><!-- .footer-content -->
        
        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <p class="copyright">
                    <?php
                    $copyright_text = get_theme_mod('dealsindia_copyright_text', '&copy; {year} ' . get_bloginfo('name') . '. All Rights Reserved.');
                    echo wp_kses_post(str_replace('{year}', date('Y'), $copyright_text));
                    ?>
                </p>
                
                <!-- Payment Methods -->
                <?php if (get_theme_mod('dealsindia_show_payment_methods', true)) : ?>
                    <div class="footer-payment-methods">
                        <span><?php echo esc_html(get_theme_mod('dealsindia_payment_text', 'We Accept:')); ?></span>
                        <svg width="40" height="25" viewBox="0 0 40 25" fill="none">
                            <rect width="40" height="25" rx="3" fill="#1434CB"/>
                            <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-size="10" font-weight="bold">VISA</text>
                        </svg>
                        <svg width="40" height="25" viewBox="0 0 40 25" fill="none">
                            <rect width="40" height="25" rx="3" fill="#EB001B"/>
                            <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-size="8" font-weight="bold">MC</text>
                        </svg>
                        <svg width="40" height="25" viewBox="0 0 40 25" fill="none">
                            <rect width="40" height="25" rx="3" fill="#00BAF2"/>
                            <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-size="9" font-weight="bold">UPI</text>
                        </svg>
                    </div>
                <?php endif; ?>
            </div>
        </div><!-- .footer-bottom -->
        
    </div><!-- .container -->
</footer>

<?php wp_footer(); ?>

</body>
</html>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\functions.php === 
<?php
/**
 * ARRZone Theme Functions
 * Consolidated Structure - Clean & Minimal
 * 
 * This file only loads other files - NO logic here!
 * All functionality is organized in inc/ folder
 * 
 * @package ARRZone
 * @version 8.0 - Refactored & Optimized
 */

// Exit if accessed directly
if (!defined('ABSPATH')) {
    exit;
}

// ===================================================== 
// THEME SETUP
// ===================================================== 
require_once get_template_directory() . '/inc/setup/theme-config.php';
require_once get_template_directory() . '/inc/setup/enqueue-assets.php';

// ===================================================== 
// POST TYPES
// ===================================================== 
require_once get_template_directory() . '/inc/post-types/deals.php';
require_once get_template_directory() . '/inc/post-types/hero-banners.php';
require_once get_template_directory() . '/inc/post-types/work-steps.php';
require_once get_template_directory() . '/inc/post-types/giveaways.php';
require_once get_template_directory() . '/inc/post-types/money-earning.php';

// ===================================================== 
// TAXONOMIES
// ===================================================== 
require_once get_template_directory() . '/inc/taxonomies/deal-categories.php';
require_once get_template_directory() . '/inc/taxonomies/stores.php';
require_once get_template_directory() . '/inc/taxonomies/deal-types.php';
require_once get_template_directory() . '/inc/taxonomies/term-meta.php';
require_once get_template_directory() . '/inc/taxonomies/campaigns.php';
// ===================================================== 
// META BOXES
// ===================================================== 
require_once get_template_directory() . '/inc/meta-boxes/deal-meta.php';
require_once get_template_directory() . '/inc/meta-boxes/banner-meta.php';
require_once get_template_directory() . '/inc/meta-boxes/step-meta.php';
require_once get_template_directory() . '/inc/meta-boxes/giveaway-meta.php';

// ===================================================== 
// CONSOLIDATED HELPERS
// ===================================================== 
require_once get_template_directory() . '/inc/helpers/deal-helpers.php';
require_once get_template_directory() . '/inc/helpers/template-helpers.php';
require_once get_template_directory() . '/inc/helpers/utilities.php';

// ===================================================== 
// QUERIES
// ===================================================== 
require_once get_template_directory() . '/inc/queries/deal-queries.php';
require_once get_template_directory() . '/inc/queries/archive-sorting.php';

// ===================================================== 
// AJAX HANDLERS
// ===================================================== 
require_once get_template_directory() . '/inc/ajax/filter-handler.php';

// ===================================================== 
// ADMIN
// ===================================================== 
require_once get_template_directory() . '/inc/admin/admin-setup.php';

// Enable WordPress sitemap
add_filter('wp_sitemaps_enabled', '__return_true');


// ===================================================== 
// END OF FUNCTIONS.PHP
// All logic is now in organized inc/ files
// ===================================================== 

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\header.php === 
<?php
/**
 * Header Template - 100% Dynamic & SEO-Optimized
 * All content controlled from WordPress Customizer
 * Zero hardcoded text, maximum flexibility
 * 
 * FIXES APPLIED:
 * ✅ Dynamic <title> tag (WordPress handles it)
 * ✅ Skip to content link (accessibility)
 * ✅ Proper meta tags for SEO
 * ✅ Open Graph & Twitter Cards
 * ✅ Structured Data (Schema.org) for deals
 * ✅ Form labels for accessibility
 * 
 * @package ARRZONE
 * @version 7.0 - SEO & Accessibility Enhanced
 */

if (!defined('ABSPATH')) exit;
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo('charset'); ?>">
    
    <!-- CRITICAL: Proper Viewport Meta Tag - Prevents Zoom & Fixes Mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Mobile Optimization Meta Tags -->
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#00897B">
    
    <?php 
    // SEO Meta Tags - Dynamic
    if (is_singular()) {
        $meta_description = has_excerpt() ? get_the_excerpt() : wp_trim_words(get_the_content(), 20);
    } else {
        $meta_description = get_bloginfo('description');
    }
    ?>
    <meta name="description" content="<?php echo esc_attr($meta_description); ?>">
    
    <?php 
    // Canonical URL
    if (is_singular()) {
        echo '<link rel="canonical" href="' . esc_url(get_permalink()) . '">' . "\n";
    } elseif (is_tax() || is_category() || is_tag()) {
        echo '<link rel="canonical" href="' . esc_url(get_term_link(get_queried_object())) . '">' . "\n";
    } elseif (is_home() || is_front_page()) {
        echo '<link rel="canonical" href="' . esc_url(home_url('/')) . '">' . "\n";
    }
    ?>
    
    <?php 
    // Open Graph Meta Tags
    if (is_singular()) :
        $og_title = get_the_title();
        $og_description = $meta_description;
        $og_image = has_post_thumbnail() ? get_the_post_thumbnail_url(get_the_ID(), 'large') : '';
        $og_url = get_permalink();
    ?>
    <meta property="og:type" content="article">
    <meta property="og:title" content="<?php echo esc_attr($og_title); ?>">
    <meta property="og:description" content="<?php echo esc_attr($og_description); ?>">
    <?php if ($og_image) : ?>
    <meta property="og:image" content="<?php echo esc_url($og_image); ?>">
    <?php endif; ?>
    <meta property="og:url" content="<?php echo esc_url($og_url); ?>">
    <meta property="og:site_name" content="<?php bloginfo('name'); ?>">
    <?php endif; ?>
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <?php if (is_singular()) : ?>
    <meta name="twitter:title" content="<?php echo esc_attr(get_the_title()); ?>">
    <meta name="twitter:description" content="<?php echo esc_attr($meta_description); ?>">
    <?php if (has_post_thumbnail()) : ?>
    <meta name="twitter:image" content="<?php echo esc_url(get_the_post_thumbnail_url(get_the_ID(), 'large')); ?>">
    <?php endif; ?>
    <?php endif; ?>
    
    <?php 
    // Structured Data (Schema.org JSON-LD) for Deals
    if (is_singular('deals')) :
        $deal_price = get_post_meta(get_the_ID(), 'deal_sale_price', true);
        $deal_original_price = get_post_meta(get_the_ID(), 'deal_original_price', true);
        $deal_image = has_post_thumbnail() ? get_the_post_thumbnail_url(get_the_ID(), 'large') : '';
        $deal_store = wp_get_post_terms(get_the_ID(), 'store');
        $store_name = !empty($deal_store) && !is_wp_error($deal_store) ? $deal_store[0]->name : get_bloginfo('name');
    ?>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "Product",
      "name": "<?php echo esc_js(get_the_title()); ?>",
      <?php if ($deal_image) : ?>
      "image": "<?php echo esc_url($deal_image); ?>",
      <?php endif; ?>
      "description": "<?php echo esc_js(wp_trim_words(get_the_excerpt() ?: get_the_content(), 30)); ?>",
      "brand": {
        "@type": "Brand",
        "name": "<?php echo esc_js($store_name); ?>"
      },
      "offers": {
        "@type": "Offer",
        "url": "<?php echo esc_url(get_permalink()); ?>",
        "priceCurrency": "INR",
        <?php if ($deal_price) : ?>
        "price": "<?php echo esc_js($deal_price); ?>",
        <?php endif; ?>
        "availability": "https://schema.org/InStock",
        "priceValidUntil": "<?php echo esc_js(get_post_meta(get_the_ID(), 'deal_expiry_date', true) ?: date('Y-m-d', strtotime('+30 days'))); ?>"
      }
    }
    </script>
    <?php endif; ?>
    
    <?php wp_head(); ?>
</head>

<body <?php body_class(); ?>>
<?php wp_body_open(); ?>

<?php
// ========================================
// ANNOUNCEMENT BAR (Optional - Disabled by default)
// ========================================
$show_announcement = get_theme_mod('dealsindia_show_announcement_bar', false);
if ($show_announcement) :
    $announcement_text = get_theme_mod('dealsindia_announcement_text', '');
    $announcement_link = get_theme_mod('dealsindia_announcement_link', '');
    $announcement_bg = get_theme_mod('dealsindia_announcement_bg_color', '#ff6b6b');
    $announcement_text_color = get_theme_mod('dealsindia_announcement_text_color', '#ffffff');
    $announcement_closeable = get_theme_mod('dealsindia_announcement_closeable', true);
    
    if ($announcement_text) :
?>
<div class="announcement-bar" style="background-color: <?php echo esc_attr($announcement_bg); ?>; color: <?php echo esc_attr($announcement_text_color); ?>;" id="announcementBar">
    <div class="container">
        <div class="announcement-content">
            <?php if ($announcement_link) : ?>
                <a href="<?php echo esc_url($announcement_link); ?>" class="announcement-link">
                    <?php echo esc_html($announcement_text); ?>
                </a>
            <?php else : ?>
                <span><?php echo esc_html($announcement_text); ?></span>
            <?php endif; ?>
            
            <?php if ($announcement_closeable) : ?>
            <button class="announcement-close" aria-label="<?php esc_attr_e('Close announcement', 'dealsindia'); ?>" onclick="this.parentElement.parentElement.style.display='none'">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <line x1="18" y1="6" x2="6" y2="18" stroke-width="2"/>
                    <line x1="6" y1="6" x2="18" y2="18" stroke-width="2"/>
                </svg>
            </button>
            <?php endif; ?>
        </div>
    </div>
</div>
<?php 
    endif;
endif; 
?>

<?php
// ========================================
// TOP BAR (Optional - Disabled by default)
// ========================================
$show_topbar = get_theme_mod('dealsindia_show_topbar', false);
if ($show_topbar) :
    $topbar_phone = get_theme_mod('dealsindia_topbar_phone', '');
    $topbar_email = get_theme_mod('dealsindia_topbar_email', '');
    $topbar_message = get_theme_mod('dealsindia_topbar_message', '');
?>
<div class="site-topbar">
    <div class="container">
        <div class="topbar-content">
            <div class="topbar-left">
                <?php if ($topbar_message) : ?>
                    <span class="topbar-message"><?php echo esc_html($topbar_message); ?></span>
                <?php endif; ?>
            </div>
            <div class="topbar-right">
                <?php if ($topbar_phone) : ?>
                <a href="tel:<?php echo esc_attr(str_replace(' ', '', $topbar_phone)); ?>" class="topbar-item">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" stroke-width="2"/>
                    </svg>
                    <?php echo esc_html($topbar_phone); ?>
                </a>
                <?php endif; ?>
                
                <?php if ($topbar_email) : ?>
                <a href="mailto:<?php echo esc_attr($topbar_email); ?>" class="topbar-item">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke-width="2"/>
                        <polyline points="22,6 12,13 2,6" stroke-width="2"/>
                    </svg>
                    <?php echo esc_html($topbar_email); ?>
                </a>
                <?php endif; ?>
            </div>
        </div>
    </div>
</div>
<?php endif; ?>

<!-- Main Site Header -->
<header class="site-header<?php echo get_theme_mod('dealsindia_sticky_header', true) ? ' sticky-header' : ''; ?>">
    <div class="container">
        <div class="header-wrapper">
            
            <!-- Logo -->
            <div class="site-logo">
                <?php if (has_custom_logo()) : ?>
                    <?php the_custom_logo(); ?>
                <?php else : 
                    $logo_emoji = get_theme_mod('dealsindia_logo_emoji_fallback', '🏷️');
                    $site_name = get_bloginfo('name');
                ?>
                    <a href="<?php echo esc_url(home_url('/')); ?>" rel="home">
                        <?php if ($logo_emoji) : ?>
                            <span class="logo-icon" aria-hidden="true"><?php echo esc_html($logo_emoji); ?></span>
                        <?php endif; ?>
                        <span><?php echo esc_html($site_name); ?></span>
                    </a>
                <?php endif; ?>
            </div>
            
            <!-- Primary Navigation (Desktop) -->
            <nav class="primary-nav" aria-label="<?php esc_attr_e('Primary Navigation', 'dealsindia'); ?>">
                <?php 
                if (has_nav_menu('primary')) {
                    wp_nav_menu(array(
                        'theme_location' => 'primary',
                        'container'      => false,
                        'menu_class'     => '',
                        'fallback_cb'    => 'dealsindia_fallback_menu'
                    ));
                } else {
                    dealsindia_fallback_menu();
                }
                ?>
            </nav>
            
            <!-- Header Actions -->
            <div class="header-actions">
                
                <!-- Search Toggle -->
                <div class="header-search">
                    <button class="search-toggle" aria-label="<?php esc_attr_e('Toggle search', 'dealsindia'); ?>" aria-expanded="false" type="button">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                            <circle cx="11" cy="11" r="8" stroke-width="2"/>
                            <path d="m21 21-4.35-4.35" stroke-width="2"/>
                        </svg>
                    </button>
                    
                    <!-- Search Dropdown -->
                    <form class="search-form" role="search" method="get" action="<?php echo esc_url(home_url('/')); ?>">
                        <label for="header-search-input" class="screen-reader-text"><?php _e('Search', 'dealsindia'); ?></label>
                        <input 
                            type="search"
                            id="header-search-input"
                            name="s" 
                            placeholder="<?php echo esc_attr(get_theme_mod('dealsindia_search_placeholder', __('Search for deals, stores...', 'dealsindia'))); ?>" 
                            value="<?php echo get_search_query(); ?>"
                            aria-label="<?php esc_attr_e('Search', 'dealsindia'); ?>"
                        >
                        <button type="submit" aria-label="<?php esc_attr_e('Submit search', 'dealsindia'); ?>">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                                <circle cx="11" cy="11" r="8" stroke-width="2"/>
                                <path d="m21 21-4.35-4.35" stroke-width="2"/>
                            </svg>
                        </button>
                    </form>
                </div>
                
                <?php 
                // Optional CTA Button (Disabled by default)
                $show_cta = get_theme_mod('dealsindia_show_header_cta', false);
                if ($show_cta) :
                    $cta_text = get_theme_mod('dealsindia_header_cta_text', __('Submit Deal', 'dealsindia'));
                    $cta_link = get_theme_mod('dealsindia_header_cta_link', '#');
                    $cta_style = get_theme_mod('dealsindia_header_cta_style', 'primary');
                ?>
                <a href="<?php echo esc_url($cta_link); ?>" class="btn btn-<?php echo esc_attr($cta_style); ?> header-cta">
                    <?php echo esc_html($cta_text); ?>
                </a>
                <?php endif; ?>
                
                <!-- Mobile Menu Toggle -->
                <button class="mobile-menu-toggle" aria-label="<?php esc_attr_e('Toggle mobile menu', 'dealsindia'); ?>" aria-expanded="false">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            
        </div>
    </div>
</header>

<!-- Mobile Menu -->
<div class="mobile-menu" id="mobile-menu">
    <!-- Mobile Menu Header -->
    <div class="mobile-menu-header">
        <div class="site-logo">
            <?php if (has_custom_logo()) : ?>
                <?php the_custom_logo(); ?>
            <?php else : 
                $logo_emoji = get_theme_mod('dealsindia_logo_emoji_fallback', '🏷️');
            ?>
                <span class="logo-icon" aria-hidden="true"><?php echo esc_html($logo_emoji); ?></span>
                <span><?php bloginfo('name'); ?></span>
            <?php endif; ?>
        </div>
        <button class="mobile-menu-close" aria-label="<?php esc_attr_e('Close mobile menu', 'dealsindia'); ?>">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <line x1="18" y1="6" x2="6" y2="18" stroke-width="2"/>
                <line x1="6" y1="6" x2="18" y2="18" stroke-width="2"/>
            </svg>
        </button>
    </div>
    
    <!-- Mobile Menu Content -->
    <div class="mobile-menu-content">
        <!-- Mobile Search -->
        <div class="mobile-search">
            <form role="search" method="get" action="<?php echo esc_url(home_url('/')); ?>">
                <label for="mobile-search-input" class="screen-reader-text"><?php _e('Search', 'dealsindia'); ?></label>
                <input 
                    type="search"
                    id="mobile-search-input"
                    name="s" 
                    placeholder="<?php echo esc_attr(get_theme_mod('dealsindia_search_placeholder', __('Search for deals, stores...', 'dealsindia'))); ?>"
                    aria-label="<?php esc_attr_e('Search', 'dealsindia'); ?>"
                >
                <button type="submit" aria-label="<?php esc_attr_e('Submit search', 'dealsindia'); ?>">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                        <circle cx="11" cy="11" r="8" stroke-width="2"/>
                        <path d="m21 21-4.35-4.35" stroke-width="2"/>
                    </svg>
                </button>
            </form>
        </div>
        
        <!-- Mobile Navigation -->
        <nav class="mobile-nav" aria-label="<?php esc_attr_e('Mobile Navigation', 'dealsindia'); ?>">
            <?php 
            if (has_nav_menu('primary')) {
                wp_nav_menu(array(
                    'theme_location' => 'primary',
                    'container'      => false,
                    'menu_class'     => 'mobile-menu-list'
                ));
            }
            ?>
        </nav>
        
        <!-- Mobile Categories -->
        <?php 
        $show_mobile_categories = get_theme_mod('dealsindia_show_mobile_categories', true);
        if ($show_mobile_categories) :
            $mobile_cat_count = get_theme_mod('dealsindia_mobile_categories_count', 5);
            $mobile_categories = get_terms(array(
                'taxonomy'   => 'deal-category',
                'number'     => $mobile_cat_count,
                'hide_empty' => true,
                'orderby'    => 'count',
                'order'      => 'DESC'
            ));
            
            if (!empty($mobile_categories) && !is_wp_error($mobile_categories)) :
        ?>
        <div class="mobile-categories">
            <h3><?php echo esc_html(get_theme_mod('dealsindia_mobile_cat_title', __('Top Categories', 'dealsindia'))); ?></h3>
            <ul>
                <?php foreach ($mobile_categories as $category) : 
                    $icon = get_term_meta($category->term_id, 'category_icon', true);
                ?>
                <li>
                    <a href="<?php echo esc_url(get_term_link($category)); ?>">
                        <?php if ($icon) : ?>
                            <span class="category-icon" aria-hidden="true"><?php echo esc_html($icon); ?></span>
                        <?php endif; ?>
                        <span><?php echo esc_html($category->name); ?></span>
                        <span class="category-count"><?php echo esc_html($category->count); ?></span>
                    </a>
                </li>
                <?php endforeach; ?>
            </ul>
        </div>
        <?php 
            endif;
        endif; 
        ?>
        
        <!-- Mobile Deal Types (Optional) -->
        <?php 
        $show_mobile_dealtypes = get_theme_mod('dealsindia_show_mobile_dealtypes', false);
        if ($show_mobile_dealtypes) :
            $mobile_dealtypes = get_terms(array(
                'taxonomy'   => 'deal-type',
                'hide_empty' => true,
                'orderby'    => 'count',
                'order'      => 'DESC'
            ));
            
            if (!empty($mobile_dealtypes) && !is_wp_error($mobile_dealtypes)) :
        ?>
        <div class="mobile-deal-types">
            <h3><?php echo esc_html(get_theme_mod('dealsindia_mobile_dealtype_title', __('Deal Types', 'dealsindia'))); ?></h3>
            <ul>
                <?php foreach ($mobile_dealtypes as $dealtype) : ?>
                <li>
                    <a href="<?php echo esc_url(get_term_link($dealtype)); ?>">
                        <?php echo esc_html($dealtype->name); ?>
                    </a>
                </li>
                <?php endforeach; ?>
            </ul>
        </div>
        <?php 
            endif;
        endif; 
        ?>
    </div>
</div>

<!-- Menu Overlay -->
<div class="menu-overlay"></div>

<!-- Main Content Wrapper (for skip link target) -->
<main id="main-content" class="site-main">

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\index.php === 
<?php
/**
 * Homepage Template - 100% Dynamic
 * All sections with complete functionality
 * 
 * @package ARRZONE
 * @version 7.0 - Fixed Banner Links
 */

get_header();
?>

<main class="homepage">
    
    <!-- ========================================
         1. WELCOME TEXT SECTION
         ======================================== -->
    <?php
    $welcome_text = get_theme_mod('welcome_text', 'Welcome to ' . get_bloginfo('name') . ' - India\'s Trusted Coupons, Offers & Cashback Website');
    if ($welcome_text) :
    ?>
    <section class="welcome-text-section">
        <div class="container">
            <div class="welcome-text-container">
                <h1 class="welcome-text"><?php echo esc_html($welcome_text); ?></h1>
            </div>
        </div>
    </section>
    <?php endif; ?>
    
    <!-- ========================================
         2. HERO BANNERS SECTION (CAROUSEL)
         ======================================== -->
    <section class="hero-slider-cd">
        <div class="container">
            <?php
            // Get hero banners
            $banners_query = new WP_Query(array(
                'post_type'      => 'hero_banner',
                'posts_per_page' => get_theme_mod('hero_banners_count', 10),
                'post_status'    => 'publish',
                'orderby'        => 'menu_order date',
                'order'          => 'ASC',
                'meta_query'     => array(
                    array(
                        'key'     => 'banner_active',
                        'value'   => '1',
                        'compare' => '=',
                    )
                )
            ));
            
            // Fallback if no active banners
            if (!$banners_query->have_posts()) {
                $banners_query = new WP_Query(array(
                    'post_type'      => 'hero_banner',
                    'posts_per_page' => get_theme_mod('hero_banners_count', 10),
                    'post_status'    => 'publish',
                    'orderby'        => 'date',
                    'order'          => 'DESC',
                ));
            }
            
            if ($banners_query->have_posts()) :
                $banner_count = $banners_query->post_count;
                $banners_per_slide = 2;
            ?>
            
            <div class="hero-banners-carousel" data-carousel="hero" data-banner-count="<?php echo esc_attr($banner_count); ?>">
                <div class="hero-banners-wrapper">
                    <?php 
                    $slide_index = 0;
                    $banners_in_current_slide = 0;
                    $banner_index = 0;
                    
                    while ($banners_query->have_posts()) : $banners_query->the_post();
                        
                        // Open new slide div (every 2 banners)
                        if ($banners_in_current_slide === 0) {
                            $active_class = ($slide_index === 0) ? ' active' : '';
                            echo '<div class="hero-banners-slide' . $active_class . '" data-slide="' . $slide_index . '">';
                        }
                        
                        // Get banner data - FIXED: banner_button_link instead of banner_url
                        $banner_url = get_post_meta(get_the_ID(), 'banner_button_link', true);
                        $banner_image = get_the_post_thumbnail_url(get_the_ID(), 'large');
                        
                        if (!$banner_url || $banner_url === '') {
                            $banner_url = get_post_type_archive_link('deals');
                        }
                        ?>
                        
                        <!-- Banner Item -->
                        <div class="hero-banner-item">
                            <a href="<?php echo esc_url($banner_url); ?>" class="hero-banner-link">
                                <?php if ($banner_image) : ?>
                                    <img src="<?php echo esc_url($banner_image); ?>" 
                                         alt="<?php echo esc_attr(get_the_title()); ?>" 
                                         class="hero-banner-image" 
                                         loading="<?php echo $banner_index === 0 ? 'eager' : 'lazy'; ?>">
                                <?php else : ?>
                                    <div class="hero-banner-placeholder">
                                        <h3><?php the_title(); ?></h3>
                                        <?php if (get_the_excerpt()) : ?>
                                            <p><?php echo esc_html(get_the_excerpt()); ?></p>
                                        <?php endif; ?>
                                    </div>
                                <?php endif; ?>
                            </a>
                        </div>
                        
                        <?php
                        $banners_in_current_slide++;
                        $banner_index++;
                        
                        // Close slide div after 2 banners
                        if ($banners_in_current_slide === $banners_per_slide) {
                            echo '</div>';
                            $slide_index++;
                            $banners_in_current_slide = 0;
                        }
                        
                    endwhile;
                    
                    // Close last slide if incomplete
                    if ($banners_in_current_slide > 0) {
                        echo '</div>';
                    }
                    
                    wp_reset_postdata();
                    ?>
                </div>
                
                <!-- Carousel Controls -->
                <?php
                $total_slides = ceil($banner_count / $banners_per_slide);
                if ($total_slides > 1) :
                ?>
                    <div class="carousel-dots"></div>
                    <button class="carousel-arrow carousel-arrow-prev" aria-label="<?php echo esc_attr(get_theme_mod('hero_prev_label', __('Previous', 'dealsindia'))); ?>">‹</button>
                    <button class="carousel-arrow carousel-arrow-next" aria-label="<?php echo esc_attr(get_theme_mod('hero_next_label', __('Next', 'dealsindia'))); ?>">›</button>
                <?php endif; ?>
            </div>
            
            <?php else : ?>
                <!-- Default Placeholders -->
                <div class="hero-banners-carousel">
                    <div class="hero-banners-wrapper">
                        <div class="hero-banners-slide active">
                            <div class="hero-banner-item">
                                <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" class="hero-banner-link">
                                    <div class="hero-banner-placeholder hero-placeholder-1">
                                        <h3><?php echo esc_html(get_theme_mod('hero_placeholder_1_title', 'Welcome to ' . get_bloginfo('name'))); ?></h3>
                                        <p><?php echo esc_html(get_theme_mod('hero_placeholder_1_text', 'India\'s #1 Deals & Cashback Platform')); ?></p>
                                        <span class="placeholder-btn"><?php echo esc_html(get_theme_mod('hero_placeholder_1_btn', '🎁 Start Saving Today!')); ?></span>
                                    </div>
                                </a>
                            </div>
                            <div class="hero-banner-item">
                                <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" class="hero-banner-link">
                                    <div class="hero-banner-placeholder hero-placeholder-2">
                                        <h3><?php echo esc_html(get_theme_mod('hero_placeholder_2_title', '🔥 Hot Deals Live!')); ?></h3>
                                        <p><?php echo esc_html(get_theme_mod('hero_placeholder_2_text', 'Save Big with Exclusive Cashback Offers')); ?></p>
                                        <span class="placeholder-btn"><?php echo esc_html(get_theme_mod('hero_placeholder_2_btn', 'Browse Deals →')); ?></span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <?php if (current_user_can('manage_options')) : ?>
                    <div class="admin-notice">
                        <p><strong><?php echo esc_html(get_theme_mod('admin_notice_text', '⚠️ Admin Notice: No hero banners found.')); ?></strong> 
                        <a href="<?php echo esc_url(admin_url('edit.php?post_type=hero_banner')); ?>"><?php echo esc_html(get_theme_mod('admin_notice_link_text', 'Click here to add banners')); ?></a></p>
                    </div>
                <?php endif; ?>
            <?php endif; ?>
        </div>
    </section>
    
    <!-- ========================================
         3. THREE STEPS SECTION
         ======================================== -->
    <section class="three-steps">
        <div class="container">
            <div class="three-steps-container">
                
                <h2 class="steps-title">
                    <?php echo esc_html(get_theme_mod('three_steps_title', __('How It Works', 'dealsindia'))); ?>
                </h2>
                
                <div class="steps-grid">
                    <?php
                    $steps = get_theme_mod('three_steps_items', array());
                    
                    if (!empty($steps)) :
                        foreach ($steps as $index => $step) :
                            $number = $index + 1;
                            $icon = isset($step['icon']) ? $step['icon'] : '';
                            $title = isset($step['title']) ? $step['title'] : '';
                            $description = isset($step['description']) ? $step['description'] : '';
                            ?>
                            <div class="step-item">
                                <div class="step-number"><?php echo esc_html($number); ?></div>
                                <?php if ($icon) : ?>
                                    <div class="step-icon"><?php echo esc_html($icon); ?></div>
                                <?php endif; ?>
                                <h3><?php echo esc_html($title); ?></h3>
                                <p><?php echo esc_html($description); ?></p>
                            </div>
                            <?php
                        endforeach;
                    else :
                        // Default steps
                        ?>
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-icon">🔍</div>
                            <h3><?php echo esc_html(get_theme_mod('step_1_title', __('Browse Deals', 'dealsindia'))); ?></h3>
                            <p><?php echo esc_html(get_theme_mod('step_1_desc', __('Discover exclusive offers from top brands', 'dealsindia'))); ?></p>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-icon">🎟️</div>
                            <h3><?php echo esc_html(get_theme_mod('step_2_title', __('Get Coupon Code', 'dealsindia'))); ?></h3>
                            <p><?php echo esc_html(get_theme_mod('step_2_desc', __('Click to reveal and copy the promo code', 'dealsindia'))); ?></p>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-icon">💰</div>
                            <h3><?php echo esc_html(get_theme_mod('step_3_title', __('Save Money', 'dealsindia'))); ?></h3>
                            <p><?php echo esc_html(get_theme_mod('step_3_desc', __('Apply code at checkout and enjoy savings!', 'dealsindia'))); ?></p>
                        </div>
                        <?php
                    endif;
                    ?>
                </div>
                
            </div>
        </div>
    </section>
    
   <!-- ========================================
     4. HOT PICKS SECTION - CAMPAIGN AWARE
     ======================================== -->
<section class="hot-picks">
    <div class="container">
        <div class="hot-picks-container" <?php 
            $hot_picks_bg = get_theme_mod('hot_picks_bg_image');
            if ($hot_picks_bg) {
                echo 'style="background-image:url(' . esc_url($hot_picks_bg) . ');"';
            }
        ?>>
            <div class="hot-picks-content">
                <?php
                // Get active featured campaigns
                $today = current_time('Y-m-d');
                $active_campaigns = get_terms(array(
                    'taxonomy' => 'campaign',
                    'hide_empty' => true,
                    'meta_query' => array(
                        'relation' => 'AND',
                        array(
                            'key' => 'campaign_is_featured',
                            'value' => '1',
                            'compare' => '='
                        ),
                        array(
                            'relation' => 'OR',
                            array(
                                'key' => 'campaign_start_date',
                                'value' => $today,
                                'compare' => '<=',
                                'type' => 'DATE'
                            ),
                            array(
                                'key' => 'campaign_start_date',
                                'compare' => 'NOT EXISTS'
                            )
                        ),
                        array(
                            'relation' => 'OR',
                            array(
                                'key' => 'campaign_end_date',
                                'value' => $today,
                                'compare' => '>=',
                                'type' => 'DATE'
                            ),
                            array(
                                'key' => 'campaign_end_date',
                                'compare' => 'NOT EXISTS'
                            )
                        )
                    )
                ));
                
                // Build query args based on active campaigns
                $hot_picks_count = get_theme_mod('hot_picks_count', 12);
                $hot_picks_args = array(
                    'post_type' => 'deals',
                    'posts_per_page' => $hot_picks_count,
                    'post_status' => 'publish',
                    'orderby' => 'date',
                    'order' => 'DESC',
                );
                
                // Determine "See More" link and title
                $see_more_url = get_post_type_archive_link('deals');
                $section_title = get_theme_mod('hot_picks_title', __('🔥 Festival Hot Picks!', 'dealsindia'));
                
                if (!empty($active_campaigns) && !is_wp_error($active_campaigns)) {
                    // If single active campaign - show its deals and link to it
                    if (count($active_campaigns) === 1) {
                        $campaign = $active_campaigns[0];
                        $campaign_icon = get_term_meta($campaign->term_id, 'campaign_icon', true);
                        $campaign_tagline = get_term_meta($campaign->term_id, 'campaign_tagline', true);
                        
                        // Update title with campaign name
                        $section_title = ($campaign_icon ? $campaign_icon . ' ' : '🔥 ') . $campaign->name;
                        
                        // Link to specific campaign
                        $see_more_url = get_term_link($campaign);
                        
                        // Show deals from this campaign
                        $hot_picks_args['tax_query'] = array(
                            array(
                                'taxonomy' => 'campaign',
                                'field' => 'term_id',
                                'terms' => $campaign->term_id
                            )
                        );
                    } else {
                        // Multiple active campaigns - show mixed deals
                        $campaign_ids = wp_list_pluck($active_campaigns, 'term_id');
                        
                        $hot_picks_args['tax_query'] = array(
                            array(
                                'taxonomy' => 'campaign',
                                'field' => 'term_id',
                                'terms' => $campaign_ids,
                                'operator' => 'IN'
                            )
                        );
                        
                        // Link to all campaigns page
                        $see_more_url = home_url('/campaigns/');
                    }
                } else {
                    // No active campaigns - fallback to featured/trending deals
                    $hot_picks_args['meta_query'] = array(
                        'relation' => 'OR',
                        array(
                            'key' => 'deal_is_featured',
                            'value' => '1',
                            'compare' => '='
                        ),
                        array(
                            'key' => 'deal_is_trending',
                            'value' => '1',
                            'compare' => '='
                        )
                    );
                }
                
                // Run query
                $hot_picks = new WP_Query($hot_picks_args);
                
                // Fallback to latest deals if no results
                if (!$hot_picks->have_posts()) {
                    $hot_picks = new WP_Query(array(
                        'post_type' => 'deals',
                        'posts_per_page' => $hot_picks_count,
                        'post_status' => 'publish',
                        'orderby' => 'date',
                        'order' => 'DESC'
                    ));
                }
                ?>
                
                <div class="section-header-inline">
                    <h2><?php echo esc_html($section_title); ?></h2>
                    <a href="<?php echo esc_url($see_more_url); ?>" class="see-more">
                        <?php echo esc_html(get_theme_mod('hot_picks_button_text', __('See More', 'dealsindia'))); ?> ›
                    </a>
                </div>
                
                <div class="deals-scroll-wrapper">
                    <div class="deals-scroll">
                        <?php
                        if ($hot_picks->have_posts()) :
                            while ($hot_picks->have_posts()) : $hot_picks->the_post();
                                get_template_part('template-parts/deal-card');
                            endwhile;
                            wp_reset_postdata();
                        else :
                            ?>
                            <div class="no-deals-message">
                                <p><?php echo esc_html(get_theme_mod('no_hot_picks_message', __('No hot picks available right now. Check back soon for amazing deals!', 'dealsindia'))); ?></p>
                            </div>
                            <?php
                        endif;
                        ?>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    
    <!-- ========================================
     5. TOP STORES SECTION - FIXED
     ======================================== -->
<?php
$stores_count = get_theme_mod('top_stores_count', 12);
$stores = get_terms(array(
    'taxonomy'   => 'store',
    'hide_empty' => true,
    'number'     => $stores_count,
    'orderby'    => 'count',
    'order'      => 'DESC'
));

if (!empty($stores) && !is_wp_error($stores)) :
?>
<section class="top-stores-section-premium">
    <div class="container">
        <div class="top-stores-container">
            
            <div class="section-header-premium">
                <?php 
                $stores_icon = get_theme_mod('stores_section_icon', '🏪'); 
                if ($stores_icon) : 
                ?>
                    <span class="section-icon"><?php echo esc_html($stores_icon); ?></span>
                <?php endif; ?>
                
                <h2><?php echo esc_html(get_theme_mod('top_stores_title', __('Top Stores', 'dealsindia'))); ?></h2>
                <p><?php echo esc_html(get_theme_mod('top_stores_subtitle', __('Shop from India\'s most trusted brands', 'dealsindia'))); ?></p>
            </div>

            <div class="stores-wrapper-cd">
                <div class="stores-grid-cd">
                    <?php
                    $store_index = 0;
                    foreach ($stores as $store) :
                        $logo_id = get_term_meta($store->term_id, 'store_logo_id', true);
                        $logo = $logo_id ? wp_get_attachment_url($logo_id) : '';
                        $cashback = get_term_meta($store->term_id, 'store_cashback', true);
                        $is_featured = ($store_index === 0);
                        
                        // Generate gradient colors for fallback
                        $color1 = '#' . substr(md5($store->name), 0, 6);
                        $color2 = '#' . substr(md5($store->name . 'x'), 0, 6);
                        $initials = strtoupper(substr($store->name, 0, 2));
                        ?>
                        <a href="<?php echo esc_url(get_term_link($store)); ?>" 
                           class="store-item-cd<?php echo $is_featured ? ' store-featured' : ''; ?>"
                           aria-label="<?php echo esc_attr(sprintf(__('View deals from %s', 'dealsindia'), $store->name)); ?>">
                            
                            <!-- Store Logo -->
                            <?php if ($logo) : ?>
                                <div class="store-logo-cd">
                                    <img src="<?php echo esc_url($logo); ?>" 
                                         alt="<?php echo esc_attr($store->name); ?>" 
                                         loading="lazy"
                                         width="50"
                                         height="50">
                                </div>
                            <?php else : ?>
                                <div class="store-logo-fallback" 
                                     style="background: linear-gradient(135deg, <?php echo esc_attr($color1); ?>, <?php echo esc_attr($color2); ?>);">
                                    <?php echo esc_html($initials); ?>
                                </div>
                            <?php endif; ?>
                            
                            <!-- Store Name -->
                            <div class="store-name-cd">
                                <?php echo esc_html($store->name); ?>
                            </div>
                            
                            <!-- Cashback (Optional) -->
                            <?php if ($cashback) : ?>
                                <div class="store-cashback-cd">
                                    <?php 
                                    $cashback_icon = get_theme_mod('cashback_icon', '💰');
                                    if ($cashback_icon) : 
                                    ?>
                                        <span class="cashback-icon"><?php echo esc_html($cashback_icon); ?></span>
                                    <?php endif; ?>
                                    <span><?php echo esc_html(sprintf(__('Upto %s', 'dealsindia'), $cashback)); ?></span>
                                </div>
                            <?php endif; ?>
                        </a>
                        <?php
                        $store_index++;
                    endforeach;
                    ?>
                    
                    <!-- View All Stores Card -->
                    <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" 

                       class="store-item-cd store-view-all"
                       aria-label="<?php esc_attr_e('View all stores', 'dealsindia'); ?>">
                        <div class="view-all-text">
                            <?php echo esc_html(get_theme_mod('view_all_stores_text', __('View All Stores', 'dealsindia'))); ?> →
                        </div>
                    </a>
                </div>
            </div>
            
        </div>
    </div>
</section>
<?php endif; ?>

    
   <!-- ========================================
     6. TOP OFFERS BY CATEGORY - ENHANCED
     ======================================== -->
<?php
$categories_count = get_theme_mod('trending_categories_count', 8);
$categories = get_terms(array(
    'taxonomy'   => 'deal-category',
    'hide_empty' => true,
    'number'     => $categories_count,
    'orderby'    => 'count',
    'order'      => 'DESC'
));

if (!empty($categories) && !is_wp_error($categories)) :
?>
<section class="top-offers-section-premium">
    <div class="container">
        <div class="top-offers-container">
            
            <div class="section-header-premium">
                <?php 
                $offers_icon = get_theme_mod('offers_section_icon', '🎯');
                if ($offers_icon) : 
                ?>
                    <span class="section-icon"><?php echo esc_html($offers_icon); ?></span>
                <?php endif; ?>
                
                <h2><?php echo esc_html(get_theme_mod('top_offers_title', __('Top Offers by Category', 'dealsindia'))); ?></h2>
                <p><?php echo esc_html(get_theme_mod('top_offers_subtitle', __('Browse trending deals from popular categories', 'dealsindia'))); ?></p>
            </div>
            
            <div class="categories-offers-grid">
                <!-- Categories Sidebar with View All -->
                <aside class="trending-categories-sidebar">
                    <div class="sidebar-header-with-cta">
                        <h3 class="sidebar-title">
                            <?php echo esc_html(get_theme_mod('trending_categories_title', __('🔥 Trending Categories', 'dealsindia'))); ?>
                        </h3>
                        <a href="<?php echo esc_url(home_url('/categories/')); ?>" class="sidebar-view-all">
                            <?php echo esc_html(get_theme_mod('view_all_categories_text', __('View All', 'dealsindia'))); ?> ›
                        </a>
                    </div>
                    
                    <div class="categories-list-vertical">
                        <?php
                        foreach ($categories as $category) :
                            $icon_id = get_term_meta($category->term_id, 'category_icon_id', true);
                            $icon_url = $icon_id ? wp_get_attachment_url($icon_id) : '';
                            $emoji = get_term_meta($category->term_id, 'category_icon', true);
                            ?>
                            <a href="<?php echo esc_url(get_term_link($category)); ?>" 
                               class="category-item-horizontal"
                               aria-label="<?php echo esc_attr(sprintf(__('View %s deals', 'dealsindia'), $category->name)); ?>">
                                <div class="category-icon-left">
                                    <?php if ($icon_url) : ?>
                                        <img src="<?php echo esc_url($icon_url); ?>" 
                                             alt="<?php echo esc_attr($category->name); ?>" 
                                             class="category-icon-image" 
                                             loading="lazy"
                                             width="24"
                                             height="24">
                                    <?php elseif ($emoji) : ?>
                                        <span class="category-emoji"><?php echo esc_html($emoji); ?></span>
                                    <?php else : ?>
                                        <span class="category-emoji">📦</span>
                                    <?php endif; ?>
                                </div>
                                <span class="category-name-right">
                                    <?php echo esc_html($category->name); ?>
                                </span>
                                <span class="category-arrow">›</span>
                            </a>
                            <?php
                        endforeach;
                        ?>
                    </div>
                </aside>
                
                <!-- 🔥 FIXED: Added proper wrapper structure for scrolling -->
                <div class="offers-grid-wrapper">
                    <div class="offers-grid-header">
                        <h3 class="offers-grid-title">
                            <?php echo esc_html(get_theme_mod('featured_offers_title', __('Featured Offers', 'dealsindia'))); ?>
                        </h3>
                        <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" class="offers-view-all">
                            <?php echo esc_html(get_theme_mod('view_all_offers_text', __('View All Offers', 'dealsindia'))); ?> ›
                        </a>
                    </div>
                    
                    <!-- 🔥 THIS IS THE FIX: offers-grid-3col must be DIRECT CHILD of offers-grid-wrapper -->
                    <div class="offers-grid-3col">
                        <?php
                        $offers_count = get_theme_mod('top_offers_count', 6);
                        $offers_query = new WP_Query(array(
                            'post_type'      => 'deals',
                            'posts_per_page' => $offers_count,
                            'post_status'    => 'publish',
                            'orderby'        => 'date',
                            'order'          => 'DESC',
                            'meta_query'     => array(
                                array(
                                    'key'     => 'deal_is_featured',
                                    'value'   => '1',
                                    'compare' => '='
                                )
                            )
                        ));
                        
                        // Fallback to latest deals
                        if (!$offers_query->have_posts()) {
                            $offers_query = new WP_Query(array(
                                'post_type'      => 'deals',
                                'posts_per_page' => $offers_count,
                                'post_status'    => 'publish',
                                'orderby'        => 'date',
                                'order'          => 'DESC',
                            ));
                        }
                        
                        if ($offers_query->have_posts()) :
                            while ($offers_query->have_posts()) : $offers_query->the_post();
                                get_template_part('template-parts/deal-card');
                            endwhile;
                            wp_reset_postdata();
                        else :
                            ?>
                            <div class="no-offers-message">
                                <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <circle cx="12" cy="12" r="10" stroke-width="2"/>
                                    <line x1="12" y1="8" x2="12" y2="12" stroke-width="2"/>
                                    <line x1="12" y1="16" x2="12.01" y2="16" stroke-width="2"/>
                                </svg>
                                <p><?php echo esc_html(get_theme_mod('no_offers_message', __('No featured offers available right now.', 'dealsindia'))); ?></p>
                            </div>
                            <?php
                        endif;
                        ?>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</section>
<?php endif; ?>

    <!-- ========================================
         7. LATEST DEALS SECTION
         ======================================== -->
    <?php
    $latest_deals_count = get_theme_mod('latest_deals_count', 12);
    $latest_deals = new WP_Query(array(
        'post_type'      => 'deals',
        'posts_per_page' => $latest_deals_count,
        'post_status'    => 'publish',
        'orderby'        => 'date',
        'order'          => 'DESC'
    ));
    
    if ($latest_deals->have_posts()) :
    ?>
    <section class="latest-deals-section-premium">
        <div class="container">
            <div class="latest-deals-container" <?php 
                $latest_deals_bg = get_theme_mod('latest_deals_bg_image');
                if ($latest_deals_bg) {
                    echo 'style="background-image:url(' . esc_url($latest_deals_bg) . ');"';
                }
            ?>>
                <div class="latest-deals-content">
                    <div class="section-header-inline">
                        <?php 
                        $latest_deals_icon = get_theme_mod('latest_deals_icon', '');
                        if ($latest_deals_icon) : 
                        ?>
                            <span class="section-icon-inline"><?php echo esc_html($latest_deals_icon); ?></span>
                        <?php endif; ?>
                        
                        <h2><?php echo esc_html(get_theme_mod('latest_deals_title', __('Latest Deals', 'dealsindia'))); ?></h2>
                        <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" class="see-more">
                            <?php echo esc_html(get_theme_mod('view_all_btn_text', __('View All Deals', 'dealsindia'))); ?> ›
                        </a>
                    </div>
                    
                    <div class="deals-scroll-wrapper">
                        <div class="deals-scroll">
                            <?php
                            while ($latest_deals->have_posts()) : $latest_deals->the_post();
                                get_template_part('template-parts/deal-card');
                            endwhile;
                            wp_reset_postdata();
                            ?>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <?php endif; ?>
    
    <!-- ========================================
     8. GIVEAWAYS SECTION - COMPLETE FIXED
     ======================================== -->
<?php
$giveaways = new WP_Query(array(
    'post_type'      => 'giveaway',  // ✅ FIXED: Singular (not 'giveaways')
    'posts_per_page' => get_theme_mod('giveaways_count', 6),
    'post_status'    => 'publish',
    'orderby'        => 'date',
    'order'          => 'DESC'
));

if ($giveaways->have_posts()) :
?>
<section class="giveaways-section-premium">
    <div class="container">
        <div class="section-header-premium">
            <?php 
            $giveaway_icon = get_theme_mod('giveaway_section_icon', '🎁');
            if ($giveaway_icon) : 
            ?>
                <span class="section-icon"><?php echo esc_html($giveaway_icon); ?></span>
            <?php endif; ?>
            
            <h2><?php echo esc_html(get_theme_mod('giveaway_section_title', __('🎁 Active Giveaways', 'arrzone'))); ?></h2>
            <p><?php echo esc_html(get_theme_mod('giveaway_section_subtitle', __('Win amazing prizes!', 'arrzone'))); ?></p>
        </div>

        <div class="giveaways-grid">
            <?php
            while ($giveaways->have_posts()) : $giveaways->the_post();
                $prize = get_post_meta(get_the_ID(), 'giveaway_prize', true);
                $end_date = get_post_meta(get_the_ID(), 'giveaway_end_date', true);
                $bg_color = get_post_meta(get_the_ID(), 'giveaway_bg_color', true);
                if (!$bg_color) $bg_color = get_theme_mod('giveaway_default_bg', '#667eea');
                
                $prize_icon = get_theme_mod('giveaway_prize_icon', '🏆');
                $deadline_icon = get_theme_mod('giveaway_deadline_icon', '⏰');
                ?>
                <article class="giveaway-card" style="background: linear-gradient(135deg, <?php echo esc_attr($bg_color); ?> 0%, <?php echo esc_attr($bg_color); ?>dd 100%);">
                    <div class="giveaway-card-content">
                        <h3 class="giveaway-card-title"><?php the_title(); ?></h3>
                        
                        <?php if ($prize) : ?>
                            <div class="giveaway-prize">
                                <?php echo esc_html($prize_icon); ?> <?php echo esc_html($prize); ?>
                            </div>
                        <?php endif; ?>
                        
                        <?php if ($end_date) : ?>
                            <div class="giveaway-deadline">
                                <?php echo esc_html($deadline_icon); ?> <?php echo esc_html(sprintf(__('Ends: %s', 'arrzone'), date('M d, Y', strtotime($end_date)))); ?>
                            </div>
                        <?php endif; ?>
                        
                        <!-- ✅ FIXED: Using get_permalink() instead of the_permalink() -->
                        <a href="<?php echo esc_url(get_permalink()); ?>" class="giveaway-participate-btn">
                            <?php echo esc_html(get_theme_mod('giveaway_btn_text', __('Participate Now', 'arrzone'))); ?> →
                        </a>
                    </div>
                    
                    <?php if (has_post_thumbnail()) : ?>
                        <div class="giveaway-card-image">
                            <?php the_post_thumbnail('medium', array('loading' => 'lazy')); ?>
                        </div>
                    <?php endif; ?>
                </article>
                <?php
            endwhile;
            wp_reset_postdata();
            ?>
        </div>
    </div>
</section>
<?php endif; ?>


    
</main>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page-all-campaigns.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Template Name: All Campaigns Archive
 * Description: Displays all campaigns (Active, Upcoming, Expired)
 */

get_header();

// Get all campaigns
$campaigns_args = array(
    'taxonomy'   => 'campaign',
    'hide_empty' => false,
    'orderby'    => 'name',
    'order'      => 'ASC',
);

$all_campaigns = get_terms($campaigns_args);

// Separate campaigns by status
$active_campaigns = array();
$upcoming_campaigns = array();
$expired_campaigns = array();

$today = current_time('Y-m-d');

foreach ($all_campaigns as $campaign) {
    $start_date = get_term_meta($campaign->term_id, 'campaign_start_date', true);
    $end_date = get_term_meta($campaign->term_id, 'campaign_end_date', true);
    
    if ($start_date && $today < $start_date) {
        $upcoming_campaigns[] = $campaign;
    } elseif ($end_date && $today > $end_date) {
        $expired_campaigns[] = $campaign;
    } else {
        $active_campaigns[] = $campaign;
    }
}
?>

<div class="archive-page">
    
    <!-- Page Header -->
    <section class="section-header">
        <div class="container">
            <h1><?php echo esc_html('🎪 All Campaigns & Sales', 'dealsindia'); ?></h1>
            <p><?php echo esc_html('Browse ongoing and upcoming festival sales & special offers', 'dealsindia'); ?></p>
        </div>
    </section>

    <!-- Active Campaigns -->
    <?php if (!empty($active_campaigns)) : ?>
    <section class="browse-section">
        <div class="container">
            <h2 class="browse-section-title"><?php echo esc_html('🔥 Active Campaigns', 'dealsindia'); ?></h2>
            <div class="browse-grid">
                <?php foreach ($active_campaigns as $campaign) :
                    $icon = get_term_meta($campaign->term_id, 'campaign_icon', true);
                    $banner_id = get_term_meta($campaign->term_id, 'campaign_banner_id', true);
                    $color = get_term_meta($campaign->term_id, 'campaign_color', true);
                    $tagline = get_term_meta($campaign->term_id, 'campaign_tagline', true);
                    $end_date = get_term_meta($campaign->term_id, 'campaign_end_date', true);
                    $deals_count = $campaign->count;
                    $campaign_url = get_term_link($campaign);
                ?>
                    <div class="browse-card">
                        <a href="<?php echo esc_url($campaign_url); ?>" class="browse-card-link">
                            <div class="browse-icon">
                                <?php if ($icon) : ?>
                                    <span class="browse-emoji"><?php echo esc_html($icon); ?></span>
                                <?php else : ?>
                                    <span class="browse-emoji">🎉</span>
                                <?php endif; ?>
                            </div>
                            <div class="browse-content">
                                <h3 class="browse-name"><?php echo esc_html($campaign->name); ?></h3>
                                <?php if ($tagline) : ?>
                                    <p style="font-size: 12px; color: #666; margin: 4px 0;"><?php echo esc_html($tagline); ?></p>
                                <?php endif; ?>
                                <p class="browse-count">
                                    <?php
                                    printf(
                                        _n('%s Deal', '%s Deals', $deals_count, 'dealsindia'),
                                        number_format_i18n($deals_count)
                                    );
                                    ?>
                                </p>
                                <?php if ($end_date) : ?>
                                    <p style="font-size: 11px; color: #ff6b6b; margin-top: 4px;">
                                        ⏰ Ends: <?php echo esc_html(date('M d, Y', strtotime($end_date))); ?>
                                    </p>
                                <?php endif; ?>
                            </div>
                        </a>
                    </div>
                <?php endforeach; ?>
            </div>
        </div>
    </section>
    <?php endif; ?>

    <!-- Upcoming Campaigns -->
    <?php if (!empty($upcoming_campaigns)) : ?>
    <section class="browse-section">
        <div class="container">
            <h2 class="browse-section-title"><?php echo esc_html('📅 Coming Soon', 'dealsindia'); ?></h2>
            <div class="browse-grid">
                <?php foreach ($upcoming_campaigns as $campaign) :
                    $icon = get_term_meta($campaign->term_id, 'campaign_icon', true);
                    $tagline = get_term_meta($campaign->term_id, 'campaign_tagline', true);
                    $start_date = get_term_meta($campaign->term_id, 'campaign_start_date', true);
                    $deals_count = $campaign->count;
                    $campaign_url = get_term_link($campaign);
                ?>
                    <div class="browse-card">
                        <a href="<?php echo esc_url($campaign_url); ?>" class="browse-card-link">
                            <div class="browse-icon">
                                <?php if ($icon) : ?>
                                    <span class="browse-emoji"><?php echo esc_html($icon); ?></span>
                                <?php else : ?>
                                    <span class="browse-emoji">🎉</span>
                                <?php endif; ?>
                            </div>
                            <div class="browse-content">
                                <h3 class="browse-name"><?php echo esc_html($campaign->name); ?></h3>
                                <?php if ($tagline) : ?>
                                    <p style="font-size: 12px; color: #666; margin: 4px 0;"><?php echo esc_html($tagline); ?></p>
                                <?php endif; ?>
                                <?php if ($deals_count > 0) : ?>
                                    <p class="browse-count"><?php echo esc_html(sprintf(__('%d Deals Coming', 'dealsindia'), $deals_count)); ?></p>
                                <?php endif; ?>
                                <?php if ($start_date) : ?>
                                    <p style="font-size: 11px; color: #fdcb6e; margin-top: 4px;">
                                        🗓️ Starts: <?php echo esc_html(date('M d, Y', strtotime($start_date))); ?>
                                    </p>
                                <?php endif; ?>
                            </div>
                        </a>
                    </div>
                <?php endforeach; ?>
            </div>
        </div>
    </section>
    <?php endif; ?>

    <!-- Expired Campaigns (Show last 3 only) -->
    <?php if (!empty($expired_campaigns)) : 
        $recent_expired = array_slice($expired_campaigns, 0, 3);
    ?>
    <section class="browse-section">
        <div class="container">
            <h2 class="browse-section-title"><?php echo esc_html('⏱️ Past Campaigns', 'dealsindia'); ?></h2>
            <div class="browse-grid">
                <?php foreach ($recent_expired as $campaign) :
                    $icon = get_term_meta($campaign->term_id, 'campaign_icon', true);
                    $deals_count = $campaign->count;
                    $campaign_url = get_term_link($campaign);
                ?>
                    <div class="browse-card">
                        <a href="<?php echo esc_url($campaign_url); ?>" class="browse-card-link">
                            <div class="browse-icon">
                                <?php if ($icon) : ?>
                                    <span class="browse-emoji"><?php echo esc_html($icon); ?></span>
                                <?php else : ?>
                                    <span class="browse-emoji">🎉</span>
                                <?php endif; ?>
                            </div>
                            <div class="browse-content">
                                <h3 class="browse-name"><?php echo esc_html($campaign->name); ?></h3>
                                <p style="font-size: 11px; color: #d63031; margin-top: 4px;">
                                    🔴 Campaign Ended
                                </p>
                                <?php if ($deals_count > 0) : ?>
                                    <p class="browse-count"><?php echo esc_html(sprintf(__('%d Deals Archived', 'dealsindia'), $deals_count)); ?></p>
                                <?php endif; ?>
                            </div>
                        </a>
                    </div>
                <?php endforeach; ?>
            </div>
        </div>
    </section>
    <?php endif; ?>
    
    <!-- No Campaigns Message -->
    <?php if (empty($all_campaigns)) : ?>
    <section class="browse-section">
        <div class="container">
            <div class="no-deals-message">
                <p><?php echo esc_html('No campaigns available at the moment. Check back soon!', 'dealsindia'); ?></p>
            </div>
        </div>
    </section>
    <?php endif; ?>
    
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page-all-categories.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Template Name: All Categories Archive
 * Description: Displays all deal categories in a grid layout
 */

get_header();
?>

<div class="archive-page">
    
    <!-- Page Header -->
    <section class="section-header">
        <div class="container">
            <h1><?php echo esc_html('All Categories', 'arrzone'); ?></h1>
            <p><?php echo esc_html('Explore deals across all categories and save big', 'arrzone'); ?></p>
        </div>
    </section>

    <!-- Browse Section -->
    <section class="browse-section">
        <div class="container">
            
            <?php
            // Get all categories
            $categories_args = array(
                'taxonomy'   => 'deal-category',
                'hide_empty' => false,
                'orderby'    => 'name',
                'order'      => 'ASC',
            );
            
            $all_categories = get_terms($categories_args);
            
            if (!empty($all_categories) && !is_wp_error($all_categories)):
                
                // Separate featured and regular categories
                $featured_categories = array();
                $regular_categories = array();
                
                foreach ($all_categories as $category) {
                    $is_featured = get_term_meta($category->term_id, 'category_is_featured', true);
                    if ($is_featured) {
                        $featured_categories[] = $category;
                    } else {
                        $regular_categories[] = $category;
                    }
                }
                
                // Display Featured Categories
                if (!empty($featured_categories)): ?>
                    <div class="featured-categories-section">
                        <h2 class="browse-section-title"><?php echo esc_html('Featured Categories', 'arrzone'); ?></h2>
                        <div class="browse-grid">
                            <?php foreach ($featured_categories as $category):
                                $category_icon = get_term_meta($category->term_id, 'category_icon', true);
                                $category_icon_image_id = get_term_meta($category->term_id, 'category_icon_image_id', true);
                                $category_icon_image_url = $category_icon_image_id ? wp_get_attachment_url($category_icon_image_id) : '';
                                $deals_count = $category->count;
                                $category_url = get_term_link($category);
                            ?>
                                <div class="browse-card featured">
                                    <a href="<?php echo esc_url($category_url); ?>" class="browse-card-link">
                                        <div class="browse-icon">
                                            <?php if ($category_icon_image_url): ?>
                                                <img src="<?php echo esc_url($category_icon_image_url); ?>" 
                                                     alt="<?php echo esc_attr($category->name); ?>" 
                                                     class="category-icon-img">
                                            <?php elseif ($category_icon): ?>
                                                <span class="browse-emoji"><?php echo esc_html($category_icon); ?></span>
                                            <?php else: ?>
                                                <span class="browse-emoji">🏷️</span>
                                            <?php endif; ?>
                                        </div>
                                        <div class="browse-content">
                                            <h3 class="browse-name"><?php echo esc_html($category->name); ?></h3>
                                            <p class="browse-count">
                                                <?php
                                                printf(
                                                    _n('%s Deal', '%s Deals', $deals_count, 'arrzone'),
                                                    number_format_i18n($deals_count)
                                                );
                                                ?>
                                            </p>
                                        </div>
                                    </a>
                                </div>
                            <?php endforeach; ?>
                        </div>
                    </div>
                <?php endif;
                
                // Display All Categories
                if (!empty($regular_categories)): ?>
                    <div class="all-categories-section">
                        <h2 class="browse-section-title"><?php echo esc_html('All Categories', 'arrzone'); ?></h2>
                        <div class="browse-grid">
                            <?php foreach ($regular_categories as $category):
                                $category_icon = get_term_meta($category->term_id, 'category_icon', true);
                                $category_icon_image_id = get_term_meta($category->term_id, 'category_icon_image_id', true);
                                $category_icon_image_url = $category_icon_image_id ? wp_get_attachment_url($category_icon_image_id) : '';
                                $deals_count = $category->count;
                                $category_url = get_term_link($category);
                            ?>
                                <div class="browse-card">
                                    <a href="<?php echo esc_url($category_url); ?>" class="browse-card-link">
                                        <div class="browse-icon">
                                            <?php if ($category_icon_image_url): ?>
                                                <img src="<?php echo esc_url($category_icon_image_url); ?>" 
                                                     alt="<?php echo esc_attr($category->name); ?>" 
                                                     class="category-icon-img">
                                            <?php elseif ($category_icon): ?>
                                                <span class="browse-emoji"><?php echo esc_html($category_icon); ?></span>
                                            <?php else: ?>
                                                <span class="browse-emoji">🏷️</span>
                                            <?php endif; ?>
                                        </div>
                                        <div class="browse-content">
                                            <h3 class="browse-name"><?php echo esc_html($category->name); ?></h3>
                                            <p class="browse-count">
                                                <?php
                                                printf(
                                                    _n('%s Deal', '%s Deals', $deals_count, 'arrzone'),
                                                    number_format_i18n($deals_count)
                                                );
                                                ?>
                                            </p>
                                        </div>
                                    </a>
                                </div>
                            <?php endforeach; ?>
                        </div>
                    </div>
                <?php endif;
                
            else: ?>
                <div class="no-categories">
                    <p><?php echo esc_html('No categories found.', 'arrzone'); ?></p>
                </div>
            <?php endif; ?>
            
        </div>
    </section>
    
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page-all-deal-types.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Template Name: All Deal Types Archive
 * Description: Displays all deal types in a grid layout
 */

get_header();
?>

<div class="archive-page">
    
    <!-- Page Header -->
    <section class="section-header">
        <div class="container">
            <h1><?php echo esc_html('All Deal Types', 'dealsindia'); ?></h1>
            <p><?php echo esc_html('Explore different types of deals and find the best offers', 'dealsindia'); ?></p>
        </div>
    </section>

    <!-- Browse Section -->
    <section class="browse-section">
        <div class="container">
            
            <?php
            // Get all deal types
            $deal_types_args = array(
                'taxonomy'   => 'deal-type',
                'hide_empty' => false,
                'orderby'    => 'name',
                'order'      => 'ASC',
            );
            
            $all_deal_types = get_terms($deal_types_args);
            
            if (!empty($all_deal_types) && !is_wp_error($all_deal_types)):
            ?>
                <div class="all-deal-types-section">
                    <h2 class="browse-section-title"><?php echo esc_html('All Deal Types', 'dealsindia'); ?></h2>
                    <div class="browse-grid">
                        <?php foreach ($all_deal_types as $deal_type):
                            $dealtype_icon = get_term_meta($deal_type->term_id, 'dealtype_icon', true);
                            $dealtype_icon_image_id = get_term_meta($deal_type->term_id, 'dealtype_icon_image_id', true);
                            $dealtype_icon_image_url = $dealtype_icon_image_id ? wp_get_attachment_url($dealtype_icon_image_id) : '';
                            $dealtype_color = get_term_meta($deal_type->term_id, 'dealtype_color', true);
                            $deals_count = $deal_type->count;
                            $deal_type_url = get_term_link($deal_type);
                        ?>
                            <div class="browse-card">
                                <a href="<?php echo esc_url($deal_type_url); ?>" class="browse-card-link">
                                    <div class="browse-icon">
                                        <?php if ($dealtype_icon_image_url): ?>
                                            <img src="<?php echo esc_url($dealtype_icon_image_url); ?>" 
                                                 alt="<?php echo esc_attr($deal_type->name); ?>" 
                                                 class="dealtype-icon-img">
                                        <?php elseif ($dealtype_icon): ?>
                                            <span class="browse-emoji"><?php echo esc_html($dealtype_icon); ?></span>
                                        <?php else: ?>
                                            <span class="browse-emoji">🎫</span>
                                        <?php endif; ?>
                                    </div>
                                    <div class="browse-content">
                                        <h3 class="browse-name"><?php echo esc_html($deal_type->name); ?></h3>
                                        <p class="browse-count">
                                            <?php
                                            printf(
                                                _n('%s Deal', '%s Deals', $deals_count, 'dealsindia'),
                                                number_format_i18n($deals_count)
                                            );
                                            ?>
                                        </p>
                                        <?php if ($dealtype_color): ?>
                                            <div class="dealtype-color-indicator" style="background-color: <?php echo esc_attr($dealtype_color); ?>; width: 40px; height: 4px; border-radius: 2px; margin-top: 8px;"></div>
                                        <?php endif; ?>
                                    </div>
                                </a>
                            </div>
                        <?php endforeach; ?>
                    </div>
                </div>
                
            <?php else: ?>
                <div class="no-deal-types">
                    <p><?php echo esc_html('No deal types found.', 'dealsindia'); ?></p>
                </div>
            <?php endif; ?>
            
        </div>
    </section>
    
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page-all-stores.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Template Name: All Stores Archive
 * Description: Displays all stores in a grid layout
 */

get_header();
?>

<div class="archive-page">
    
    <!-- Page Header -->
    <section class="section-header">
        <div class="container">
            <h1><?php echo esc_html('All Stores', 'arrzone'); ?></h1>
            <p><?php echo esc_html('Browse through our collection of stores and grab the best deals', 'arrzone'); ?></p>
        </div>
    </section>

    <!-- Browse Section -->
    <section class="browse-section">
        <div class="container">
            
            <?php
            // Get all stores
            $stores_args = array(
                'taxonomy'   => 'store',
                'hide_empty' => false,
                'orderby'    => 'name',
                'order'      => 'ASC',
            );
            
            $all_stores = get_terms($stores_args);
            
            if (!empty($all_stores) && !is_wp_error($all_stores)):
                
                // Separate featured and regular stores
                $featured_stores = array();
                $regular_stores = array();
                
                foreach ($all_stores as $store) {
                    $is_featured = get_term_meta($store->term_id, 'store_is_featured', true);
                    if ($is_featured) {
                        $featured_stores[] = $store;
                    } else {
                        $regular_stores[] = $store;
                    }
                }
                
                // Display Featured Stores
                if (!empty($featured_stores)): ?>
                    <div class="featured-stores-section">
                        <h2 class="browse-section-title"><?php echo esc_html('Featured Stores', 'arrzone'); ?></h2>
                        <div class="browse-grid">
                            <?php foreach ($featured_stores as $store):
                                $store_logo_id = get_term_meta($store->term_id, 'store_logo_id', true);
                                $store_cashback = get_term_meta($store->term_id, 'store_cashback', true);
                                $deals_count = $store->count;
                                $store_url = get_term_link($store);
                            ?>
                                <div class="browse-card featured">
                                    <a href="<?php echo esc_url($store_url); ?>" class="browse-card-link">
                                        <div class="browse-image">
                                            <?php if ($store_logo_id):
                                                $logo_url = wp_get_attachment_image_url($store_logo_id, 'medium');
                                            ?>
                                                <img src="<?php echo esc_url($logo_url); ?>" alt="<?php echo esc_attr($store->name); ?>" class="store-logo">
                                            <?php else:
                                                $initials = strtoupper(substr($store->name, 0, 2));
                                            ?>
                                                <div class="browse-store-fallback"><?php echo esc_html($initials); ?></div>
                                            <?php endif; ?>
                                        </div>
                                        <div class="browse-content">
                                            <h3 class="browse-name"><?php echo esc_html($store->name); ?></h3>
                                            <p class="browse-count">
                                                <?php
                                                printf(
                                                    _n('%s Deal', '%s Deals', $deals_count, 'arrzone'),
                                                    number_format_i18n($deals_count)
                                                );
                                                ?>
                                            </p>
                                            <?php if ($store_cashback): ?>
                                                <p class="browse-cashback">
                                                    <?php echo esc_html('Up to', 'arrzone'); ?> 
                                                    <?php echo esc_html($store_cashback); ?> 
                                                    <?php echo esc_html('Cashback', 'arrzone'); ?>
                                                </p>
                                            <?php endif; ?>
                                        </div>
                                    </a>
                                </div>
                            <?php endforeach; ?>
                        </div>
                    </div>
                <?php endif;
                
                // Display All Stores
                if (!empty($regular_stores)): ?>
                    <div class="all-stores-section">
                        <h2 class="browse-section-title"><?php echo esc_html('All Stores', 'arrzone'); ?></h2>
                        <div class="browse-grid">
                            <?php foreach ($regular_stores as $store):
                                $store_logo_id = get_term_meta($store->term_id, 'store_logo_id', true);
                                $store_cashback = get_term_meta($store->term_id, 'store_cashback', true);
                                $deals_count = $store->count;
                                $store_url = get_term_link($store);
                            ?>
                                <div class="browse-card">
                                    <a href="<?php echo esc_url($store_url); ?>" class="browse-card-link">
                                        <div class="browse-image">
                                            <?php if ($store_logo_id):
                                                $logo_url = wp_get_attachment_image_url($store_logo_id, 'medium');
                                            ?>
                                                <img src="<?php echo esc_url($logo_url); ?>" alt="<?php echo esc_attr($store->name); ?>" class="store-logo">
                                            <?php else:
                                                $initials = strtoupper(substr($store->name, 0, 2));
                                            ?>
                                                <div class="browse-store-fallback"><?php echo esc_html($initials); ?></div>
                                            <?php endif; ?>
                                        </div>
                                        <div class="browse-content">
                                            <h3 class="browse-name"><?php echo esc_html($store->name); ?></h3>
                                            <p class="browse-count">
                                                <?php
                                                printf(
                                                    _n('%s Deal', '%s Deals', $deals_count, 'arrzone'),
                                                    number_format_i18n($deals_count)
                                                );
                                                ?>
                                            </p>
                                            <?php if ($store_cashback): ?>
                                                <p class="browse-cashback">
                                                    <?php echo esc_html('Up to', 'arrzone'); ?> 
                                                    <?php echo esc_html($store_cashback); ?> 
                                                    <?php echo esc_html('Cashback', 'arrzone'); ?>
                                                </p>
                                            <?php endif; ?>
                                        </div>
                                    </a>
                                </div>
                            <?php endforeach; ?>
                        </div>
                    </div>
                <?php endif;
                
            else: ?>
                <div class="no-stores">
                    <p><?php echo esc_html('No stores found.', 'arrzone'); ?></p>
                </div>
            <?php endif; ?>
            
        </div>
    </section>
    
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Standard Page Template
 * Displays WordPress Pages (Contact, Privacy Policy, About, etc.)
 * 
 * @package DealsIndia
 * @version 1.0
 */

get_header();
?>

<div class="page-wrapper">
    <div class="container">
        
        <?php while (have_posts()) : the_post(); ?>
        
        <article class="page-content-wrapper">
            
            <header class="page-header">
                <h1 class="page-title"><?php the_title(); ?></h1>
            </header>
            
            <div class="page-content">
                <?php the_content(); ?>
            </div>
            
        </article>
        
        <?php endwhile; ?>
        
    </div>
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\single.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Single Deal Template - Enhanced & Dynamic
 * 
 * Features:
 * - Hero section with deal info
 * - Store details sidebar
 * - Related deals from same category
 * - More deals from same store
 * - Trending deals section
 * - Social share
 * - Countdown timer
 * - Mobile-optimized
 * 
 * @package ARRZONE
 * @version 5.0 - Enhanced Dynamic
 */

get_header();

// Start the loop
if (have_posts()) :
    while (have_posts()) : the_post();
        
        $post_id = get_the_ID();
        
        // Get deal meta data
        $coupon_code = get_post_meta($post_id, 'deal_coupon_code', true);
        $affiliate_link = get_post_meta($post_id, 'deal_affiliate_link', true);
        $original_price = get_post_meta($post_id, 'deal_original_price', true);
        $sale_price = get_post_meta($post_id, 'deal_sale_price', true);
        $expiry_date = get_post_meta($post_id, 'deal_expiry_date', true);
        $terms = get_post_meta($post_id, 'deal_terms', true);
        
        // Calculate discount
        $discount = 0;
        if ($original_price && $sale_price && $original_price > $sale_price) {
            $discount = round((($original_price - $sale_price) / $original_price) * 100);
        }
        
        // Check if expired
        $is_expired = false;
        if ($expiry_date) {
            $expiry_timestamp = strtotime($expiry_date);
            $is_expired = (current_time('timestamp') > $expiry_timestamp);
        }
        
        // Get taxonomies
        $categories = get_the_terms($post_id, 'deal-category');
        $stores = get_the_terms($post_id, 'store');
        $deal_types = get_the_terms($post_id, 'deal-type');
        
        // Get store meta
        $store_cashback = '';
        $store_logo_url = '';
        $store_banner_url = '';
        $store_website = '';
        
        if ($stores && !is_wp_error($stores)) {
            $first_store = reset($stores);
            $store_logo_id = get_term_meta($first_store->term_id, 'store_logo_id', true);
            $store_logo_url = $store_logo_id ? wp_get_attachment_url($store_logo_id) : '';
            $store_banner_id = get_term_meta($first_store->term_id, 'store_banner_id', true);
            $store_banner_url = $store_banner_id ? wp_get_attachment_url($store_banner_id) : '';
            $store_cashback = get_term_meta($first_store->term_id, 'store_cashback', true);
            $store_website = get_term_meta($first_store->term_id, 'store_website_url', true);
        }
?>

<main class="single-deal-page">
    
    <?php
    // =====================================================
    // HERO SECTION (Store Banner Background)
    // =====================================================
    if ($store_banner_url) :
    ?>
    <section class="deal-hero-section" style="background-image: url(<?php echo esc_url($store_banner_url); ?>);">
        <div class="deal-hero-overlay"></div>
        <div class="container">
            <div class="deal-hero-content">
                <?php dealsindia_breadcrumb(); ?>
            </div>
        </div>
    </section>
    <?php else : ?>
    <div class="container">
        <div class="deal-breadcrumb-simple">
            <?php dealsindia_breadcrumb(); ?>
        </div>
    </div>
    <?php endif; ?>
    
    <div class="container">
        
        <!-- Main Deal Layout -->
        <div class="single-deal-grid">
            
            <!-- Left Column: Deal Image & Description -->
            <div class="deal-left-column">
                
                <!-- Featured Image -->
                <div class="deal-featured-image">
                    <?php if (has_post_thumbnail()) : ?>
                        <?php the_post_thumbnail('large', array('class' => 'deal-main-image')); ?>
                    <?php else : ?>
                        <div class="deal-no-image">
                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke-width="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <polyline points="21 15 16 10 5 21"/>
                            </svg>
                            <p><?php esc_html_e('No image available', 'dealsindia'); ?></p>
                        </div>
                    <?php endif; ?>
                    
                    <?php if ($discount > 0 && !$is_expired) : ?>
                        <div class="deal-discount-badge">
                            <span class="discount-value"><?php echo esc_html($discount); ?>%</span>
                            <span class="discount-label"><?php esc_html_e('OFF', 'dealsindia'); ?></span>
                        </div>
                    <?php endif; ?>
                    
                    <?php if ($is_expired) : ?>
                        <div class="deal-expired-badge">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10" stroke-width="2"/>
                                <line x1="15" y1="9" x2="9" y2="15" stroke-width="2"/>
                                <line x1="9" y1="9" x2="15" y2="15" stroke-width="2"/>
                            </svg>
                            <p><?php esc_html_e('Deal Expired', 'dealsindia'); ?></p>
                        </div>
                    <?php endif; ?>
                </div>
                
                <!-- Deal Description -->
                <div class="deal-description-section">
                    <h2 class="section-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M12 20h9" stroke-width="2"/>
                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z" stroke-width="2"/>
                        </svg>
                        <?php esc_html_e('Deal Description', 'dealsindia'); ?>
                    </h2>
                    <div class="deal-content">
                        <?php the_content(); ?>
                    </div>
                </div>
                
                <!-- Terms & Conditions -->
                <?php if ($terms) : ?>
                    <div class="deal-terms-section">
                        <h3 class="section-title">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10" stroke-width="2"/>
                                <line x1="12" y1="16" x2="12" y2="12" stroke-width="2"/>
                                <line x1="12" y1="8" x2="12.01" y2="8" stroke-width="2"/>
                            </svg>
                            <?php esc_html_e('Terms & Conditions', 'dealsindia'); ?>
                        </h3>
                        <div class="terms-content">
                            <?php echo wp_kses_post($terms); ?>
                        </div>
                    </div>
                <?php endif; ?>
                
                <!-- Social Share -->
                <div class="deal-social-share">
                    <h4 class="share-title"><?php esc_html_e('Share this deal:', 'dealsindia'); ?></h4>
                    <?php dealsindia_social_share_buttons(); ?>
                </div>
                
            </div><!-- .deal-left-column -->
            
            <!-- Right Sidebar: Store Info & CTA -->
            <aside class="deal-right-sidebar">
                
                <!-- Store Badge -->
                <?php if ($stores && !is_wp_error($stores)) : ?>
                    <div class="deal-store-badge">
                        <?php if ($store_logo_url) : ?>
                            <div class="store-logo">
                                <img src="<?php echo esc_url($store_logo_url); ?>" alt="<?php echo esc_attr($first_store->name); ?>">
                            </div>
                        <?php endif; ?>
                        <div class="store-info">
                            <span class="store-label"><?php esc_html_e('Available at', 'dealsindia'); ?></span>
                            <h3 class="store-name"><?php echo esc_html($first_store->name); ?></h3>
                            <?php if ($store_cashback) : ?>
                                <span class="store-cashback">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <line x1="12" y1="1" x2="12" y2="23" stroke-width="2"/>
                                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke-width="2"/>
                                    </svg>
                                    <?php echo esc_html($store_cashback); ?>
                                </span>
                            <?php endif; ?>
                        </div>
                    </div>
                <?php endif; ?>
                
                <!-- Deal Title -->
                <h1 class="deal-title"><?php the_title(); ?></h1>
                
                <!-- Price Section -->
                <?php if ($sale_price) : ?>
                    <div class="deal-price-section">
                        <div class="price-main">
                            <span class="currency">₹</span><?php echo number_format($sale_price); ?>
                        </div>
                        <?php if ($original_price && $original_price > $sale_price) : ?>
                            <div class="price-comparison">
                                <span class="price-old">₹<?php echo number_format($original_price); ?></span>
                                <span class="price-save">
                                    <?php esc_html_e('You Save:', 'dealsindia'); ?>
                                    ₹<?php echo number_format($original_price - $sale_price); ?>
                                </span>
                            </div>
                        <?php endif; ?>
                    </div>
                <?php endif; ?>
                
                <!-- Countdown Timer -->
                <?php if ($expiry_date && !$is_expired) : ?>
                    <div class="deal-countdown" id="dealCountdown" data-expiry="<?php echo esc_attr($expiry_date); ?>">
                        <div class="countdown-label">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10" stroke-width="2"/>
                                <polyline points="12 6 12 12 16 14" stroke-width="2"/>
                            </svg>
                            <?php esc_html_e('Deal Ends In:', 'dealsindia'); ?>
                        </div>
                        <div class="countdown-timer">
                            <div class="countdown-item">
                                <span class="countdown-value" id="days">00</span>
                                <span class="countdown-unit"><?php esc_html_e('Days', 'dealsindia'); ?></span>
                            </div>
                            <div class="countdown-separator">:</div>
                            <div class="countdown-item">
                                <span class="countdown-value" id="hours">00</span>
                                <span class="countdown-unit"><?php esc_html_e('Hrs', 'dealsindia'); ?></span>
                            </div>
                            <div class="countdown-separator">:</div>
                            <div class="countdown-item">
                                <span class="countdown-value" id="minutes">00</span>
                                <span class="countdown-unit"><?php esc_html_e('Mins', 'dealsindia'); ?></span>
                            </div>
                            <div class="countdown-separator">:</div>
                            <div class="countdown-item">
                                <span class="countdown-value" id="seconds">00</span>
                                <span class="countdown-unit"><?php esc_html_e('Secs', 'dealsindia'); ?></span>
                            </div>
                        </div>
                    </div>
                <?php endif; ?>
                
                <!-- Coupon Code -->
                <?php if ($coupon_code && !$is_expired) : ?>
                    <div class="deal-coupon-box">
                        <label class="coupon-label">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <rect x="1" y="5" width="22" height="14" rx="2" ry="2" stroke-width="2"/>
                                <line x="1" y1="10" x2="23" y2="10" stroke-width="2"/>
                            </svg>
                            <?php esc_html_e('Coupon Code:', 'dealsindia'); ?>
                        </label>
                        <div class="coupon-code-wrapper">
                            <code class="coupon-code-text" id="couponCode"><?php echo esc_html($coupon_code); ?></code>
                            <button class="copy-coupon-btn" id="copyCouponBtn">
                                <svg class="copy-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke-width="2"/>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" stroke-width="2"/>
                                </svg>
                                <span class="copy-text"><?php esc_html_e('Copy', 'dealsindia'); ?></span>
                            </button>
                        </div>
                    </div>
                <?php endif; ?>
                
                <!-- CTA Button -->
                <?php if (!$is_expired && $affiliate_link) : ?>
                    <a href="<?php echo esc_url($affiliate_link); ?>" class="btn btn-primary btn-full btn-deal-cta" target="_blank" rel="nofollow noopener" data-deal-id="<?php echo esc_attr($post_id); ?>">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" stroke-width="2"/>
                            <polyline points="10 17 15 12 10 7" stroke-width="2"/>
                            <line x1="15" y1="12" x2="3" y2="12" stroke-width="2"/>
                        </svg>
                        <?php echo $coupon_code ? esc_html__('Reveal Code & Get Deal', 'dealsindia') : esc_html__('Get This Deal', 'dealsindia'); ?>
                    </a>
                <?php elseif ($is_expired) : ?>
                    <button class="btn btn-disabled btn-full" disabled>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <line x1="15" y1="9" x2="9" y2="15" stroke-width="2"/>
                            <line x1="9" y1="9" x2="15" y2="15" stroke-width="2"/>
                        </svg>
                        <?php esc_html_e('Deal Expired', 'dealsindia'); ?>
                    </button>
                <?php endif; ?>
                
                <!-- Deal Meta Info -->
                <div class="deal-meta-info">
                    <?php if ($categories && !is_wp_error($categories)) : ?>
                        <div class="meta-item">
                            <span class="meta-label">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" stroke-width="2"/>
                                    <line x1="7" y1="7" x2="7.01" y2="7" stroke-width="2"/>
                                </svg>
                                <?php esc_html_e('Category:', 'dealsindia'); ?>
                            </span>
                            <span class="meta-value">
                                <?php echo get_the_term_list($post_id, 'deal-category', '', ', '); ?>
                            </span>
                        </div>
                    <?php endif; ?>
                    
                    <?php if ($deal_types && !is_wp_error($deal_types)) : ?>
                        <div class="meta-item">
                            <span class="meta-label">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <rect x="3" y="3" width="7" height="7" rx="1" stroke-width="2"/>
                                    <rect x="14" y="3" width="7" height="7" rx="1" stroke-width="2"/>
                                    <rect x="14" y="14" width="7" height="7" rx="1" stroke-width="2"/>
                                    <rect x="3" y="14" width="7" height="7" rx="1" stroke-width="2"/>
                                </svg>
                                <?php esc_html_e('Type:', 'dealsindia'); ?>
                            </span>
                            <span class="meta-value">
                                <?php echo get_the_term_list($post_id, 'deal-type', '', ', '); ?>
                            </span>
                        </div>
                    <?php endif; ?>
                </div>
                
            </aside><!-- .deal-right-sidebar -->
            
        </div><!-- .single-deal-grid -->
        
        <?php
        // =====================================================
        // RELATED DEALS (Same Category)
        // =====================================================
        $related_args = array(
            'post_type' => 'deals',
            'posts_per_page' => 4,
            'post__not_in' => array($post_id),
            'orderby' => 'rand',
        );
        
        if ($categories && !is_wp_error($categories)) {
            $related_args['tax_query'] = array(
                array(
                    'taxonomy' => 'deal-category',
                    'field' => 'term_id',
                    'terms' => wp_list_pluck($categories, 'term_id'),
                )
            );
        }
        
        $related_query = new WP_Query($related_args);
        
        if ($related_query->have_posts()) :
        ?>
        <section class="related-deals-section">
            <h2 class="section-title-main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" stroke-width="2"/>
                </svg>
                <?php esc_html_e('Related Deals', 'dealsindia'); ?>
            </h2>
            <div class="related-deals-grid">
                <?php while ($related_query->have_posts()) : $related_query->the_post(); ?>
                    <?php get_template_part('template-parts/deal-card'); ?>
                <?php endwhile; wp_reset_postdata(); ?>
            </div>
        </section>
        <?php endif; ?>
        
        <?php
        // =====================================================
        // MORE FROM SAME STORE
        // =====================================================
        if ($stores && !is_wp_error($stores)) :
            $store_deals_args = array(
                'post_type' => 'deals',
                'posts_per_page' => 4,
                'post__not_in' => array($post_id),
                'orderby' => 'date',
                'order' => 'DESC',
                'tax_query' => array(
                    array(
                        'taxonomy' => 'store',
                        'field' => 'term_id',
                        'terms' => $first_store->term_id,
                    )
                )
            );
            
            $store_deals_query = new WP_Query($store_deals_args);
            
            if ($store_deals_query->have_posts()) :
        ?>
        <section class="store-deals-section">
            <h2 class="section-title-main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke-width="2"/>
                    <polyline points="9 22 9 12 15 12 15 22" stroke-width="2"/>
                </svg>
                <?php printf(esc_html__('More from %s', 'dealsindia'), esc_html($first_store->name)); ?>
            </h2>
            <div class="store-deals-grid">
                <?php while ($store_deals_query->have_posts()) : $store_deals_query->the_post(); ?>
                    <?php get_template_part('template-parts/deal-card'); ?>
                <?php endwhile; wp_reset_postdata(); ?>
            </div>
        </section>
        <?php 
            endif;
        endif;
        ?>
        
    </div><!-- .container -->
    
</main>

<?php
    endwhile;
endif;

get_footer();
?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\style.css === 
/*
Theme Name: ARRZONE
Theme URI: https://yoursite.com
Author: Your Name
Author URI: https://yoursite.com
Description: Deals, Coupons, and Cashback Aggregator Platform - CouponDunia Style Premium Design
Version: 1.0.1
Requires at least: 5.8
Tested up to: 6.4
Requires PHP: 7.4
License: GNU General Public License v2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Text Domain: arrzone
Tags: deals, coupons, cashback, ecommerce, shopping
*/


=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\AI_INSTRUCTIONS.txt === 
═══════════════════════════════════════════════════
ARRZone Project - AI Assistant Guidelines
═══════════════════════════════════════════════════

⚠️ GOLDEN RULES:

1. ALWAYS ASK FOR EXISTING CODE FIRST
   - Never write code blind
   - Request file contents before modifying
   - Understand current implementation

2. EXPLAIN BEFORE IMPLEMENTING
   - Describe your plan
   - Show before/after comparison
   - Wait for approval

3. PROVIDE SAFETY NETS
   - Backup instructions
   - Rollback plan
   - Testing checklist

4. BE CONTEXT-AWARE
   - Check dependencies
   - Verify compatibility
   - Consider side effects

5. TEST SUGGESTIONS
   - What pages to check
   - What functionality to verify
   - What could go wrong

═══════════════════════════════════════════════════

❌ NEVER DO:
- Write code without seeing existing implementation
- Assume file structure or function names
- Make changes directly to live site
- Skip testing suggestions
- Ignore dependencies
- adding inline css in php files

✅ ALWAYS DO:
- Ask to see existing code first
- Explain your approach
- Show comparisons
- Suggest testing
- Provide rollback plan

═══════════════════════════════════════════════════

EXAMPLE RESPONSE TEMPLATE:

"Before I help with [task], let me understand the current setup.

Please share:
1. Current content of [file1]
2. Current content of [file2]
3. How [file1] is referenced in other files

Questions:
- [Relevant question 1]
- [Relevant question 2]

Once I see the existing code, I'll:
1. [Step 1 of plan]
2. [Step 2 of plan]
3. [Step 3 of plan]

Testing approach:
- [What to test]
- [Expected result]

Ready to share the existing files?"

═══════════════════════════════════════════════════

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\arrzone_project_full.txt === 
=== PROJECT STRUCTURE === 
Folder PATH listing for volume Windows
Volume serial number is D4CD-3897
C:.
|   404.php
|   AI_INSTRUCTIONS.txt
|   archive.php
|   arrzone_project_full.txt
|   footer.php
|   functions.php
|   header.php
|   index.php
|   page-all-campaigns.php
|   page-all-categories.php
|   page-all-deal-types.php
|   page-all-stores.php
|   page.php
|   robots.txt
|   single.php
|   style.css
|   
+---.git
|   |   COMMIT_EDITMSG
|   |   config
|   |   description
|   |   HEAD
|   |   index
|   |   
|   +---hooks
|   |       applypatch-msg.sample
|   |       commit-msg.sample
|   |       fsmonitor-watchman.sample
|   |       post-update.sample
|   |       pre-applypatch.sample
|   |       pre-commit.sample
|   |       pre-merge-commit.sample
|   |       pre-push.sample
|   |       pre-rebase.sample
|   |       pre-receive.sample
|   |       prepare-commit-msg.sample
|   |       push-to-checkout.sample
|   |       sendemail-validate.sample
|   |       update.sample
|   |       
|   +---info
|   |       exclude
|   |       
|   +---logs
|   |   |   HEAD
|   |   |   
|   |   \---refs
|   |       +---heads
|   |       |       main
|   |       |       
|   |       \---remotes
|   |           \---origin
|   |                   main
|   |                   
|   +---objects
|   |   +---00
|   |   |       7d622f8423cbb43b7eef014e2e08e78fedfff0
|   |   |       
|   |   +---02
|   |   |       1ec16833e9b5364409178f2b4efc3fd98b4994
|   |   |       d3c74b44586dc6f26d393c0d28f132f859ff77
|   |   |       f5c466d88ff5b16746658a4b3965ca8bb60990
|   |   |       
|   |   +---06
|   |   |       16da2331db76ed25638ed8c74b51e8a85ea88e
|   |   |       
|   |   +---08
|   |   |       eb5decd63b28063f588cb7907d6a6e51eeb2e0
|   |   |       
|   |   +---0b
|   |   |       5d83d0c197f8f3a89fbf85e14187d4046a5cd9
|   |   |       f4301ad7f59840d07699b9a5f2185defa34657
|   |   |       
|   |   +---0c
|   |   |       43238675193154eb3fc02b4d7901c15dbf168d
|   |   |       b154514b0633dfce0c8c366d1837afe872e5e9
|   |   |       
|   |   +---0e
|   |   |       893a38ad65b5807d490944f80ac04359a1cfcd
|   |   |       d3e721ad4e5e389b2f61a7e170316273204365
|   |   |       d468e36e28fe5333df3bce56064e5e9fa0ce6f
|   |   |       
|   |   +---12
|   |   |       82900ccadd5c339b6791eea4c3f2c8a8e2970d
|   |   |       
|   |   +---13
|   |   |       2b25874547c0311494bfa9eab0d04621fbf6d8
|   |   |       320c53be80f052d25dc083aa68a374df9df4a4
|   |   |       5b1a9d6f5b399dc2778572b9aedbabfcb1bcbd
|   |   |       
|   |   +---14
|   |   |       9e43109692b24b3683d348e4985b04c220ebb4
|   |   |       
|   |   +---15
|   |   |       690687925c15e027db3c454235f9480aacea13
|   |   |       d8bacb2b5b5593032e346b8602d224e0852d91
|   |   |       
|   |   +---16
|   |   |       31c6fe1ba2297bc6b0a6c50baed78f2c8131db
|   |   |       fdd4606099765e6fdacffabfe34a0ac4b21098
|   |   |       
|   |   +---18
|   |   |       38711e758801906f33b6fd264d2b3e0e54c743
|   |   |       60da4e6890dcc50b49f0e8ff64a3a13b08d6ea
|   |   |       a6ecf077ae4699f81cf77f13c185bde95dab08
|   |   |       
|   |   +---19
|   |   |       2e6b65a4bf448401811658fd36166df85501ed
|   |   |       
|   |   +---1b
|   |   |       cba144c89ae19147220417c7b555c1e85b32ab
|   |   |       
|   |   +---1c
|   |   |       73262596151971c631dc038480cf7433e8c43a
|   |   |       
|   |   +---1d
|   |   |       6c7db4470a9438f4c6359383fc097536151b71
|   |   |       
|   |   +---1e
|   |   |       c05ae5c1762b0a6e988ead67adb1b3067af5fa
|   |   |       d7b656203b4f749546aea668a49f79fd4d923e
|   |   |       
|   |   +---1f
|   |   |       1b27d236943bfdab73871eba4ef5ff6928911a
|   |   |       25e2e21e1e387d261283c1c7e1cdbc1a3073a1
|   |   |       ddf877634f347892c36ab5c92dd3c4123a7114
|   |   |       
|   |   +---20
|   |   |       50ef3ceae57f2a0d4d922fa0430b0028efb2c1
|   |   |       79a8f8a4091037b7601062d07773ecab625b13
|   |   |       
|   |   +---21
|   |   |       447b7c6fc3f3dddddddc825a19ee83b6ff9a49
|   |   |       c62cba13ec265f1032cea04ed613ec3c74ba49
|   |   |       
|   |   +---22
|   |   |       43380be30b9594500ab8a5883f5cebe6768b83
|   |   |       
|   |   +---23
|   |   |       de820544ef4c828a5b1a88e9309a65a4057d31
|   |   |       
|   |   +---24
|   |   |       8673eae0484a1002f2f996c56f8174d42f4a0e
|   |   |       
|   |   +---26
|   |   |       087872ae92a74b7d9e866fac557484576334aa
|   |   |       09b161dc3b755d8a515fdea21a412419c2f377
|   |   |       
|   |   +---28
|   |   |       cc5834443b457947efcf016af961e9acd08add
|   |   |       
|   |   +---2c
|   |   |       dfc56ca38c45de144ee34da18beeacb4f598dd
|   |   |       
|   |   +---2d
|   |   |       b089c49534f11df30c1ab3277d0bb936f5feef
|   |   |       
|   |   +---2f
|   |   |       f92a0fad9a65f7442cf5b78751d2177416b754
|   |   |       
|   |   +---31
|   |   |       d943fd046ea9890a3c877b2da0101ee3c28307
|   |   |       
|   |   +---32
|   |   |       35c93397b479689c9e14a4f3427dda46c3fbd3
|   |   |       45f63502bed56b0d4dccccf2dadc8ec2db0a92
|   |   |       
|   |   +---38
|   |   |       2827514d7057f555462f6d41f538237b282fca
|   |   |       
|   |   +---3b
|   |   |       e90d9fe677f26d8dc30d2e0e74bcda3007e441
|   |   |       
|   |   +---3d
|   |   |       fdba9e5a01661fa0a9817d7721e636abe7b0ff
|   |   |       
|   |   +---3e
|   |   |       51ea14fa69f7cfc3fb4d3bd8e7d05e603f33fb
|   |   |       
|   |   +---3f
|   |   |       c962b0bf955ae37767e320640b6b77fda79eb9
|   |   |       
|   |   +---40
|   |   |       717914a3c02aeabab486b1502b81729ca585a8
|   |   |       
|   |   +---43
|   |   |       99c9367e4609954bc37d8793283c9afc9217ca
|   |   |       
|   |   +---45
|   |   |       40c8b8032264eec1ff4b309af547ad02ae9089
|   |   |       4bfc546d4c773816777a7ac4d153dda2194ada
|   |   |       
|   |   +---48
|   |   |       38fe339b1faa122f7a78842675f35a657c88ba
|   |   |       54afb8c8f1e1fe68dc100ab8b244fa752e7614
|   |   |       
|   |   +---49
|   |   |       3b7d18eff70a99005656de9f70d021daf8f474
|   |   |       
|   |   +---4a
|   |   |       24f878531230a8ce8a1e0989885394bdbf1311
|   |   |       2517f12e9d25fd12a871563a25708587a82793
|   |   |       
|   |   +---4c
|   |   |       5385cd42a244011d07e46fa3352cecce61f16d
|   |   |       
|   |   +---4d
|   |   |       28ff1d8a9d4977d20bb47bb3c519dbd7e062bc
|   |   |       76b3dd69ab07c920ddc7fe445a8ea41db8f125
|   |   |       
|   |   +---4f
|   |   |       5f8fd93dd5e2f83eeb46f7795467c7b9e27468
|   |   |       
|   |   +---51
|   |   |       238880aa9d005f67de4ef701de78f5dd620a58
|   |   |       
|   |   +---54
|   |   |       ca2c7629747f0dac0008d602743646e9309ad1
|   |   |       f9caf36810c7cc2f9526f1a7d1f31875a09c70
|   |   |       fc7f1551c5bf1456df5f787827eb342f83335c
|   |   |       
|   |   +---57
|   |   |       89516cf3dae4663728d8671126c440040b5527
|   |   |       
|   |   +---58
|   |   |       9b17fba13325cdc050d2f685b26aae8633fbb4
|   |   |       c5551bc5bdc957e06f07a59d6c32ec9fc250dd
|   |   |       
|   |   +---59
|   |   |       513c76e6236d7ac56517633d1c55c22f38ca7e
|   |   |       75e5c590bc52ca5a80fd2cf2ec912920b8e2fa
|   |   |       
|   |   +---5a
|   |   |       521d46c4db1dca34e3d5ba862ed346b0f66b34
|   |   |       728942f5ecb2b8434f1a5761c4922db0ff8c3a
|   |   |       
|   |   +---5e
|   |   |       29cec10cbd4ee250fc15e9091e46877927c191
|   |   |       ad33b63f2580c8ec8fc0401662cb8aed9c3514
|   |   |       
|   |   +---60
|   |   |       0f12a4ac06323f732f1be280fafc59d09c4adb
|   |   |       
|   |   +---63
|   |   |       493de5a9fae4b888554541066700abb3b2dcfc
|   |   |       8c47695b1738f7ee4fec8d6239d2f7b32125a1
|   |   |       d9dcba5abcb9727d9294511cac03e19c6d6cf7
|   |   |       
|   |   +---65
|   |   |       8f945bb52d20e25c405a1cc02da81a2bd3c665
|   |   |       
|   |   +---67
|   |   |       aabbe4216887019bc29b3523d334065c274b0a
|   |   |       baa7892b69191f6861d5aa563cf45e01358855
|   |   |       
|   |   +---69
|   |   |       03231144670bdea7d9dec2a8f5d6953c75e2ae
|   |   |       
|   |   +---6a
|   |   |       b5132268bbed9d42a116a368aa494c18eff799
|   |   |       
|   |   +---6b
|   |   |       48c159953c5e8d0b432ab967910d1b47babe4b
|   |   |       
|   |   +---6c
|   |   |       15161657ab915b093449e0021454aa334a1963
|   |   |       
|   |   +---6d
|   |   |       aab09e86445b19661c0bce48a2cf4e2b7da33e
|   |   |       
|   |   +---70
|   |   |       a52b83dd644cd9efdf7a2f209489f829a89744
|   |   |       
|   |   +---71
|   |   |       e86813017511646d70fa10ca4f44bece2839e6
|   |   |       
|   |   +---72
|   |   |       8231b63926e9f4638b5347f9336eacb8a09ae7
|   |   |       
|   |   +---73
|   |   |       f6fc4116ffddbf02b08c4be550261cb1dbca73
|   |   |       
|   |   +---74
|   |   |       3504cf8e31a674ff6c894cae3440289a9e43fc
|   |   |       79438a0a3294caa7588bed3f894a9bf0791b4c
|   |   |       
|   |   +---75
|   |   |       cf7e7ebb9c510373794398421c61b54d05a0e1
|   |   |       
|   |   +---76
|   |   |       aa0c9e15ffbb8d53cb60cc6e8db31b68bf4211
|   |   |       
|   |   +---78
|   |   |       9e71caf3bdcd1b998d4f43889d40dcbed9fd8b
|   |   |       
|   |   +---7d
|   |   |       690652a5cc5ab049502ee2085e59343f1ab32f
|   |   |       a05032630836e2a8c2ab9ca74abfc160483130
|   |   |       
|   |   +---7e
|   |   |       18ffac1310028bf674b8419655799d15c6eadd
|   |   |       
|   |   +---81
|   |   |       903f2074da26480771a22d4e50ecaba17bd319
|   |   |       
|   |   +---85
|   |   |       1ddb774e676b07d54a0c4bd0bf3a4e8949e2d2
|   |   |       
|   |   +---8a
|   |   |       29d0855f44cbe0c232d71964e9da2dc601b682
|   |   |       
|   |   +---8b
|   |   |       a05dc1b6f6d89cc29cbd2ed014750de26fe342
|   |   |       f4b2f9469b57e9991be75be33decf244e3b22b
|   |   |       
|   |   +---8d
|   |   |       b4cf5f854afff1e99aaeadd1871d41aefbb0ba
|   |   |       
|   |   +---91
|   |   |       4bc5fb781acd8efaed7b2acabec052a91c0266
|   |   |       
|   |   +---92
|   |   |       a124c61d640ffca39179dcfb12cbef62b35168
|   |   |       c738e5ec355145054f327fe4a49feef6104eb5
|   |   |       d563d70882cfcf69b258c1f07052798fb2f18c
|   |   |       
|   |   +---93
|   |   |       395797400608907f699bfc9f8bf4cd35bf4dc3
|   |   |       
|   |   +---94
|   |   |       e77e10eae22d74e806cc5b24751bcc41a7d194
|   |   |       f814a3c657971110fdcf544b2abd14aa1939a9
|   |   |       
|   |   +---95
|   |   |       c1f51250ba52079f2d1d31f1be2c736785a5fb
|   |   |       
|   |   +---96
|   |   |       e9f4b2271ed812f97667b604903a21e6f71ec3
|   |   |       
|   |   +---97
|   |   |       159b9dc9d738e6eb66dd90ef8dfaaae37b32ab
|   |   |       
|   |   +---99
|   |   |       0c24e1a230153a34d361d2985b170bf8abe0e3
|   |   |       14156331c8c875dece1a35ab9f210544c95f2e
|   |   |       
|   |   +---9a
|   |   |       5335fcc9018c63da70a788e43a98aefcb66840
|   |   |       
|   |   +---9b
|   |   |       35ebbd48151e1c39c68de8e69e2482ebbcd9c4
|   |   |       
|   |   +---9c
|   |   |       adb6d7febe11d681bad5baa265f8c4f82dbbc3
|   |   |       
|   |   +---9e
|   |   |       cde057c914d1b8e95c772ae6c393271c51c03c
|   |   |       
|   |   +---a0
|   |   |       1dee2fc3f3e279af69b5d2f166852b0d1660d9
|   |   |       
|   |   +---a1
|   |   |       fd3bb6c8ef07977f5d2051f29a38f46f232b8a
|   |   |       
|   |   +---a5
|   |   |       6bb0f4e321cb9209ff6b167a067c3e55c35c3e
|   |   |       
|   |   +---a7
|   |   |       2bf4efe2dd4d50a20ea57e6a7fdcc81ddcbc3e
|   |   |       35352b259ec95424247f146aa79191cd6bc519
|   |   |       f2780abb687f84a77abafd299c38fc7b68837d
|   |   |       
|   |   +---a9
|   |   |       b3783eb7ca6ec79601caa430662a9be01f1c67
|   |   |       
|   |   +---ab
|   |   |       eda14536f6fdc566259ba2f7b1f320cb6047db
|   |   |       
|   |   +---ac
|   |   |       a2218e676b8d22455045164ff818783eb3e052
|   |   |       
|   |   +---ae
|   |   |       0694fd0ea896243d252efead74c1020dd9670b
|   |   |       a5ebd1e340bfee0d2bd376a0639980117a553e
|   |   |       d249691ee5addfe5249cf3b828fd6ca2333cd1
|   |   |       
|   |   +---af
|   |   |       0f4daaf5f2c09426bcd34498af32c536f5124f
|   |   |       56f9e269c814a0a89a15b5c65124b9e4754daa
|   |   |       bd04d57246f2b149b80d6811247cde1fdb7563
|   |   |       
|   |   +---b1
|   |   |       a523b35a8d4d8995a3211bc6aca522ed079c54
|   |   |       
|   |   +---b2
|   |   |       9c176424a2944d8876361ddb215e2d5007e6bb
|   |   |       b1615c890722144fa62b03b9e31901a92f339b
|   |   |       ff890621080d24a70650591932312b32ba56ed
|   |   |       
|   |   +---b6
|   |   |       0125977be3637ffe2b9266a01445627289932d
|   |   |       
|   |   +---b7
|   |   |       ba75af659de07d3fba5e1b4db12cb5ad25f2a0
|   |   |       
|   |   +---b8
|   |   |       8225ad4e7f0ffddb0d283ba41f04c4dd755f5b
|   |   |       
|   |   +---ba
|   |   |       a71ebe7014fb5b9ccfe791a3a35b424ea3d401
|   |   |       
|   |   +---c1
|   |   |       9290e820cf9db6911ba9d001bedbe50dbc699a
|   |   |       
|   |   +---c2
|   |   |       3a9ac85b3b75c1b3c9961ca2455bcee12fbeeb
|   |   |       cbd31496e83f88177065c0246c8f872cedf307
|   |   |       
|   |   +---c3
|   |   |       120856221d60c2e228e197f204c62746473bc0
|   |   |       
|   |   +---c4
|   |   |       3bfb885a85f34d54758f8108a56e3bc448fc47
|   |   |       7b50181ccaa22a146250fba7e6467dc1ebc3e4
|   |   |       
|   |   +---c5
|   |   |       801b1c73c8e3fa3161fba703d31297515f79ae
|   |   |       e6c3ee85b8e6ae7a3ad8d17ba1a68fdfef2cf8
|   |   |       
|   |   +---c9
|   |   |       659c9c4eb3dfa7556f7668216a167f6490e52d
|   |   |       
|   |   +---cc
|   |   |       73ef0d1417902d2e1d05ea61cba018590ba198
|   |   |       8918fba068b4b86f69de50f6f27d5843f16c01
|   |   |       a3e2fe7354124c317de72f0a9abe63ec489a8e
|   |   |       
|   |   +---cf
|   |   |       4b73467974a3a085bda04359a03488a472d401
|   |   |       a78f513c207b7bafebd52524113f8356c300a2
|   |   |       
|   |   +---d0
|   |   |       20c38974ca69bc045c722306a7c8d56bf8a76e
|   |   |       2b5984a5637e04ccafdf3c089ccb00cd5f82e7
|   |   |       5c1b328a55e73a698318a8621928295fedb2f6
|   |   |       fefba45b23ff7d43f2a77d38acd6bee5eb44f7
|   |   |       
|   |   +---d1
|   |   |       9188c94853ba9c4806ddc497da1bd941d87591
|   |   |       
|   |   +---d2
|   |   |       65e6ca71a34169f0e1368b61292a2b220f14e9
|   |   |       
|   |   +---d3
|   |   |       71e46030b317b6f77893e62404212017fb1800
|   |   |       f0bf2a6611894af8ea66c78a85b9122e81e4c3
|   |   |       
|   |   +---d5
|   |   |       66ab3c25a9fcda5b20a4f3999c417d41b83ac4
|   |   |       b221bb411aec22b07f0cdca63e260c24bc65fa
|   |   |       
|   |   +---d7
|   |   |       2fca8d208fdd6b20762e7912a07757953fe761
|   |   |       
|   |   +---d8
|   |   |       df7a6000ab320bf992e5365c6cf39b5a2b9c3e
|   |   |       
|   |   +---da
|   |   |       3127156fb0993efb1e03023a2f5b051713000c
|   |   |       698ef7dd748dbe4c4ddc2d86c5ba712865963c
|   |   |       9b6573d4587ed13765d20b9f6f4001c7d91885
|   |   |       ea012a2e862fa3c95cfd3aeff9bebba75b9cab
|   |   |       
|   |   +---dc
|   |   |       bd65fe41ee5c4256744e696acfc284268f06d4
|   |   |       
|   |   +---dd
|   |   |       49b517428a5823bcc22b5d7fab77ce8bc6c31c
|   |   |       
|   |   +---e3
|   |   |       8c4ea37bf652f0c844a3ca1e5bbf169b52f13e
|   |   |       93822242d86449eb1b3716248ceb0822b1c270
|   |   |       a99f149e5fcd04341fee69c6643690dafe1a53
|   |   |       
|   |   +---e4
|   |   |       7a11bb6033fa1242dac152ad02ca6f5d84ca1e
|   |   |       
|   |   +---e5
|   |   |       8ec11e9dfe404d28302924be493943639cfc6d
|   |   |       
|   |   +---e6
|   |   |       04f1c2201d82d17bfa364a03e2b244b8f15dab
|   |   |       9de29bb2d1d6434b8b29ae775ad8c2e48c5391
|   |   |       
|   |   +---e7
|   |   |       5ea86799d91c0afc9385dac56f31f12af2fe1f
|   |   |       
|   |   +---e9
|   |   |       665b87bd1d2dc892af081d519bc5210320364c
|   |   |       
|   |   +---eb
|   |   |       01b36b91ab82cd3e91bee2001feea8b87e3aee
|   |   |       
|   |   +---ed
|   |   |       e3875b380c3c5b4b579e84f11e5820c9c70d6d
|   |   |       
|   |   +---ee
|   |   |       5bcdbee450b542a88d09b4b4fc09d06e33c870
|   |   |       9d8d01c24401fafc79f4baf82703692ecccdaf
|   |   |       f2dd6b34f9587b0d9cfa40f123ae9d82546723
|   |   |       
|   |   +---f0
|   |   |       780c1416f26a8abb9c1f13dcd238876e381547
|   |   |       
|   |   +---f3
|   |   |       9383f2dc3ecfcb3e6066588221e10c3d46525a
|   |   |       
|   |   +---f4
|   |   |       32f89014237068c7546d450e74d01234f39716
|   |   |       
|   |   +---f5
|   |   |       15dd5666bb2e3d8bffad25e9579f3ec705f028
|   |   |       4c9c1856970245844d69ee887a3702f348221c
|   |   |       
|   |   +---f8
|   |   |       27c014a612e79c028087405bc085fcfabb805e
|   |   |       
|   |   +---f9
|   |   |       99bd91e714c987ac030ebb1106f8200e6a70d9
|   |   |       
|   |   +---fb
|   |   |       ee7a43bd505d4a77ba1cbf2389a7a5cd0e8d5f
|   |   |       
|   |   +---fc
|   |   |       620c41850e0224124b5102ee79324a0dae9756
|   |   |       8a367550ca722cd2f676ae6cdd8d0bd8f1a1a6
|   |   |       a0137ddb03272f272812b522ac6d538ec49daa
|   |   |       
|   |   +---fe
|   |   |       8566ee77597abc1380e70cd48b45ea2c84abe3
|   |   |       8dccf4bdd5778196a9a83e770ba640cb6aa2f7
|   |   |       
|   |   +---info
|   |   \---pack
|   \---refs
|       +---heads
|       |       main
|       |       
|       +---remotes
|       |   \---origin
|       |           main
|       |           
|       \---tags
+---assets
|   +---css
|   |       components.css
|   |       global.css
|   |       homepage.css
|   |       layout.css
|   |       page.css
|   |       variables.css
|   |       
|   \---js
|           admin-media-uploader.js
|           banner-slider.js
|           filter.js
|           flip-card.js
|           main.js
|           
+---inc
|   +---admin
|   |       admin-setup.php
|   |       
|   +---ajax
|   |       filter-handler.php
|   |       
|   +---helpers
|   |       deal-helpers.php
|   |       template-helpers.php
|   |       utilities.php
|   |       
|   +---meta-boxes
|   |       banner-meta.php
|   |       deal-meta.php
|   |       giveaway-meta.php
|   |       step-meta.php
|   |       
|   +---post-types
|   |       deals.php
|   |       giveaways.php
|   |       hero-banners.php
|   |       money-earning.php
|   |       work-steps.php
|   |       
|   +---queries
|   |       archive-sorting.php
|   |       deal-queries.php
|   |       
|   +---setup
|   |       enqueue-assets.php
|   |       theme-config.php
|   |       
|   \---taxonomies
|           campaigns.php
|           deal-categories.php
|           deal-types.php
|           stores.php
|           term-meta.php
|           
\---template-parts
        deal-card.php
        filter-sidebar.php
        
 
=== PROJECT FILE CONTENTS === 
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\404.php === 
<?php
if (!defined('ABSPATH')) exit; // Exit if accessed directly

get_header(); 
?>

<div class="container">
    <div class="error-404-container">
        <h1 class="error-title">404</h1>
        <h2>Oops! Page Not Found</h2>
        <p>The page you're looking for doesn't exist or has been moved.</p>
        
        <div class="error-actions">
            <a href="<?php echo esc_url(home_url('/')); ?>" class="btn btn-primary">← Back to Homepage</a>
            
            <div class="error-search">
                <p>Or search for deals:</p>
                <form role="search" method="get" action="<?php echo esc_url(home_url('/')); ?>">
                    <input type="search" 
                           name="s" 
                           placeholder="Search deals..." 
                           class="search-input">
                    <button type="submit" class="btn btn-secondary">🔍 Search</button>
                </form>
            </div>
        </div>
        
        <div class="popular-categories">
            <h3>Browse Popular Categories:</h3>
            <div class="category-filters">
                <?php
                $categories = get_terms(array(
                    'taxonomy' => 'deal_category',
                    'hide_empty' => true,
                    'number'     => 6,
                    'orderby'    => 'count',
                    'order'      => 'DESC'
                ));
                
                if ($categories && !is_wp_error($categories)) :
                    foreach ($categories as $category) : ?>
                        <a href="<?php echo esc_url(get_term_link($category)); ?>" class="btn btn-tag">
                            <?php echo esc_html($category->name); ?>
                        </a>
                    <?php endforeach;
                endif; ?>
            </div>
        </div>
    </div>
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\archive.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Archive Template - Enhanced "Every Page is a Homepage" Architecture
 * 
 * @package ARRZONE
 * @version 7.2 - Fixed Hero Background Images
 */


get_header();


// Detect page type
$page_type = 'deals_archive';
$current_term = null;
$term_name = '';
$term_description = '';
$term_meta = array();


if (is_tax('campaign')) {
    $page_type = 'campaign';
    $current_term = get_queried_object();
    $term_name = $current_term->name;
    $term_description = term_description($current_term->term_id);
    
    $term_meta['icon'] = get_term_meta($current_term->term_id, 'campaign_icon', true);
    $term_meta['banner_id'] = get_term_meta($current_term->term_id, 'campaign_banner_id', true);
    $term_meta['banner_url'] = $term_meta['banner_id'] ? wp_get_attachment_url($term_meta['banner_id']) : '';
    $term_meta['color'] = get_term_meta($current_term->term_id, 'campaign_color', true);
    $term_meta['start_date'] = get_term_meta($current_term->term_id, 'campaign_start_date', true);
    $term_meta['end_date'] = get_term_meta($current_term->term_id, 'campaign_end_date', true);
    $term_meta['tagline'] = get_term_meta($current_term->term_id, 'campaign_tagline', true);
    $term_meta['is_featured'] = get_term_meta($current_term->term_id, 'campaign_is_featured', true);
    
    $today = current_time('Y-m-d');
    $term_meta['status'] = 'Active';
    if ($term_meta['start_date'] && $today < $term_meta['start_date']) {
        $term_meta['status'] = 'Upcoming';
    } elseif ($term_meta['end_date'] && $today > $term_meta['end_date']) {
        $term_meta['status'] = 'Expired';
    }
    
} elseif (is_tax('deal-category')) {
    $page_type = 'category';
    $current_term = get_queried_object();
    $term_name = $current_term->name;
    $term_description = term_description($current_term->term_id);
    
    $term_meta['icon'] = get_term_meta($current_term->term_id, 'category_icon', true);
    $term_meta['icon_image_id'] = get_term_meta($current_term->term_id, 'category_icon_image_id', true);
    $term_meta['icon_image_url'] = $term_meta['icon_image_id'] ? wp_get_attachment_url($term_meta['icon_image_id']) : '';
    $term_meta['color'] = get_term_meta($current_term->term_id, 'category_color', true);
    $term_meta['banner_id'] = get_term_meta($current_term->term_id, 'category_banner_id', true);
    $term_meta['banner_url'] = $term_meta['banner_id'] ? wp_get_attachment_url($term_meta['banner_id']) : '';
    $term_meta['is_featured'] = get_term_meta($current_term->term_id, 'category_is_featured', true);
    $term_meta['featured_deals'] = get_term_meta($current_term->term_id, 'category_featured_deals', true);
    $term_meta['bg_gradient'] = get_term_meta($current_term->term_id, 'category_bg_gradient', true);
    
} elseif (is_tax('store')) {
    $page_type = 'store';
    $current_term = get_queried_object();
    $term_name = $current_term->name;
    $term_description = term_description($current_term->term_id);
    
    $term_meta['logo_id'] = get_term_meta($current_term->term_id, 'store_logo_id', true);
    $term_meta['logo_url'] = $term_meta['logo_id'] ? wp_get_attachment_url($term_meta['logo_id']) : '';
    $term_meta['banner_id'] = get_term_meta($current_term->term_id, 'store_banner_id', true);
    $term_meta['banner_url'] = $term_meta['banner_id'] ? wp_get_attachment_url($term_meta['banner_id']) : '';
    $term_meta['cashback'] = get_term_meta($current_term->term_id, 'store_cashback', true);
    $term_meta['is_featured'] = get_term_meta($current_term->term_id, 'store_is_featured', true);
    $term_meta['website_url'] = get_term_meta($current_term->term_id, 'store_website_url', true);
    $term_meta['bg_color'] = get_term_meta($current_term->term_id, 'store_bg_color', true);
    $term_meta['featured_deals'] = get_term_meta($current_term->term_id, 'store_featured_deals', true);
    
} elseif (is_tax('deal-type')) {
    $page_type = 'dealtype';
    $current_term = get_queried_object();
    $term_name = $current_term->name;
    $term_description = term_description($current_term->term_id);
    
    $term_meta['icon'] = get_term_meta($current_term->term_id, 'dealtype_icon', true);
    $term_meta['icon_image_id'] = get_term_meta($current_term->term_id, 'dealtype_icon_image_id', true);
    $term_meta['icon_image_url'] = $term_meta['icon_image_id'] ? wp_get_attachment_url($term_meta['icon_image_id']) : '';
    $term_meta['color'] = get_term_meta($current_term->term_id, 'dealtype_color', true);
    $term_meta['banner_id'] = get_term_meta($current_term->term_id, 'dealtype_banner_id', true);
    $term_meta['banner_url'] = $term_meta['banner_id'] ? wp_get_attachment_url($term_meta['banner_id']) : '';
    $term_meta['featured_deals'] = get_term_meta($current_term->term_id, 'dealtype_featured_deals', true);
    $term_meta['bg_gradient'] = get_term_meta($current_term->term_id, 'dealtype_bg_gradient', true);
}


global $wp_query;
$total_deals = $wp_query->found_posts;


?>


<div class="archive-deals <?php echo esc_attr($page_type); ?>-page">


<?php
// Hero Sections
if ($page_type === 'campaign') :
?>
    <section class="campaign-hero-section campaign-status-<?php echo esc_attr(strtolower($term_meta['status'])); ?>">
        <?php if (!empty($term_meta['banner_url'])) : ?>
            <div class="hero-bg-image hero-bg-<?php echo esc_attr($page_type); ?>" style="background-image: url('<?php echo esc_url($term_meta['banner_url']); ?>');"></div>
        <?php endif; ?>
        
        <div class="container">
            <div class="campaign-hero-content">
                <div class="campaign-status-badge campaign-<?php echo esc_attr(strtolower($term_meta['status'])); ?>">
                    <?php 
                    if ($term_meta['status'] === 'Active') {
                        echo '🟢 ' . esc_html__('Live Now', 'dealsindia');
                    } elseif ($term_meta['status'] === 'Upcoming') {
                        echo '🟡 ' . esc_html__('Coming Soon', 'dealsindia');
                    } else {
                        echo '🔴 ' . esc_html__('Ended', 'dealsindia');
                    }
                    ?>
                </div>
                
                <div class="campaign-header">
                    <?php if (!empty($term_meta['icon'])) : ?>
                        <div class="campaign-icon-large"><?php echo esc_html($term_meta['icon']); ?></div>
                    <?php endif; ?>
                    <h1 class="campaign-hero-title"><?php echo esc_html($term_name); ?></h1>
                </div>
                
                <?php if (!empty($term_meta['tagline'])) : ?>
                    <p class="campaign-tagline"><?php echo esc_html($term_meta['tagline']); ?></p>
                <?php endif; ?>
                
                <?php if ($term_description) : ?>
                    <div class="campaign-description"><?php echo wp_kses_post($term_description); ?></div>
                <?php endif; ?>
                
                <div class="campaign-hero-meta">
                    <div class="hero-stat">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke-width="2"/><line x1="16" y1="2" x2="16" y2="6" stroke-width="2"/><line x1="8" y1="2" x2="8" y2="6" stroke-width="2"/><line x1="3" y1="10" x2="21" y2="10" stroke-width="2"/></svg>
                        <strong><?php echo number_format($total_deals); ?></strong>
                        <?php echo $total_deals == 1 ? esc_html__('Deal', 'dealsindia') : esc_html__('Deals', 'dealsindia'); ?>
                    </div>
                    
                    <?php if (!empty($term_meta['start_date']) && !empty($term_meta['end_date'])) : ?>
                        <div class="hero-stat campaign-dates">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke-width="2"/><polyline points="12 6 12 12 16 14" stroke-width="2"/></svg>
                            <?php 
                            if ($term_meta['status'] === 'Active') {
                                echo esc_html__('Ends: ', 'dealsindia') . date_i18n('M d, Y', strtotime($term_meta['end_date']));
                            } elseif ($term_meta['status'] === 'Upcoming') {
                                echo esc_html__('Starts: ', 'dealsindia') . date_i18n('M d, Y', strtotime($term_meta['start_date']));
                            } else {
                                echo esc_html__('Ended: ', 'dealsindia') . date_i18n('M d, Y', strtotime($term_meta['end_date']));
                            }
                            ?>
                        </div>
                    <?php endif; ?>
                </div>
            </div>
        </div>
    </section>


<?php elseif ($page_type === 'store') : ?>
    <section class="store-hero-section" <?php if (!empty($term_meta['bg_color'])) : ?>style="background: <?php echo esc_attr($term_meta['bg_color']); ?>;"<?php endif; ?>>
        <?php if (!empty($term_meta['banner_url'])) : ?>
            <div class="hero-bg-image hero-bg-<?php echo esc_attr($page_type); ?>" style="background-image: url('<?php echo esc_url($term_meta['banner_url']); ?>');"></div>
        <?php endif; ?>
        <div class="container">
            <div class="store-hero-content">
                <?php if (!empty($term_meta['logo_url'])) : ?>
                    <div class="store-logo-hero">
                        <img src="<?php echo esc_url($term_meta['logo_url']); ?>" alt="<?php echo esc_attr($term_name); ?>" loading="eager">
                    </div>
                <?php endif; ?>
                <h1 class="store-hero-title"><?php echo esc_html($term_name); ?></h1>
                <?php if ($term_description) : ?>
                    <p class="store-hero-description"><?php echo wp_kses_post($term_description); ?></p>
                <?php endif; ?>
                <div class="store-hero-meta">
                    <div class="hero-stat">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 16V8a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z" stroke-width="2"/><polyline points="7 10 12 14 17 10" stroke-width="2"/></svg>
                        <strong><?php echo number_format($total_deals); ?></strong>
                        <?php echo $total_deals == 1 ? esc_html__('Deal', 'dealsindia') : esc_html__('Deals', 'dealsindia'); ?>
                    </div>
                    <?php if (!empty($term_meta['cashback'])) : ?>
                        <div class="hero-stat hero-cashback">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><line x1="12" y1="1" x2="12" y2="23" stroke-width="2"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke-width="2"/></svg>
                            <?php echo esc_html($term_meta['cashback']); ?>
                        </div>
                    <?php endif; ?>
                    <?php if (!empty($term_meta['website_url'])) : ?>
                        <a href="<?php echo esc_url($term_meta['website_url']); ?>" target="_blank" rel="nofollow noopener" class="hero-store-link">
                            <?php esc_html_e('Visit Store', 'dealsindia'); ?>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" stroke-width="2"/><polyline points="15 3 21 3 21 9" stroke-width="2"/><line x1="10" y1="14" x2="21" y2="3" stroke-width="2"/></svg>
                        </a>
                    <?php endif; ?>
                </div>
            </div>
        </div>
    </section>


<?php elseif ($page_type === 'category') : ?>
    <section class="category-hero-section">
        <?php if (!empty($term_meta['banner_url'])) : ?>
            <div class="hero-bg-image hero-bg-<?php echo esc_attr($page_type); ?>" style="background-image: url('<?php echo esc_url($term_meta['banner_url']); ?>');"></div>
        <?php endif; ?>
        <div class="container">
            <div class="category-hero-content">
                <?php if (!empty($term_meta['icon_image_url'])) : ?>
                    <div class="category-icon-hero">
                        <img src="<?php echo esc_url($term_meta['icon_image_url']); ?>" alt="<?php echo esc_attr($term_name); ?>">
                    </div>
                <?php elseif (!empty($term_meta['icon'])) : ?>
                    <div class="category-emoji-hero"><?php echo esc_html($term_meta['icon']); ?></div>
                <?php endif; ?>
                <h1 class="category-hero-title"><?php echo esc_html($term_name); ?></h1>
                <?php if ($term_description) : ?>
                    <p class="category-hero-description"><?php echo wp_kses_post($term_description); ?></p>
                <?php endif; ?>
                <div class="category-hero-stats">
                    <div class="hero-stat-box">
                        <strong><?php echo number_format($total_deals); ?></strong>
                        <span><?php echo $total_deals == 1 ? esc_html__('Deal', 'dealsindia') : esc_html__('Deals', 'dealsindia'); ?></span>
                    </div>
                </div>
            </div>
        </div>
    </section>


<?php elseif ($page_type === 'dealtype') : ?>
    <section class="dealtype-hero-section">
        <?php if (!empty($term_meta['banner_url'])) : ?>
            <div class="hero-bg-image hero-bg-<?php echo esc_attr($page_type); ?>" style="background-image: url('<?php echo esc_url($term_meta['banner_url']); ?>');"></div>
        <?php endif; ?>
        <div class="container">
            <div class="dealtype-hero-content">
                <?php if (!empty($term_meta['icon_image_url'])) : ?>
                    <div class="dealtype-icon-hero">
                        <img src="<?php echo esc_url($term_meta['icon_image_url']); ?>" alt="<?php echo esc_attr($term_name); ?>">
                    </div>
                <?php elseif (!empty($term_meta['icon'])) : ?>
                    <div class="dealtype-emoji-hero"><?php echo esc_html($term_meta['icon']); ?></div>
                <?php endif; ?>
                <h1 class="dealtype-hero-title"><?php echo esc_html($term_name); ?></h1>
                <?php if ($term_description) : ?>
                    <p class="dealtype-hero-description"><?php echo wp_kses_post($term_description); ?></p>
                <?php endif; ?>
                <div class="dealtype-hero-stats">
                    <div class="hero-stat-box">
                        <strong><?php echo number_format($total_deals); ?></strong>
                        <span><?php echo esc_html__('Available', 'dealsindia'); ?></span>
                    </div>
                </div>
            </div>
        </div>
    </section>
<?php endif; ?>


<?php
// Featured Deals Section
if (($page_type === 'store' || $page_type === 'category' || $page_type === 'dealtype') && !empty($term_meta['featured_deals'])) :
    $featured_deal_ids = array_map('trim', explode(',', $term_meta['featured_deals']));
    $featured_deal_ids = array_filter($featured_deal_ids, 'is_numeric');
    
    if (!empty($featured_deal_ids)) :
        $featured_query = new WP_Query(array(
            'post_type' => 'deals',
            'post__in' => $featured_deal_ids,
            'orderby' => 'post__in',
            'posts_per_page' => count($featured_deal_ids),
            'post_status' => 'publish'
        ));
        
        if ($featured_query->have_posts()) :
?>
<section class="featured-deals-section">
    <div class="container">
        <div class="section-header-inline">
            <h2><?php printf(esc_html__('Featured %s Deals', 'dealsindia'), esc_html($term_name)); ?></h2>
        </div>
        <div class="deals-scroll-wrapper">
            <div class="deals-scroll">
                <?php while ($featured_query->have_posts()) : $featured_query->the_post(); ?>
                    <?php get_template_part('template-parts/deal-card'); ?>
                <?php endwhile; ?>
            </div>
        </div>
    </div>
</section>
<?php
        wp_reset_postdata();
        endif;
    endif;
endif;
?>


<div class="container">
    <div class="archive-breadcrumb">
        <?php dealsindia_breadcrumb(); ?>
    </div>
</div>


<!-- HORIZONTAL FILTERS (FULL WIDTH) -->
<?php 
set_query_var('show_horizontal_only', true);
get_template_part('template-parts/filter-sidebar');
set_query_var('show_horizontal_only', false);
?>


<div class="container">
    <div class="archive-layout">
        
        <aside class="archive-sidebar" id="dealFiltersSidebar">

            <?php 
            set_query_var('show_sidebar_only', true);
            get_template_part('template-parts/filter-sidebar');
            set_query_var('show_sidebar_only', false);
            ?>
        </aside>
        
        <div class="archive-content">
            
            <?php if ($page_type === 'deals_archive') : ?>
                <div class="archive-header-simple">
                    <h1 class="archive-title"><?php esc_html_e('All Deals', 'dealsindia'); ?></h1>
                    <p class="archive-count"><?php echo number_format($total_deals); ?> <?php echo $total_deals == 1 ? esc_html__('deal', 'dealsindia') : esc_html__('deals', 'dealsindia'); ?> <?php esc_html_e('available', 'dealsindia'); ?></p>
                </div>
            <?php else : ?>
                <div class="archive-header-simple">
                    <p class="archive-count"><?php echo number_format($total_deals); ?> <?php echo $total_deals == 1 ? esc_html__('deal found', 'dealsindia') : esc_html__('deals found', 'dealsindia'); ?></p>
                </div>
            <?php endif; ?>
            
            <div class="deals-grid" id="dealsGridContainer">
                <?php if (have_posts()) : ?>
                    <?php while (have_posts()) : the_post(); ?>
                        <?php get_template_part('template-parts/deal-card'); ?>
                    <?php endwhile; ?>
                <?php else : ?>
                    <div class="no-deals-message">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <line x1="15" y1="9" x2="9" y2="15" stroke-width="2"/>
                            <line x1="9" y1="9" x2="15" y2="15" stroke-width="2"/>
                        </svg>
                        <h3><?php esc_html_e('No Deals Found', 'dealsindia'); ?></h3>
                        <p><?php esc_html_e('We couldn\'t find any deals at the moment. Check back soon!', 'dealsindia'); ?></p>
                        <a href="<?php echo esc_url(home_url('/')); ?>" class="btn btn-primary"><?php esc_html_e('Back to Homepage', 'dealsindia'); ?></a>
                    </div>
                <?php endif; ?>
            </div>
            
            <?php if ($wp_query->max_num_pages > 1) : ?>
                <div class="archive-pagination">
                    <?php dealsindia_pagination(); ?>
                </div>
            <?php endif; ?>
            
        </div>
        
    </div>
    
    <?php
    // Browse Sections
    if ($page_type === 'store' || $page_type === 'dealtype' || $page_type === 'campaign') :
        $browse_categories = get_terms(array(
            'taxonomy' => 'deal-category',
            'hide_empty' => true,
            'number' => 12,
            'orderby' => 'count',
            'order' => 'DESC'
        ));
        
        if (!is_wp_error($browse_categories) && count($browse_categories) > 0) :
    ?>
    <section class="browse-section browse-categories">
        <div class="section-header">
            <h2>
                <?php 
                if ($page_type === 'store') {
                    printf(esc_html__('Browse %s by Category', 'dealsindia'), esc_html($term_name));
                } elseif ($page_type === 'campaign') {
                    printf(esc_html__('%s Deals by Category', 'dealsindia'), esc_html($term_name));
                } else {
                    esc_html_e('Browse by Category', 'dealsindia');
                }
                ?>
            </h2>
        </div>
        <div class="browse-grid">
            <?php foreach ($browse_categories as $category) : 
                $icon = get_term_meta($category->term_id, 'category_icon', true);
                $icon_image_id = get_term_meta($category->term_id, 'category_icon_image_id', true);
                $icon_image_url = $icon_image_id ? wp_get_attachment_url($icon_image_id) : '';
                $category_link = get_term_link($category);
            ?>
                <a href="<?php echo esc_url($category_link); ?>" class="browse-card">
                    <div class="browse-icon">
                        <?php if ($icon_image_url) : ?>
                            <img src="<?php echo esc_url($icon_image_url); ?>" alt="<?php echo esc_attr($category->name); ?>">
                        <?php elseif ($icon) : ?>
                            <span class="browse-emoji"><?php echo esc_html($icon); ?></span>
                        <?php endif; ?>
                    </div>
                    <h3 class="browse-name"><?php echo esc_html($category->name); ?></h3>
                    <span class="browse-count"><?php echo number_format($category->count); ?> <?php echo $category->count == 1 ? esc_html__('deal', 'dealsindia') : esc_html__('deals', 'dealsindia'); ?></span>
                </a>
            <?php endforeach; ?>
        </div>
    </section>
    <?php 
        endif;
    endif;
    
    if ($page_type === 'category' || $page_type === 'dealtype' || $page_type === 'campaign' || $page_type === 'deals_archive') :
        $browse_stores = get_terms(array(
            'taxonomy' => 'store',
            'hide_empty' => true,
            'number' => 12,
            'orderby' => 'count',
            'order' => 'DESC'
        ));
        
        if (!is_wp_error($browse_stores) && count($browse_stores) > 0) :
    ?>
    <section class="browse-section browse-stores">
        <div class="section-header">
            <h2>
                <?php 
                if ($page_type === 'category') {
                    printf(esc_html__('Top Stores for %s', 'dealsindia'), esc_html($term_name));
                } elseif ($page_type === 'dealtype') {
                    printf(esc_html__('Top Stores for %s', 'dealsindia'), esc_html($term_name));
                } elseif ($page_type === 'campaign') {
                    printf(esc_html__('Top Stores in %s', 'dealsindia'), esc_html($term_name));
                } else {
                    esc_html_e('Browse by Store', 'dealsindia');
                }
                ?>
            </h2>
        </div>
        <div class="browse-grid">
            <?php foreach ($browse_stores as $store) : 
                $logo_id = get_term_meta($store->term_id, 'store_logo_id', true);
                $logo_url = $logo_id ? wp_get_attachment_url($logo_id) : '';
                $cashback = get_term_meta($store->term_id, 'store_cashback', true);
                $store_link = get_term_link($store);
            ?>
                <a href="<?php echo esc_url($store_link); ?>" class="browse-card browse-store">
                    <?php if ($logo_url) : ?>
                        <div class="browse-store-logo">
                            <img src="<?php echo esc_url($logo_url); ?>" alt="<?php echo esc_attr($store->name); ?>">
                        </div>
                    <?php else : ?>
                        <div class="browse-store-fallback">
                            <?php echo esc_html(strtoupper(substr($store->name, 0, 2))); ?>
                        </div>
                    <?php endif; ?>
                    <h3 class="browse-name"><?php echo esc_html($store->name); ?></h3>
                    <div class="browse-meta">
                        <span class="browse-count"><?php echo number_format($store->count); ?> <?php echo $store->count == 1 ? esc_html__('deal', 'dealsindia') : esc_html__('deals', 'dealsindia'); ?></span>
                        <?php if ($cashback) : ?>
                            <span class="browse-cashback"><?php echo esc_html($cashback); ?></span>
                        <?php endif; ?>
                    </div>
                </a>
            <?php endforeach; ?>
        </div>
    </section>
    <?php 
        endif;
    endif;
    ?>
    
</div>


</div>


<button class="mobile-filter-toggle-btn" id="mobileFilterToggle">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" stroke-width="2"/>
    </svg>
    <?php esc_html_e('Filters', 'dealsindia'); ?>
</button>


<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\footer.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Footer Template - Enhanced & 100% Dynamic
 * 
 * Features:
 * - Newsletter subscription section
 * - 4-column footer menu system
 * - Dynamic social media links
 * - Payment methods display
 * - Copyright with year replacement
 * - Mobile responsive
 * - All content from WordPress Customizer
 * 
 * @package ARRZONE
 * @version 5.0 - Enhanced Dynamic
 */
?>

<!-- Newsletter Section (Above Footer) -->
<?php if (get_theme_mod('dealsindia_show_newsletter', true)) : ?>
<section class="newsletter-section">
    <div class="container">
        <div class="newsletter-wrapper">
            <div class="newsletter-content">
                <?php if (get_theme_mod('dealsindia_newsletter_icon', '📧')) : ?>
                    <div class="newsletter-icon">
                        <?php echo esc_html(get_theme_mod('dealsindia_newsletter_icon', '📧')); ?>
                    </div>
                <?php endif; ?>
                
                <div class="newsletter-text">
                    <h3 class="newsletter-title">
                        <?php echo esc_html(get_theme_mod('dealsindia_newsletter_title', 'Never Miss a Deal!')); ?>
                    </h3>
                    <p class="newsletter-description">
                        <?php echo esc_html(get_theme_mod('dealsindia_newsletter_subtitle', 'Subscribe to get the hottest deals delivered to your inbox.')); ?>
                    </p>
                </div>
            </div>
            
            <form class="newsletter-form" id="newsletterForm" method="post">
                <input 
                    type="email" 
                    name="newsletter_email" 
                    class="newsletter-input" 
                    placeholder="<?php echo esc_attr(get_theme_mod('dealsindia_newsletter_placeholder', 'Enter your email address')); ?>" 
                    required
                >
                <button type="submit" class="newsletter-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <line x1="22" y1="2" x2="11" y2="13" stroke-width="2"/>
                        <polygon points="22 2 15 22 11 13 2 9 22 2" stroke-width="2"/>
                    </svg>
                    <?php echo esc_html(get_theme_mod('dealsindia_newsletter_button_text', 'Subscribe')); ?>
                </button>
                <?php wp_nonce_field('dealsindia_newsletter', 'newsletter_nonce'); ?>
            </form>
            
            <div class="newsletter-message" id="newsletterMessage" style="display: none;"></div>
            
            <?php if (get_theme_mod('dealsindia_newsletter_privacy_text')) : ?>
                <p class="newsletter-privacy">
                    🔒 <?php echo esc_html(get_theme_mod('dealsindia_newsletter_privacy_text', 'We respect your privacy. Unsubscribe anytime.')); ?>
                </p>
            <?php endif; ?>
        </div>
    </div>
</section>
<?php endif; ?>

<!-- Main Footer -->
<footer class="site-footer">
    <div class="container">
        
        <!-- Footer Content Grid -->
        <div class="footer-content">
            
            <!-- Column 1: About & Social -->
            <div class="footer-section footer-about">
                <?php if (has_custom_logo()) : ?>
                    <div class="footer-logo">
                        <?php the_custom_logo(); ?>
                    </div>
                <?php else : ?>
                    <h3 class="footer-brand"><?php bloginfo('name'); ?></h3>
                <?php endif; ?>
                
                <p class="footer-description">
                    <?php echo esc_html(get_theme_mod('dealsindia_footer_about', get_bloginfo('description'))); ?>
                </p>
                
                <!-- Social Media Links - Dynamic -->
                <?php
                $facebook = get_theme_mod('dealsindia_social_facebook');
                $twitter = get_theme_mod('dealsindia_social_twitter');
                $instagram = get_theme_mod('dealsindia_social_instagram');
                $youtube = get_theme_mod('dealsindia_social_youtube');
                $telegram = get_theme_mod('dealsindia_social_telegram');
                
                if ($facebook || $twitter || $instagram || $youtube || $telegram) :
                ?>
                    <div class="footer-social">
                        <?php if ($facebook) : ?>
                            <a href="<?php echo esc_url($facebook); ?>" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                        
                        <?php if ($twitter) : ?>
                            <a href="<?php echo esc_url($twitter); ?>" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                        
                        <?php if ($instagram) : ?>
                            <a href="<?php echo esc_url($instagram); ?>" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                        
                        <?php if ($youtube) : ?>
                            <a href="<?php echo esc_url($youtube); ?>" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                        
                        <?php if ($telegram) : ?>
                            <a href="<?php echo esc_url($telegram); ?>" target="_blank" rel="noopener noreferrer" aria-label="Telegram">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                                </svg>
                            </a>
                        <?php endif; ?>
                    </div>
                <?php endif; ?>
            </div>
            
            <!-- Column 2: Quick Links -->
            <div class="footer-section footer-links">
                <h4><?php echo esc_html(get_theme_mod('dealsindia_footer_links_title', 'Quick Links')); ?></h4>
                <?php
                if (has_nav_menu('footer-links')) {
                    wp_nav_menu(array(
                        'theme_location' => 'footer-links',
                        'menu_class'     => 'footer-menu',
                        'container'      => false,
                        'depth'          => 1,
                    ));
                } else {
                    // Fallback menu
                    echo '<ul class="footer-menu">';
                    echo '<li><a href="' . esc_url(home_url('/')) . '">' . esc_html__('Home', 'dealsindia') . '</a></li>';
                    echo '<li><a href="' . esc_url(home_url('/about-us/')) . '">' . esc_html__('About Us', 'dealsindia') . '</a></li>';
                    echo '<li><a href="' . esc_url(home_url('/contact/')) . '">' . esc_html__('Contact', 'dealsindia') . '</a></li>';
                    echo '<li><a href="' . esc_url(home_url('/blog/')) . '">' . esc_html__('Blog', 'dealsindia') . '</a></li>';
                    echo '</ul>';
                }
                ?>
            </div>
            
            <!-- Column 3: Popular Categories -->
            <div class="footer-section footer-categories">
                <h4><?php echo esc_html(get_theme_mod('dealsindia_footer_categories_title', 'Popular Categories')); ?></h4>
                <?php
                $category_count = get_theme_mod('dealsindia_footer_categories_count', 6);
                $categories = get_terms(array(
                    'taxonomy'   => 'deal-category',
                    'number'     => $category_count,
                    'orderby'    => 'count',
                    'order'      => 'DESC',
                    'hide_empty' => true
                ));
                
                if (!empty($categories) && !is_wp_error($categories)) :
                ?>
                    <ul class="footer-menu">
                        <?php foreach ($categories as $category) : ?>
                            <li>
                                <a href="<?php echo esc_url(get_term_link($category)); ?>">
                                    <?php echo esc_html($category->name); ?>
                                </a>
                            </li>
                        <?php endforeach; ?>
                    </ul>
                <?php else : ?>
                    <p><?php esc_html_e('No categories available yet.', 'dealsindia'); ?></p>
                <?php endif; ?>
            </div>
            
            <!-- Column 4: Top Stores -->
            <div class="footer-section footer-stores">
                <h4><?php echo esc_html(get_theme_mod('dealsindia_footer_stores_title', 'Top Stores')); ?></h4>
                <?php
                $store_count = get_theme_mod('dealsindia_footer_stores_count', 6);
                $stores = get_terms(array(
                    'taxonomy'   => 'store',
                    'number'     => $store_count,
                    'orderby'    => 'count',
                    'order'      => 'DESC',
                    'hide_empty' => true
                ));
                
                if (!empty($stores) && !is_wp_error($stores)) :
                ?>
                    <ul class="footer-menu">
                        <?php foreach ($stores as $store) : ?>
                            <li>
                                <a href="<?php echo esc_url(get_term_link($store)); ?>">
                                    <?php echo esc_html($store->name); ?>
                                </a>
                            </li>
                        <?php endforeach; ?>
                    </ul>
                <?php else : ?>
                    <p><?php esc_html_e('No stores available yet.', 'dealsindia'); ?></p>
                <?php endif; ?>
            </div>
            
        </div><!-- .footer-content -->
        
        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <p class="copyright">
                    <?php
                    $copyright_text = get_theme_mod('dealsindia_copyright_text', '&copy; {year} ' . get_bloginfo('name') . '. All Rights Reserved.');
                    echo wp_kses_post(str_replace('{year}', date('Y'), $copyright_text));
                    ?>
                </p>
                
                <!-- Payment Methods -->
                <?php if (get_theme_mod('dealsindia_show_payment_methods', true)) : ?>
                    <div class="footer-payment-methods">
                        <span><?php echo esc_html(get_theme_mod('dealsindia_payment_text', 'We Accept:')); ?></span>
                        <svg width="40" height="25" viewBox="0 0 40 25" fill="none">
                            <rect width="40" height="25" rx="3" fill="#1434CB"/>
                            <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-size="10" font-weight="bold">VISA</text>
                        </svg>
                        <svg width="40" height="25" viewBox="0 0 40 25" fill="none">
                            <rect width="40" height="25" rx="3" fill="#EB001B"/>
                            <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-size="8" font-weight="bold">MC</text>
                        </svg>
                        <svg width="40" height="25" viewBox="0 0 40 25" fill="none">
                            <rect width="40" height="25" rx="3" fill="#00BAF2"/>
                            <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-size="9" font-weight="bold">UPI</text>
                        </svg>
                    </div>
                <?php endif; ?>
            </div>
        </div><!-- .footer-bottom -->
        
    </div><!-- .container -->
</footer>

<?php wp_footer(); ?>

</body>
</html>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\functions.php === 
<?php
/**
 * ARRZone Theme Functions
 * Consolidated Structure - Clean & Minimal
 * 
 * This file only loads other files - NO logic here!
 * All functionality is organized in inc/ folder
 * 
 * @package ARRZone
 * @version 8.0 - Refactored & Optimized
 */

// Exit if accessed directly
if (!defined('ABSPATH')) {
    exit;
}

// ===================================================== 
// THEME SETUP
// ===================================================== 
require_once get_template_directory() . '/inc/setup/theme-config.php';
require_once get_template_directory() . '/inc/setup/enqueue-assets.php';

// ===================================================== 
// POST TYPES
// ===================================================== 
require_once get_template_directory() . '/inc/post-types/deals.php';
require_once get_template_directory() . '/inc/post-types/hero-banners.php';
require_once get_template_directory() . '/inc/post-types/work-steps.php';
require_once get_template_directory() . '/inc/post-types/giveaways.php';
require_once get_template_directory() . '/inc/post-types/money-earning.php';

// ===================================================== 
// TAXONOMIES
// ===================================================== 
require_once get_template_directory() . '/inc/taxonomies/deal-categories.php';
require_once get_template_directory() . '/inc/taxonomies/stores.php';
require_once get_template_directory() . '/inc/taxonomies/deal-types.php';
require_once get_template_directory() . '/inc/taxonomies/term-meta.php';
require_once get_template_directory() . '/inc/taxonomies/campaigns.php';
// ===================================================== 
// META BOXES
// ===================================================== 
require_once get_template_directory() . '/inc/meta-boxes/deal-meta.php';
require_once get_template_directory() . '/inc/meta-boxes/banner-meta.php';
require_once get_template_directory() . '/inc/meta-boxes/step-meta.php';
require_once get_template_directory() . '/inc/meta-boxes/giveaway-meta.php';

// ===================================================== 
// CONSOLIDATED HELPERS
// ===================================================== 
require_once get_template_directory() . '/inc/helpers/deal-helpers.php';
require_once get_template_directory() . '/inc/helpers/template-helpers.php';
require_once get_template_directory() . '/inc/helpers/utilities.php';

// ===================================================== 
// QUERIES
// ===================================================== 
require_once get_template_directory() . '/inc/queries/deal-queries.php';
require_once get_template_directory() . '/inc/queries/archive-sorting.php';

// ===================================================== 
// AJAX HANDLERS
// ===================================================== 
require_once get_template_directory() . '/inc/ajax/filter-handler.php';

// ===================================================== 
// ADMIN
// ===================================================== 
require_once get_template_directory() . '/inc/admin/admin-setup.php';

// Enable WordPress sitemap
add_filter('wp_sitemaps_enabled', '__return_true');


// ===================================================== 
// END OF FUNCTIONS.PHP
// All logic is now in organized inc/ files
// ===================================================== 

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\header.php === 
<?php
/**
 * Header Template - 100% Dynamic & SEO-Optimized
 * All content controlled from WordPress Customizer
 * Zero hardcoded text, maximum flexibility
 * 
 * FIXES APPLIED:
 * ✅ Dynamic <title> tag (WordPress handles it)
 * ✅ Skip to content link (accessibility)
 * ✅ Proper meta tags for SEO
 * ✅ Open Graph & Twitter Cards
 * ✅ Structured Data (Schema.org) for deals
 * ✅ Form labels for accessibility
 * 
 * @package ARRZONE
 * @version 7.0 - SEO & Accessibility Enhanced
 */

if (!defined('ABSPATH')) exit;
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo('charset'); ?>">
    
    <!-- CRITICAL: Proper Viewport Meta Tag - Prevents Zoom & Fixes Mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Mobile Optimization Meta Tags -->
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#00897B">
    
    <?php 
    // SEO Meta Tags - Dynamic
    if (is_singular()) {
        $meta_description = has_excerpt() ? get_the_excerpt() : wp_trim_words(get_the_content(), 20);
    } else {
        $meta_description = get_bloginfo('description');
    }
    ?>
    <meta name="description" content="<?php echo esc_attr($meta_description); ?>">
    
    <?php 
    // Canonical URL
    if (is_singular()) {
        echo '<link rel="canonical" href="' . esc_url(get_permalink()) . '">' . "\n";
    } elseif (is_tax() || is_category() || is_tag()) {
        echo '<link rel="canonical" href="' . esc_url(get_term_link(get_queried_object())) . '">' . "\n";
    } elseif (is_home() || is_front_page()) {
        echo '<link rel="canonical" href="' . esc_url(home_url('/')) . '">' . "\n";
    }
    ?>
    
    <?php 
    // Open Graph Meta Tags
    if (is_singular()) :
        $og_title = get_the_title();
        $og_description = $meta_description;
        $og_image = has_post_thumbnail() ? get_the_post_thumbnail_url(get_the_ID(), 'large') : '';
        $og_url = get_permalink();
    ?>
    <meta property="og:type" content="article">
    <meta property="og:title" content="<?php echo esc_attr($og_title); ?>">
    <meta property="og:description" content="<?php echo esc_attr($og_description); ?>">
    <?php if ($og_image) : ?>
    <meta property="og:image" content="<?php echo esc_url($og_image); ?>">
    <?php endif; ?>
    <meta property="og:url" content="<?php echo esc_url($og_url); ?>">
    <meta property="og:site_name" content="<?php bloginfo('name'); ?>">
    <?php endif; ?>
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <?php if (is_singular()) : ?>
    <meta name="twitter:title" content="<?php echo esc_attr(get_the_title()); ?>">
    <meta name="twitter:description" content="<?php echo esc_attr($meta_description); ?>">
    <?php if (has_post_thumbnail()) : ?>
    <meta name="twitter:image" content="<?php echo esc_url(get_the_post_thumbnail_url(get_the_ID(), 'large')); ?>">
    <?php endif; ?>
    <?php endif; ?>
    
    <?php 
    // Structured Data (Schema.org JSON-LD) for Deals
    if (is_singular('deals')) :
        $deal_price = get_post_meta(get_the_ID(), 'deal_sale_price', true);
        $deal_original_price = get_post_meta(get_the_ID(), 'deal_original_price', true);
        $deal_image = has_post_thumbnail() ? get_the_post_thumbnail_url(get_the_ID(), 'large') : '';
        $deal_store = wp_get_post_terms(get_the_ID(), 'store');
        $store_name = !empty($deal_store) && !is_wp_error($deal_store) ? $deal_store[0]->name : get_bloginfo('name');
    ?>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "Product",
      "name": "<?php echo esc_js(get_the_title()); ?>",
      <?php if ($deal_image) : ?>
      "image": "<?php echo esc_url($deal_image); ?>",
      <?php endif; ?>
      "description": "<?php echo esc_js(wp_trim_words(get_the_excerpt() ?: get_the_content(), 30)); ?>",
      "brand": {
        "@type": "Brand",
        "name": "<?php echo esc_js($store_name); ?>"
      },
      "offers": {
        "@type": "Offer",
        "url": "<?php echo esc_url(get_permalink()); ?>",
        "priceCurrency": "INR",
        <?php if ($deal_price) : ?>
        "price": "<?php echo esc_js($deal_price); ?>",
        <?php endif; ?>
        "availability": "https://schema.org/InStock",
        "priceValidUntil": "<?php echo esc_js(get_post_meta(get_the_ID(), 'deal_expiry_date', true) ?: date('Y-m-d', strtotime('+30 days'))); ?>"
      }
    }
    </script>
    <?php endif; ?>
    
    <?php wp_head(); ?>
</head>

<body <?php body_class(); ?>>
<?php wp_body_open(); ?>

<?php
// ========================================
// ANNOUNCEMENT BAR (Optional - Disabled by default)
// ========================================
$show_announcement = get_theme_mod('dealsindia_show_announcement_bar', false);
if ($show_announcement) :
    $announcement_text = get_theme_mod('dealsindia_announcement_text', '');
    $announcement_link = get_theme_mod('dealsindia_announcement_link', '');
    $announcement_bg = get_theme_mod('dealsindia_announcement_bg_color', '#ff6b6b');
    $announcement_text_color = get_theme_mod('dealsindia_announcement_text_color', '#ffffff');
    $announcement_closeable = get_theme_mod('dealsindia_announcement_closeable', true);
    
    if ($announcement_text) :
?>
<div class="announcement-bar" style="background-color: <?php echo esc_attr($announcement_bg); ?>; color: <?php echo esc_attr($announcement_text_color); ?>;" id="announcementBar">
    <div class="container">
        <div class="announcement-content">
            <?php if ($announcement_link) : ?>
                <a href="<?php echo esc_url($announcement_link); ?>" class="announcement-link">
                    <?php echo esc_html($announcement_text); ?>
                </a>
            <?php else : ?>
                <span><?php echo esc_html($announcement_text); ?></span>
            <?php endif; ?>
            
            <?php if ($announcement_closeable) : ?>
            <button class="announcement-close" aria-label="<?php esc_attr_e('Close announcement', 'dealsindia'); ?>" onclick="this.parentElement.parentElement.style.display='none'">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <line x1="18" y1="6" x2="6" y2="18" stroke-width="2"/>
                    <line x1="6" y1="6" x2="18" y2="18" stroke-width="2"/>
                </svg>
            </button>
            <?php endif; ?>
        </div>
    </div>
</div>
<?php 
    endif;
endif; 
?>

<?php
// ========================================
// TOP BAR (Optional - Disabled by default)
// ========================================
$show_topbar = get_theme_mod('dealsindia_show_topbar', false);
if ($show_topbar) :
    $topbar_phone = get_theme_mod('dealsindia_topbar_phone', '');
    $topbar_email = get_theme_mod('dealsindia_topbar_email', '');
    $topbar_message = get_theme_mod('dealsindia_topbar_message', '');
?>
<div class="site-topbar">
    <div class="container">
        <div class="topbar-content">
            <div class="topbar-left">
                <?php if ($topbar_message) : ?>
                    <span class="topbar-message"><?php echo esc_html($topbar_message); ?></span>
                <?php endif; ?>
            </div>
            <div class="topbar-right">
                <?php if ($topbar_phone) : ?>
                <a href="tel:<?php echo esc_attr(str_replace(' ', '', $topbar_phone)); ?>" class="topbar-item">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" stroke-width="2"/>
                    </svg>
                    <?php echo esc_html($topbar_phone); ?>
                </a>
                <?php endif; ?>
                
                <?php if ($topbar_email) : ?>
                <a href="mailto:<?php echo esc_attr($topbar_email); ?>" class="topbar-item">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke-width="2"/>
                        <polyline points="22,6 12,13 2,6" stroke-width="2"/>
                    </svg>
                    <?php echo esc_html($topbar_email); ?>
                </a>
                <?php endif; ?>
            </div>
        </div>
    </div>
</div>
<?php endif; ?>

<!-- Main Site Header -->
<header class="site-header<?php echo get_theme_mod('dealsindia_sticky_header', true) ? ' sticky-header' : ''; ?>">
    <div class="container">
        <div class="header-wrapper">
            
            <!-- Logo -->
            <div class="site-logo">
                <?php if (has_custom_logo()) : ?>
                    <?php the_custom_logo(); ?>
                <?php else : 
                    $logo_emoji = get_theme_mod('dealsindia_logo_emoji_fallback', '🏷️');
                    $site_name = get_bloginfo('name');
                ?>
                    <a href="<?php echo esc_url(home_url('/')); ?>" rel="home">
                        <?php if ($logo_emoji) : ?>
                            <span class="logo-icon" aria-hidden="true"><?php echo esc_html($logo_emoji); ?></span>
                        <?php endif; ?>
                        <span><?php echo esc_html($site_name); ?></span>
                    </a>
                <?php endif; ?>
            </div>
            
            <!-- Primary Navigation (Desktop) -->
            <nav class="primary-nav" aria-label="<?php esc_attr_e('Primary Navigation', 'dealsindia'); ?>">
                <?php 
                if (has_nav_menu('primary')) {
                    wp_nav_menu(array(
                        'theme_location' => 'primary',
                        'container'      => false,
                        'menu_class'     => '',
                        'fallback_cb'    => 'dealsindia_fallback_menu'
                    ));
                } else {
                    dealsindia_fallback_menu();
                }
                ?>
            </nav>
            
            <!-- Header Actions -->
            <div class="header-actions">
                
                <!-- Search Toggle -->
                <div class="header-search">
                    <button class="search-toggle" aria-label="<?php esc_attr_e('Toggle search', 'dealsindia'); ?>" aria-expanded="false" type="button">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                            <circle cx="11" cy="11" r="8" stroke-width="2"/>
                            <path d="m21 21-4.35-4.35" stroke-width="2"/>
                        </svg>
                    </button>
                    
                    <!-- Search Dropdown -->
                    <form class="search-form" role="search" method="get" action="<?php echo esc_url(home_url('/')); ?>">
                        <label for="header-search-input" class="screen-reader-text"><?php _e('Search', 'dealsindia'); ?></label>
                        <input 
                            type="search"
                            id="header-search-input"
                            name="s" 
                            placeholder="<?php echo esc_attr(get_theme_mod('dealsindia_search_placeholder', __('Search for deals, stores...', 'dealsindia'))); ?>" 
                            value="<?php echo get_search_query(); ?>"
                            aria-label="<?php esc_attr_e('Search', 'dealsindia'); ?>"
                        >
                        <button type="submit" aria-label="<?php esc_attr_e('Submit search', 'dealsindia'); ?>">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                                <circle cx="11" cy="11" r="8" stroke-width="2"/>
                                <path d="m21 21-4.35-4.35" stroke-width="2"/>
                            </svg>
                        </button>
                    </form>
                </div>
                
                <?php 
                // Optional CTA Button (Disabled by default)
                $show_cta = get_theme_mod('dealsindia_show_header_cta', false);
                if ($show_cta) :
                    $cta_text = get_theme_mod('dealsindia_header_cta_text', __('Submit Deal', 'dealsindia'));
                    $cta_link = get_theme_mod('dealsindia_header_cta_link', '#');
                    $cta_style = get_theme_mod('dealsindia_header_cta_style', 'primary');
                ?>
                <a href="<?php echo esc_url($cta_link); ?>" class="btn btn-<?php echo esc_attr($cta_style); ?> header-cta">
                    <?php echo esc_html($cta_text); ?>
                </a>
                <?php endif; ?>
                
                <!-- Mobile Menu Toggle -->
                <button class="mobile-menu-toggle" aria-label="<?php esc_attr_e('Toggle mobile menu', 'dealsindia'); ?>" aria-expanded="false">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            
        </div>
    </div>
</header>

<!-- Mobile Menu -->
<div class="mobile-menu" id="mobile-menu">
    <!-- Mobile Menu Header -->
    <div class="mobile-menu-header">
        <div class="site-logo">
            <?php if (has_custom_logo()) : ?>
                <?php the_custom_logo(); ?>
            <?php else : 
                $logo_emoji = get_theme_mod('dealsindia_logo_emoji_fallback', '🏷️');
            ?>
                <span class="logo-icon" aria-hidden="true"><?php echo esc_html($logo_emoji); ?></span>
                <span><?php bloginfo('name'); ?></span>
            <?php endif; ?>
        </div>
        <button class="mobile-menu-close" aria-label="<?php esc_attr_e('Close mobile menu', 'dealsindia'); ?>">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <line x1="18" y1="6" x2="6" y2="18" stroke-width="2"/>
                <line x1="6" y1="6" x2="18" y2="18" stroke-width="2"/>
            </svg>
        </button>
    </div>
    
    <!-- Mobile Menu Content -->
    <div class="mobile-menu-content">
        <!-- Mobile Search -->
        <div class="mobile-search">
            <form role="search" method="get" action="<?php echo esc_url(home_url('/')); ?>">
                <label for="mobile-search-input" class="screen-reader-text"><?php _e('Search', 'dealsindia'); ?></label>
                <input 
                    type="search"
                    id="mobile-search-input"
                    name="s" 
                    placeholder="<?php echo esc_attr(get_theme_mod('dealsindia_search_placeholder', __('Search for deals, stores...', 'dealsindia'))); ?>"
                    aria-label="<?php esc_attr_e('Search', 'dealsindia'); ?>"
                >
                <button type="submit" aria-label="<?php esc_attr_e('Submit search', 'dealsindia'); ?>">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                        <circle cx="11" cy="11" r="8" stroke-width="2"/>
                        <path d="m21 21-4.35-4.35" stroke-width="2"/>
                    </svg>
                </button>
            </form>
        </div>
        
        <!-- Mobile Navigation -->
        <nav class="mobile-nav" aria-label="<?php esc_attr_e('Mobile Navigation', 'dealsindia'); ?>">
            <?php 
            if (has_nav_menu('primary')) {
                wp_nav_menu(array(
                    'theme_location' => 'primary',
                    'container'      => false,
                    'menu_class'     => 'mobile-menu-list'
                ));
            }
            ?>
        </nav>
        
        <!-- Mobile Categories -->
        <?php 
        $show_mobile_categories = get_theme_mod('dealsindia_show_mobile_categories', true);
        if ($show_mobile_categories) :
            $mobile_cat_count = get_theme_mod('dealsindia_mobile_categories_count', 5);
            $mobile_categories = get_terms(array(
                'taxonomy'   => 'deal-category',
                'number'     => $mobile_cat_count,
                'hide_empty' => true,
                'orderby'    => 'count',
                'order'      => 'DESC'
            ));
            
            if (!empty($mobile_categories) && !is_wp_error($mobile_categories)) :
        ?>
        <div class="mobile-categories">
            <h3><?php echo esc_html(get_theme_mod('dealsindia_mobile_cat_title', __('Top Categories', 'dealsindia'))); ?></h3>
            <ul>
                <?php foreach ($mobile_categories as $category) : 
                    $icon = get_term_meta($category->term_id, 'category_icon', true);
                ?>
                <li>
                    <a href="<?php echo esc_url(get_term_link($category)); ?>">
                        <?php if ($icon) : ?>
                            <span class="category-icon" aria-hidden="true"><?php echo esc_html($icon); ?></span>
                        <?php endif; ?>
                        <span><?php echo esc_html($category->name); ?></span>
                        <span class="category-count"><?php echo esc_html($category->count); ?></span>
                    </a>
                </li>
                <?php endforeach; ?>
            </ul>
        </div>
        <?php 
            endif;
        endif; 
        ?>
        
        <!-- Mobile Deal Types (Optional) -->
        <?php 
        $show_mobile_dealtypes = get_theme_mod('dealsindia_show_mobile_dealtypes', false);
        if ($show_mobile_dealtypes) :
            $mobile_dealtypes = get_terms(array(
                'taxonomy'   => 'deal-type',
                'hide_empty' => true,
                'orderby'    => 'count',
                'order'      => 'DESC'
            ));
            
            if (!empty($mobile_dealtypes) && !is_wp_error($mobile_dealtypes)) :
        ?>
        <div class="mobile-deal-types">
            <h3><?php echo esc_html(get_theme_mod('dealsindia_mobile_dealtype_title', __('Deal Types', 'dealsindia'))); ?></h3>
            <ul>
                <?php foreach ($mobile_dealtypes as $dealtype) : ?>
                <li>
                    <a href="<?php echo esc_url(get_term_link($dealtype)); ?>">
                        <?php echo esc_html($dealtype->name); ?>
                    </a>
                </li>
                <?php endforeach; ?>
            </ul>
        </div>
        <?php 
            endif;
        endif; 
        ?>
    </div>
</div>

<!-- Menu Overlay -->
<div class="menu-overlay"></div>

<!-- Main Content Wrapper (for skip link target) -->
<main id="main-content" class="site-main">

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\index.php === 
<?php
/**
 * Homepage Template - 100% Dynamic
 * All sections with complete functionality
 * 
 * @package ARRZONE
 * @version 7.0 - Fixed Banner Links
 */

get_header();
?>

<main class="homepage">
    
    <!-- ========================================
         1. WELCOME TEXT SECTION
         ======================================== -->
    <?php
    $welcome_text = get_theme_mod('welcome_text', 'Welcome to ' . get_bloginfo('name') . ' - India\'s Trusted Coupons, Offers & Cashback Website');
    if ($welcome_text) :
    ?>
    <section class="welcome-text-section">
        <div class="container">
            <div class="welcome-text-container">
                <h1 class="welcome-text"><?php echo esc_html($welcome_text); ?></h1>
            </div>
        </div>
    </section>
    <?php endif; ?>
    
    <!-- ========================================
         2. HERO BANNERS SECTION (CAROUSEL)
         ======================================== -->
    <section class="hero-slider-cd">
        <div class="container">
            <?php
            // Get hero banners
            $banners_query = new WP_Query(array(
                'post_type'      => 'hero_banner',
                'posts_per_page' => get_theme_mod('hero_banners_count', 10),
                'post_status'    => 'publish',
                'orderby'        => 'menu_order date',
                'order'          => 'ASC',
                'meta_query'     => array(
                    array(
                        'key'     => 'banner_active',
                        'value'   => '1',
                        'compare' => '=',
                    )
                )
            ));
            
            // Fallback if no active banners
            if (!$banners_query->have_posts()) {
                $banners_query = new WP_Query(array(
                    'post_type'      => 'hero_banner',
                    'posts_per_page' => get_theme_mod('hero_banners_count', 10),
                    'post_status'    => 'publish',
                    'orderby'        => 'date',
                    'order'          => 'DESC',
                ));
            }
            
            if ($banners_query->have_posts()) :
                $banner_count = $banners_query->post_count;
                $banners_per_slide = 2;
            ?>
            
            <div class="hero-banners-carousel" data-carousel="hero" data-banner-count="<?php echo esc_attr($banner_count); ?>">
                <div class="hero-banners-wrapper">
                    <?php 
                    $slide_index = 0;
                    $banners_in_current_slide = 0;
                    $banner_index = 0;
                    
                    while ($banners_query->have_posts()) : $banners_query->the_post();
                        
                        // Open new slide div (every 2 banners)
                        if ($banners_in_current_slide === 0) {
                            $active_class = ($slide_index === 0) ? ' active' : '';
                            echo '<div class="hero-banners-slide' . $active_class . '" data-slide="' . $slide_index . '">';
                        }
                        
                        // Get banner data - FIXED: banner_button_link instead of banner_url
                        $banner_url = get_post_meta(get_the_ID(), 'banner_button_link', true);
                        $banner_image = get_the_post_thumbnail_url(get_the_ID(), 'large');
                        
                        if (!$banner_url || $banner_url === '') {
                            $banner_url = get_post_type_archive_link('deals');
                        }
                        ?>
                        
                        <!-- Banner Item -->
                        <div class="hero-banner-item">
                            <a href="<?php echo esc_url($banner_url); ?>" class="hero-banner-link">
                                <?php if ($banner_image) : ?>
                                    <img src="<?php echo esc_url($banner_image); ?>" 
                                         alt="<?php echo esc_attr(get_the_title()); ?>" 
                                         class="hero-banner-image" 
                                         loading="<?php echo $banner_index === 0 ? 'eager' : 'lazy'; ?>">
                                <?php else : ?>
                                    <div class="hero-banner-placeholder">
                                        <h3><?php the_title(); ?></h3>
                                        <?php if (get_the_excerpt()) : ?>
                                            <p><?php echo esc_html(get_the_excerpt()); ?></p>
                                        <?php endif; ?>
                                    </div>
                                <?php endif; ?>
                            </a>
                        </div>
                        
                        <?php
                        $banners_in_current_slide++;
                        $banner_index++;
                        
                        // Close slide div after 2 banners
                        if ($banners_in_current_slide === $banners_per_slide) {
                            echo '</div>';
                            $slide_index++;
                            $banners_in_current_slide = 0;
                        }
                        
                    endwhile;
                    
                    // Close last slide if incomplete
                    if ($banners_in_current_slide > 0) {
                        echo '</div>';
                    }
                    
                    wp_reset_postdata();
                    ?>
                </div>
                
                <!-- Carousel Controls -->
                <?php
                $total_slides = ceil($banner_count / $banners_per_slide);
                if ($total_slides > 1) :
                ?>
                    <div class="carousel-dots"></div>
                    <button class="carousel-arrow carousel-arrow-prev" aria-label="<?php echo esc_attr(get_theme_mod('hero_prev_label', __('Previous', 'dealsindia'))); ?>">‹</button>
                    <button class="carousel-arrow carousel-arrow-next" aria-label="<?php echo esc_attr(get_theme_mod('hero_next_label', __('Next', 'dealsindia'))); ?>">›</button>
                <?php endif; ?>
            </div>
            
            <?php else : ?>
                <!-- Default Placeholders -->
                <div class="hero-banners-carousel">
                    <div class="hero-banners-wrapper">
                        <div class="hero-banners-slide active">
                            <div class="hero-banner-item">
                                <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" class="hero-banner-link">
                                    <div class="hero-banner-placeholder hero-placeholder-1">
                                        <h3><?php echo esc_html(get_theme_mod('hero_placeholder_1_title', 'Welcome to ' . get_bloginfo('name'))); ?></h3>
                                        <p><?php echo esc_html(get_theme_mod('hero_placeholder_1_text', 'India\'s #1 Deals & Cashback Platform')); ?></p>
                                        <span class="placeholder-btn"><?php echo esc_html(get_theme_mod('hero_placeholder_1_btn', '🎁 Start Saving Today!')); ?></span>
                                    </div>
                                </a>
                            </div>
                            <div class="hero-banner-item">
                                <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" class="hero-banner-link">
                                    <div class="hero-banner-placeholder hero-placeholder-2">
                                        <h3><?php echo esc_html(get_theme_mod('hero_placeholder_2_title', '🔥 Hot Deals Live!')); ?></h3>
                                        <p><?php echo esc_html(get_theme_mod('hero_placeholder_2_text', 'Save Big with Exclusive Cashback Offers')); ?></p>
                                        <span class="placeholder-btn"><?php echo esc_html(get_theme_mod('hero_placeholder_2_btn', 'Browse Deals →')); ?></span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <?php if (current_user_can('manage_options')) : ?>
                    <div class="admin-notice">
                        <p><strong><?php echo esc_html(get_theme_mod('admin_notice_text', '⚠️ Admin Notice: No hero banners found.')); ?></strong> 
                        <a href="<?php echo esc_url(admin_url('edit.php?post_type=hero_banner')); ?>"><?php echo esc_html(get_theme_mod('admin_notice_link_text', 'Click here to add banners')); ?></a></p>
                    </div>
                <?php endif; ?>
            <?php endif; ?>
        </div>
    </section>
    
    <!-- ========================================
         3. THREE STEPS SECTION
         ======================================== -->
    <section class="three-steps">
        <div class="container">
            <div class="three-steps-container">
                
                <h2 class="steps-title">
                    <?php echo esc_html(get_theme_mod('three_steps_title', __('How It Works', 'dealsindia'))); ?>
                </h2>
                
                <div class="steps-grid">
                    <?php
                    $steps = get_theme_mod('three_steps_items', array());
                    
                    if (!empty($steps)) :
                        foreach ($steps as $index => $step) :
                            $number = $index + 1;
                            $icon = isset($step['icon']) ? $step['icon'] : '';
                            $title = isset($step['title']) ? $step['title'] : '';
                            $description = isset($step['description']) ? $step['description'] : '';
                            ?>
                            <div class="step-item">
                                <div class="step-number"><?php echo esc_html($number); ?></div>
                                <?php if ($icon) : ?>
                                    <div class="step-icon"><?php echo esc_html($icon); ?></div>
                                <?php endif; ?>
                                <h3><?php echo esc_html($title); ?></h3>
                                <p><?php echo esc_html($description); ?></p>
                            </div>
                            <?php
                        endforeach;
                    else :
                        // Default steps
                        ?>
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-icon">🔍</div>
                            <h3><?php echo esc_html(get_theme_mod('step_1_title', __('Browse Deals', 'dealsindia'))); ?></h3>
                            <p><?php echo esc_html(get_theme_mod('step_1_desc', __('Discover exclusive offers from top brands', 'dealsindia'))); ?></p>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-icon">🎟️</div>
                            <h3><?php echo esc_html(get_theme_mod('step_2_title', __('Get Coupon Code', 'dealsindia'))); ?></h3>
                            <p><?php echo esc_html(get_theme_mod('step_2_desc', __('Click to reveal and copy the promo code', 'dealsindia'))); ?></p>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-icon">💰</div>
                            <h3><?php echo esc_html(get_theme_mod('step_3_title', __('Save Money', 'dealsindia'))); ?></h3>
                            <p><?php echo esc_html(get_theme_mod('step_3_desc', __('Apply code at checkout and enjoy savings!', 'dealsindia'))); ?></p>
                        </div>
                        <?php
                    endif;
                    ?>
                </div>
                
            </div>
        </div>
    </section>
    
   <!-- ========================================
     4. HOT PICKS SECTION - CAMPAIGN AWARE
     ======================================== -->
<section class="hot-picks">
    <div class="container">
        <div class="hot-picks-container" <?php 
            $hot_picks_bg = get_theme_mod('hot_picks_bg_image');
            if ($hot_picks_bg) {
                echo 'style="background-image:url(' . esc_url($hot_picks_bg) . ');"';
            }
        ?>>
            <div class="hot-picks-content">
                <?php
                // Get active featured campaigns
                $today = current_time('Y-m-d');
                $active_campaigns = get_terms(array(
                    'taxonomy' => 'campaign',
                    'hide_empty' => true,
                    'meta_query' => array(
                        'relation' => 'AND',
                        array(
                            'key' => 'campaign_is_featured',
                            'value' => '1',
                            'compare' => '='
                        ),
                        array(
                            'relation' => 'OR',
                            array(
                                'key' => 'campaign_start_date',
                                'value' => $today,
                                'compare' => '<=',
                                'type' => 'DATE'
                            ),
                            array(
                                'key' => 'campaign_start_date',
                                'compare' => 'NOT EXISTS'
                            )
                        ),
                        array(
                            'relation' => 'OR',
                            array(
                                'key' => 'campaign_end_date',
                                'value' => $today,
                                'compare' => '>=',
                                'type' => 'DATE'
                            ),
                            array(
                                'key' => 'campaign_end_date',
                                'compare' => 'NOT EXISTS'
                            )
                        )
                    )
                ));
                
                // Build query args based on active campaigns
                $hot_picks_count = get_theme_mod('hot_picks_count', 12);
                $hot_picks_args = array(
                    'post_type' => 'deals',
                    'posts_per_page' => $hot_picks_count,
                    'post_status' => 'publish',
                    'orderby' => 'date',
                    'order' => 'DESC',
                );
                
                // Determine "See More" link and title
                $see_more_url = get_post_type_archive_link('deals');
                $section_title = get_theme_mod('hot_picks_title', __('🔥 Festival Hot Picks!', 'dealsindia'));
                
                if (!empty($active_campaigns) && !is_wp_error($active_campaigns)) {
                    // If single active campaign - show its deals and link to it
                    if (count($active_campaigns) === 1) {
                        $campaign = $active_campaigns[0];
                        $campaign_icon = get_term_meta($campaign->term_id, 'campaign_icon', true);
                        $campaign_tagline = get_term_meta($campaign->term_id, 'campaign_tagline', true);
                        
                        // Update title with campaign name
                        $section_title = ($campaign_icon ? $campaign_icon . ' ' : '🔥 ') . $campaign->name;
                        
                        // Link to specific campaign
                        $see_more_url = get_term_link($campaign);
                        
                        // Show deals from this campaign
                        $hot_picks_args['tax_query'] = array(
                            array(
                                'taxonomy' => 'campaign',
                                'field' => 'term_id',
                                'terms' => $campaign->term_id
                            )
                        );
                    } else {
                        // Multiple active campaigns - show mixed deals
                        $campaign_ids = wp_list_pluck($active_campaigns, 'term_id');
                        
                        $hot_picks_args['tax_query'] = array(
                            array(
                                'taxonomy' => 'campaign',
                                'field' => 'term_id',
                                'terms' => $campaign_ids,
                                'operator' => 'IN'
                            )
                        );
                        
                        // Link to all campaigns page
                        $see_more_url = home_url('/campaigns/');
                    }
                } else {
                    // No active campaigns - fallback to featured/trending deals
                    $hot_picks_args['meta_query'] = array(
                        'relation' => 'OR',
                        array(
                            'key' => 'deal_is_featured',
                            'value' => '1',
                            'compare' => '='
                        ),
                        array(
                            'key' => 'deal_is_trending',
                            'value' => '1',
                            'compare' => '='
                        )
                    );
                }
                
                // Run query
                $hot_picks = new WP_Query($hot_picks_args);
                
                // Fallback to latest deals if no results
                if (!$hot_picks->have_posts()) {
                    $hot_picks = new WP_Query(array(
                        'post_type' => 'deals',
                        'posts_per_page' => $hot_picks_count,
                        'post_status' => 'publish',
                        'orderby' => 'date',
                        'order' => 'DESC'
                    ));
                }
                ?>
                
                <div class="section-header-inline">
                    <h2><?php echo esc_html($section_title); ?></h2>
                    <a href="<?php echo esc_url($see_more_url); ?>" class="see-more">
                        <?php echo esc_html(get_theme_mod('hot_picks_button_text', __('See More', 'dealsindia'))); ?> ›
                    </a>
                </div>
                
                <div class="deals-scroll-wrapper">
                    <div class="deals-scroll">
                        <?php
                        if ($hot_picks->have_posts()) :
                            while ($hot_picks->have_posts()) : $hot_picks->the_post();
                                get_template_part('template-parts/deal-card');
                            endwhile;
                            wp_reset_postdata();
                        else :
                            ?>
                            <div class="no-deals-message">
                                <p><?php echo esc_html(get_theme_mod('no_hot_picks_message', __('No hot picks available right now. Check back soon for amazing deals!', 'dealsindia'))); ?></p>
                            </div>
                            <?php
                        endif;
                        ?>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    
    <!-- ========================================
     5. TOP STORES SECTION - FIXED
     ======================================== -->
<?php
$stores_count = get_theme_mod('top_stores_count', 12);
$stores = get_terms(array(
    'taxonomy'   => 'store',
    'hide_empty' => true,
    'number'     => $stores_count,
    'orderby'    => 'count',
    'order'      => 'DESC'
));

if (!empty($stores) && !is_wp_error($stores)) :
?>
<section class="top-stores-section-premium">
    <div class="container">
        <div class="top-stores-container">
            
            <div class="section-header-premium">
                <?php 
                $stores_icon = get_theme_mod('stores_section_icon', '🏪'); 
                if ($stores_icon) : 
                ?>
                    <span class="section-icon"><?php echo esc_html($stores_icon); ?></span>
                <?php endif; ?>
                
                <h2><?php echo esc_html(get_theme_mod('top_stores_title', __('Top Stores', 'dealsindia'))); ?></h2>
                <p><?php echo esc_html(get_theme_mod('top_stores_subtitle', __('Shop from India\'s most trusted brands', 'dealsindia'))); ?></p>
            </div>

            <div class="stores-wrapper-cd">
                <div class="stores-grid-cd">
                    <?php
                    $store_index = 0;
                    foreach ($stores as $store) :
                        $logo_id = get_term_meta($store->term_id, 'store_logo_id', true);
                        $logo = $logo_id ? wp_get_attachment_url($logo_id) : '';
                        $cashback = get_term_meta($store->term_id, 'store_cashback', true);
                        $is_featured = ($store_index === 0);
                        
                        // Generate gradient colors for fallback
                        $color1 = '#' . substr(md5($store->name), 0, 6);
                        $color2 = '#' . substr(md5($store->name . 'x'), 0, 6);
                        $initials = strtoupper(substr($store->name, 0, 2));
                        ?>
                        <a href="<?php echo esc_url(get_term_link($store)); ?>" 
                           class="store-item-cd<?php echo $is_featured ? ' store-featured' : ''; ?>"
                           aria-label="<?php echo esc_attr(sprintf(__('View deals from %s', 'dealsindia'), $store->name)); ?>">
                            
                            <!-- Store Logo -->
                            <?php if ($logo) : ?>
                                <div class="store-logo-cd">
                                    <img src="<?php echo esc_url($logo); ?>" 
                                         alt="<?php echo esc_attr($store->name); ?>" 
                                         loading="lazy"
                                         width="50"
                                         height="50">
                                </div>
                            <?php else : ?>
                                <div class="store-logo-fallback" 
                                     style="background: linear-gradient(135deg, <?php echo esc_attr($color1); ?>, <?php echo esc_attr($color2); ?>);">
                                    <?php echo esc_html($initials); ?>
                                </div>
                            <?php endif; ?>
                            
                            <!-- Store Name -->
                            <div class="store-name-cd">
                                <?php echo esc_html($store->name); ?>
                            </div>
                            
                            <!-- Cashback (Optional) -->
                            <?php if ($cashback) : ?>
                                <div class="store-cashback-cd">
                                    <?php 
                                    $cashback_icon = get_theme_mod('cashback_icon', '💰');
                                    if ($cashback_icon) : 
                                    ?>
                                        <span class="cashback-icon"><?php echo esc_html($cashback_icon); ?></span>
                                    <?php endif; ?>
                                    <span><?php echo esc_html(sprintf(__('Upto %s', 'dealsindia'), $cashback)); ?></span>
                                </div>
                            <?php endif; ?>
                        </a>
                        <?php
                        $store_index++;
                    endforeach;
                    ?>
                    
                    <!-- View All Stores Card -->
                    <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" 

                       class="store-item-cd store-view-all"
                       aria-label="<?php esc_attr_e('View all stores', 'dealsindia'); ?>">
                        <div class="view-all-text">
                            <?php echo esc_html(get_theme_mod('view_all_stores_text', __('View All Stores', 'dealsindia'))); ?> →
                        </div>
                    </a>
                </div>
            </div>
            
        </div>
    </div>
</section>
<?php endif; ?>

    
   <!-- ========================================
     6. TOP OFFERS BY CATEGORY - ENHANCED
     ======================================== -->
<?php
$categories_count = get_theme_mod('trending_categories_count', 8);
$categories = get_terms(array(
    'taxonomy'   => 'deal-category',
    'hide_empty' => true,
    'number'     => $categories_count,
    'orderby'    => 'count',
    'order'      => 'DESC'
));

if (!empty($categories) && !is_wp_error($categories)) :
?>
<section class="top-offers-section-premium">
    <div class="container">
        <div class="top-offers-container">
            
            <div class="section-header-premium">
                <?php 
                $offers_icon = get_theme_mod('offers_section_icon', '🎯');
                if ($offers_icon) : 
                ?>
                    <span class="section-icon"><?php echo esc_html($offers_icon); ?></span>
                <?php endif; ?>
                
                <h2><?php echo esc_html(get_theme_mod('top_offers_title', __('Top Offers by Category', 'dealsindia'))); ?></h2>
                <p><?php echo esc_html(get_theme_mod('top_offers_subtitle', __('Browse trending deals from popular categories', 'dealsindia'))); ?></p>
            </div>
            
            <div class="categories-offers-grid">
                <!-- Categories Sidebar with View All -->
                <aside class="trending-categories-sidebar">
                    <div class="sidebar-header-with-cta">
                        <h3 class="sidebar-title">
                            <?php echo esc_html(get_theme_mod('trending_categories_title', __('🔥 Trending Categories', 'dealsindia'))); ?>
                        </h3>
                        <a href="<?php echo esc_url(home_url('/categories/')); ?>" class="sidebar-view-all">
                            <?php echo esc_html(get_theme_mod('view_all_categories_text', __('View All', 'dealsindia'))); ?> ›
                        </a>
                    </div>
                    
                    <div class="categories-list-vertical">
                        <?php
                        foreach ($categories as $category) :
                            $icon_id = get_term_meta($category->term_id, 'category_icon_id', true);
                            $icon_url = $icon_id ? wp_get_attachment_url($icon_id) : '';
                            $emoji = get_term_meta($category->term_id, 'category_icon', true);
                            ?>
                            <a href="<?php echo esc_url(get_term_link($category)); ?>" 
                               class="category-item-horizontal"
                               aria-label="<?php echo esc_attr(sprintf(__('View %s deals', 'dealsindia'), $category->name)); ?>">
                                <div class="category-icon-left">
                                    <?php if ($icon_url) : ?>
                                        <img src="<?php echo esc_url($icon_url); ?>" 
                                             alt="<?php echo esc_attr($category->name); ?>" 
                                             class="category-icon-image" 
                                             loading="lazy"
                                             width="24"
                                             height="24">
                                    <?php elseif ($emoji) : ?>
                                        <span class="category-emoji"><?php echo esc_html($emoji); ?></span>
                                    <?php else : ?>
                                        <span class="category-emoji">📦</span>
                                    <?php endif; ?>
                                </div>
                                <span class="category-name-right">
                                    <?php echo esc_html($category->name); ?>
                                </span>
                                <span class="category-arrow">›</span>
                            </a>
                            <?php
                        endforeach;
                        ?>
                    </div>
                </aside>
                
                <!-- 🔥 FIXED: Added proper wrapper structure for scrolling -->
                <div class="offers-grid-wrapper">
                    <div class="offers-grid-header">
                        <h3 class="offers-grid-title">
                            <?php echo esc_html(get_theme_mod('featured_offers_title', __('Featured Offers', 'dealsindia'))); ?>
                        </h3>
                        <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" class="offers-view-all">
                            <?php echo esc_html(get_theme_mod('view_all_offers_text', __('View All Offers', 'dealsindia'))); ?> ›
                        </a>
                    </div>
                    
                    <!-- 🔥 THIS IS THE FIX: offers-grid-3col must be DIRECT CHILD of offers-grid-wrapper -->
                    <div class="offers-grid-3col">
                        <?php
                        $offers_count = get_theme_mod('top_offers_count', 6);
                        $offers_query = new WP_Query(array(
                            'post_type'      => 'deals',
                            'posts_per_page' => $offers_count,
                            'post_status'    => 'publish',
                            'orderby'        => 'date',
                            'order'          => 'DESC',
                            'meta_query'     => array(
                                array(
                                    'key'     => 'deal_is_featured',
                                    'value'   => '1',
                                    'compare' => '='
                                )
                            )
                        ));
                        
                        // Fallback to latest deals
                        if (!$offers_query->have_posts()) {
                            $offers_query = new WP_Query(array(
                                'post_type'      => 'deals',
                                'posts_per_page' => $offers_count,
                                'post_status'    => 'publish',
                                'orderby'        => 'date',
                                'order'          => 'DESC',
                            ));
                        }
                        
                        if ($offers_query->have_posts()) :
                            while ($offers_query->have_posts()) : $offers_query->the_post();
                                get_template_part('template-parts/deal-card');
                            endwhile;
                            wp_reset_postdata();
                        else :
                            ?>
                            <div class="no-offers-message">
                                <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <circle cx="12" cy="12" r="10" stroke-width="2"/>
                                    <line x1="12" y1="8" x2="12" y2="12" stroke-width="2"/>
                                    <line x1="12" y1="16" x2="12.01" y2="16" stroke-width="2"/>
                                </svg>
                                <p><?php echo esc_html(get_theme_mod('no_offers_message', __('No featured offers available right now.', 'dealsindia'))); ?></p>
                            </div>
                            <?php
                        endif;
                        ?>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</section>
<?php endif; ?>

    <!-- ========================================
         7. LATEST DEALS SECTION
         ======================================== -->
    <?php
    $latest_deals_count = get_theme_mod('latest_deals_count', 12);
    $latest_deals = new WP_Query(array(
        'post_type'      => 'deals',
        'posts_per_page' => $latest_deals_count,
        'post_status'    => 'publish',
        'orderby'        => 'date',
        'order'          => 'DESC'
    ));
    
    if ($latest_deals->have_posts()) :
    ?>
    <section class="latest-deals-section-premium">
        <div class="container">
            <div class="latest-deals-container" <?php 
                $latest_deals_bg = get_theme_mod('latest_deals_bg_image');
                if ($latest_deals_bg) {
                    echo 'style="background-image:url(' . esc_url($latest_deals_bg) . ');"';
                }
            ?>>
                <div class="latest-deals-content">
                    <div class="section-header-inline">
                        <?php 
                        $latest_deals_icon = get_theme_mod('latest_deals_icon', '');
                        if ($latest_deals_icon) : 
                        ?>
                            <span class="section-icon-inline"><?php echo esc_html($latest_deals_icon); ?></span>
                        <?php endif; ?>
                        
                        <h2><?php echo esc_html(get_theme_mod('latest_deals_title', __('Latest Deals', 'dealsindia'))); ?></h2>
                        <a href="<?php echo esc_url(get_post_type_archive_link('deals')); ?>" class="see-more">
                            <?php echo esc_html(get_theme_mod('view_all_btn_text', __('View All Deals', 'dealsindia'))); ?> ›
                        </a>
                    </div>
                    
                    <div class="deals-scroll-wrapper">
                        <div class="deals-scroll">
                            <?php
                            while ($latest_deals->have_posts()) : $latest_deals->the_post();
                                get_template_part('template-parts/deal-card');
                            endwhile;
                            wp_reset_postdata();
                            ?>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <?php endif; ?>
    
    <!-- ========================================
     8. GIVEAWAYS SECTION - COMPLETE FIXED
     ======================================== -->
<?php
$giveaways = new WP_Query(array(
    'post_type'      => 'giveaway',  // ✅ FIXED: Singular (not 'giveaways')
    'posts_per_page' => get_theme_mod('giveaways_count', 6),
    'post_status'    => 'publish',
    'orderby'        => 'date',
    'order'          => 'DESC'
));

if ($giveaways->have_posts()) :
?>
<section class="giveaways-section-premium">
    <div class="container">
        <div class="section-header-premium">
            <?php 
            $giveaway_icon = get_theme_mod('giveaway_section_icon', '🎁');
            if ($giveaway_icon) : 
            ?>
                <span class="section-icon"><?php echo esc_html($giveaway_icon); ?></span>
            <?php endif; ?>
            
            <h2><?php echo esc_html(get_theme_mod('giveaway_section_title', __('🎁 Active Giveaways', 'arrzone'))); ?></h2>
            <p><?php echo esc_html(get_theme_mod('giveaway_section_subtitle', __('Win amazing prizes!', 'arrzone'))); ?></p>
        </div>

        <div class="giveaways-grid">
            <?php
            while ($giveaways->have_posts()) : $giveaways->the_post();
                $prize = get_post_meta(get_the_ID(), 'giveaway_prize', true);
                $end_date = get_post_meta(get_the_ID(), 'giveaway_end_date', true);
                $bg_color = get_post_meta(get_the_ID(), 'giveaway_bg_color', true);
                if (!$bg_color) $bg_color = get_theme_mod('giveaway_default_bg', '#667eea');
                
                $prize_icon = get_theme_mod('giveaway_prize_icon', '🏆');
                $deadline_icon = get_theme_mod('giveaway_deadline_icon', '⏰');
                ?>
                <article class="giveaway-card" style="background: linear-gradient(135deg, <?php echo esc_attr($bg_color); ?> 0%, <?php echo esc_attr($bg_color); ?>dd 100%);">
                    <div class="giveaway-card-content">
                        <h3 class="giveaway-card-title"><?php the_title(); ?></h3>
                        
                        <?php if ($prize) : ?>
                            <div class="giveaway-prize">
                                <?php echo esc_html($prize_icon); ?> <?php echo esc_html($prize); ?>
                            </div>
                        <?php endif; ?>
                        
                        <?php if ($end_date) : ?>
                            <div class="giveaway-deadline">
                                <?php echo esc_html($deadline_icon); ?> <?php echo esc_html(sprintf(__('Ends: %s', 'arrzone'), date('M d, Y', strtotime($end_date)))); ?>
                            </div>
                        <?php endif; ?>
                        
                        <!-- ✅ FIXED: Using get_permalink() instead of the_permalink() -->
                        <a href="<?php echo esc_url(get_permalink()); ?>" class="giveaway-participate-btn">
                            <?php echo esc_html(get_theme_mod('giveaway_btn_text', __('Participate Now', 'arrzone'))); ?> →
                        </a>
                    </div>
                    
                    <?php if (has_post_thumbnail()) : ?>
                        <div class="giveaway-card-image">
                            <?php the_post_thumbnail('medium', array('loading' => 'lazy')); ?>
                        </div>
                    <?php endif; ?>
                </article>
                <?php
            endwhile;
            wp_reset_postdata();
            ?>
        </div>
    </div>
</section>
<?php endif; ?>


    
</main>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page-all-campaigns.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Template Name: All Campaigns Archive
 * Description: Displays all campaigns (Active, Upcoming, Expired)
 */

get_header();

// Get all campaigns
$campaigns_args = array(
    'taxonomy'   => 'campaign',
    'hide_empty' => false,
    'orderby'    => 'name',
    'order'      => 'ASC',
);

$all_campaigns = get_terms($campaigns_args);

// Separate campaigns by status
$active_campaigns = array();
$upcoming_campaigns = array();
$expired_campaigns = array();

$today = current_time('Y-m-d');

foreach ($all_campaigns as $campaign) {
    $start_date = get_term_meta($campaign->term_id, 'campaign_start_date', true);
    $end_date = get_term_meta($campaign->term_id, 'campaign_end_date', true);
    
    if ($start_date && $today < $start_date) {
        $upcoming_campaigns[] = $campaign;
    } elseif ($end_date && $today > $end_date) {
        $expired_campaigns[] = $campaign;
    } else {
        $active_campaigns[] = $campaign;
    }
}
?>

<div class="archive-page">
    
    <!-- Page Header -->
    <section class="section-header">
        <div class="container">
            <h1><?php echo esc_html('🎪 All Campaigns & Sales', 'dealsindia'); ?></h1>
            <p><?php echo esc_html('Browse ongoing and upcoming festival sales & special offers', 'dealsindia'); ?></p>
        </div>
    </section>

    <!-- Active Campaigns -->
    <?php if (!empty($active_campaigns)) : ?>
    <section class="browse-section">
        <div class="container">
            <h2 class="browse-section-title"><?php echo esc_html('🔥 Active Campaigns', 'dealsindia'); ?></h2>
            <div class="browse-grid">
                <?php foreach ($active_campaigns as $campaign) :
                    $icon = get_term_meta($campaign->term_id, 'campaign_icon', true);
                    $banner_id = get_term_meta($campaign->term_id, 'campaign_banner_id', true);
                    $color = get_term_meta($campaign->term_id, 'campaign_color', true);
                    $tagline = get_term_meta($campaign->term_id, 'campaign_tagline', true);
                    $end_date = get_term_meta($campaign->term_id, 'campaign_end_date', true);
                    $deals_count = $campaign->count;
                    $campaign_url = get_term_link($campaign);
                ?>
                    <div class="browse-card">
                        <a href="<?php echo esc_url($campaign_url); ?>" class="browse-card-link">
                            <div class="browse-icon">
                                <?php if ($icon) : ?>
                                    <span class="browse-emoji"><?php echo esc_html($icon); ?></span>
                                <?php else : ?>
                                    <span class="browse-emoji">🎉</span>
                                <?php endif; ?>
                            </div>
                            <div class="browse-content">
                                <h3 class="browse-name"><?php echo esc_html($campaign->name); ?></h3>
                                <?php if ($tagline) : ?>
                                    <p style="font-size: 12px; color: #666; margin: 4px 0;"><?php echo esc_html($tagline); ?></p>
                                <?php endif; ?>
                                <p class="browse-count">
                                    <?php
                                    printf(
                                        _n('%s Deal', '%s Deals', $deals_count, 'dealsindia'),
                                        number_format_i18n($deals_count)
                                    );
                                    ?>
                                </p>
                                <?php if ($end_date) : ?>
                                    <p style="font-size: 11px; color: #ff6b6b; margin-top: 4px;">
                                        ⏰ Ends: <?php echo esc_html(date('M d, Y', strtotime($end_date))); ?>
                                    </p>
                                <?php endif; ?>
                            </div>
                        </a>
                    </div>
                <?php endforeach; ?>
            </div>
        </div>
    </section>
    <?php endif; ?>

    <!-- Upcoming Campaigns -->
    <?php if (!empty($upcoming_campaigns)) : ?>
    <section class="browse-section">
        <div class="container">
            <h2 class="browse-section-title"><?php echo esc_html('📅 Coming Soon', 'dealsindia'); ?></h2>
            <div class="browse-grid">
                <?php foreach ($upcoming_campaigns as $campaign) :
                    $icon = get_term_meta($campaign->term_id, 'campaign_icon', true);
                    $tagline = get_term_meta($campaign->term_id, 'campaign_tagline', true);
                    $start_date = get_term_meta($campaign->term_id, 'campaign_start_date', true);
                    $deals_count = $campaign->count;
                    $campaign_url = get_term_link($campaign);
                ?>
                    <div class="browse-card">
                        <a href="<?php echo esc_url($campaign_url); ?>" class="browse-card-link">
                            <div class="browse-icon">
                                <?php if ($icon) : ?>
                                    <span class="browse-emoji"><?php echo esc_html($icon); ?></span>
                                <?php else : ?>
                                    <span class="browse-emoji">🎉</span>
                                <?php endif; ?>
                            </div>
                            <div class="browse-content">
                                <h3 class="browse-name"><?php echo esc_html($campaign->name); ?></h3>
                                <?php if ($tagline) : ?>
                                    <p style="font-size: 12px; color: #666; margin: 4px 0;"><?php echo esc_html($tagline); ?></p>
                                <?php endif; ?>
                                <?php if ($deals_count > 0) : ?>
                                    <p class="browse-count"><?php echo esc_html(sprintf(__('%d Deals Coming', 'dealsindia'), $deals_count)); ?></p>
                                <?php endif; ?>
                                <?php if ($start_date) : ?>
                                    <p style="font-size: 11px; color: #fdcb6e; margin-top: 4px;">
                                        🗓️ Starts: <?php echo esc_html(date('M d, Y', strtotime($start_date))); ?>
                                    </p>
                                <?php endif; ?>
                            </div>
                        </a>
                    </div>
                <?php endforeach; ?>
            </div>
        </div>
    </section>
    <?php endif; ?>

    <!-- Expired Campaigns (Show last 3 only) -->
    <?php if (!empty($expired_campaigns)) : 
        $recent_expired = array_slice($expired_campaigns, 0, 3);
    ?>
    <section class="browse-section">
        <div class="container">
            <h2 class="browse-section-title"><?php echo esc_html('⏱️ Past Campaigns', 'dealsindia'); ?></h2>
            <div class="browse-grid">
                <?php foreach ($recent_expired as $campaign) :
                    $icon = get_term_meta($campaign->term_id, 'campaign_icon', true);
                    $deals_count = $campaign->count;
                    $campaign_url = get_term_link($campaign);
                ?>
                    <div class="browse-card">
                        <a href="<?php echo esc_url($campaign_url); ?>" class="browse-card-link">
                            <div class="browse-icon">
                                <?php if ($icon) : ?>
                                    <span class="browse-emoji"><?php echo esc_html($icon); ?></span>
                                <?php else : ?>
                                    <span class="browse-emoji">🎉</span>
                                <?php endif; ?>
                            </div>
                            <div class="browse-content">
                                <h3 class="browse-name"><?php echo esc_html($campaign->name); ?></h3>
                                <p style="font-size: 11px; color: #d63031; margin-top: 4px;">
                                    🔴 Campaign Ended
                                </p>
                                <?php if ($deals_count > 0) : ?>
                                    <p class="browse-count"><?php echo esc_html(sprintf(__('%d Deals Archived', 'dealsindia'), $deals_count)); ?></p>
                                <?php endif; ?>
                            </div>
                        </a>
                    </div>
                <?php endforeach; ?>
            </div>
        </div>
    </section>
    <?php endif; ?>
    
    <!-- No Campaigns Message -->
    <?php if (empty($all_campaigns)) : ?>
    <section class="browse-section">
        <div class="container">
            <div class="no-deals-message">
                <p><?php echo esc_html('No campaigns available at the moment. Check back soon!', 'dealsindia'); ?></p>
            </div>
        </div>
    </section>
    <?php endif; ?>
    
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page-all-categories.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Template Name: All Categories Archive
 * Description: Displays all deal categories in a grid layout
 */

get_header();
?>

<div class="archive-page">
    
    <!-- Page Header -->
    <section class="section-header">
        <div class="container">
            <h1><?php echo esc_html('All Categories', 'arrzone'); ?></h1>
            <p><?php echo esc_html('Explore deals across all categories and save big', 'arrzone'); ?></p>
        </div>
    </section>

    <!-- Browse Section -->
    <section class="browse-section">
        <div class="container">
            
            <?php
            // Get all categories
            $categories_args = array(
                'taxonomy'   => 'deal-category',
                'hide_empty' => false,
                'orderby'    => 'name',
                'order'      => 'ASC',
            );
            
            $all_categories = get_terms($categories_args);
            
            if (!empty($all_categories) && !is_wp_error($all_categories)):
                
                // Separate featured and regular categories
                $featured_categories = array();
                $regular_categories = array();
                
                foreach ($all_categories as $category) {
                    $is_featured = get_term_meta($category->term_id, 'category_is_featured', true);
                    if ($is_featured) {
                        $featured_categories[] = $category;
                    } else {
                        $regular_categories[] = $category;
                    }
                }
                
                // Display Featured Categories
                if (!empty($featured_categories)): ?>
                    <div class="featured-categories-section">
                        <h2 class="browse-section-title"><?php echo esc_html('Featured Categories', 'arrzone'); ?></h2>
                        <div class="browse-grid">
                            <?php foreach ($featured_categories as $category):
                                $category_icon = get_term_meta($category->term_id, 'category_icon', true);
                                $category_icon_image_id = get_term_meta($category->term_id, 'category_icon_image_id', true);
                                $category_icon_image_url = $category_icon_image_id ? wp_get_attachment_url($category_icon_image_id) : '';
                                $deals_count = $category->count;
                                $category_url = get_term_link($category);
                            ?>
                                <div class="browse-card featured">
                                    <a href="<?php echo esc_url($category_url); ?>" class="browse-card-link">
                                        <div class="browse-icon">
                                            <?php if ($category_icon_image_url): ?>
                                                <img src="<?php echo esc_url($category_icon_image_url); ?>" 
                                                     alt="<?php echo esc_attr($category->name); ?>" 
                                                     class="category-icon-img">
                                            <?php elseif ($category_icon): ?>
                                                <span class="browse-emoji"><?php echo esc_html($category_icon); ?></span>
                                            <?php else: ?>
                                                <span class="browse-emoji">🏷️</span>
                                            <?php endif; ?>
                                        </div>
                                        <div class="browse-content">
                                            <h3 class="browse-name"><?php echo esc_html($category->name); ?></h3>
                                            <p class="browse-count">
                                                <?php
                                                printf(
                                                    _n('%s Deal', '%s Deals', $deals_count, 'arrzone'),
                                                    number_format_i18n($deals_count)
                                                );
                                                ?>
                                            </p>
                                        </div>
                                    </a>
                                </div>
                            <?php endforeach; ?>
                        </div>
                    </div>
                <?php endif;
                
                // Display All Categories
                if (!empty($regular_categories)): ?>
                    <div class="all-categories-section">
                        <h2 class="browse-section-title"><?php echo esc_html('All Categories', 'arrzone'); ?></h2>
                        <div class="browse-grid">
                            <?php foreach ($regular_categories as $category):
                                $category_icon = get_term_meta($category->term_id, 'category_icon', true);
                                $category_icon_image_id = get_term_meta($category->term_id, 'category_icon_image_id', true);
                                $category_icon_image_url = $category_icon_image_id ? wp_get_attachment_url($category_icon_image_id) : '';
                                $deals_count = $category->count;
                                $category_url = get_term_link($category);
                            ?>
                                <div class="browse-card">
                                    <a href="<?php echo esc_url($category_url); ?>" class="browse-card-link">
                                        <div class="browse-icon">
                                            <?php if ($category_icon_image_url): ?>
                                                <img src="<?php echo esc_url($category_icon_image_url); ?>" 
                                                     alt="<?php echo esc_attr($category->name); ?>" 
                                                     class="category-icon-img">
                                            <?php elseif ($category_icon): ?>
                                                <span class="browse-emoji"><?php echo esc_html($category_icon); ?></span>
                                            <?php else: ?>
                                                <span class="browse-emoji">🏷️</span>
                                            <?php endif; ?>
                                        </div>
                                        <div class="browse-content">
                                            <h3 class="browse-name"><?php echo esc_html($category->name); ?></h3>
                                            <p class="browse-count">
                                                <?php
                                                printf(
                                                    _n('%s Deal', '%s Deals', $deals_count, 'arrzone'),
                                                    number_format_i18n($deals_count)
                                                );
                                                ?>
                                            </p>
                                        </div>
                                    </a>
                                </div>
                            <?php endforeach; ?>
                        </div>
                    </div>
                <?php endif;
                
            else: ?>
                <div class="no-categories">
                    <p><?php echo esc_html('No categories found.', 'arrzone'); ?></p>
                </div>
            <?php endif; ?>
            
        </div>
    </section>
    
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page-all-deal-types.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Template Name: All Deal Types Archive
 * Description: Displays all deal types in a grid layout
 */

get_header();
?>

<div class="archive-page">
    
    <!-- Page Header -->
    <section class="section-header">
        <div class="container">
            <h1><?php echo esc_html('All Deal Types', 'dealsindia'); ?></h1>
            <p><?php echo esc_html('Explore different types of deals and find the best offers', 'dealsindia'); ?></p>
        </div>
    </section>

    <!-- Browse Section -->
    <section class="browse-section">
        <div class="container">
            
            <?php
            // Get all deal types
            $deal_types_args = array(
                'taxonomy'   => 'deal-type',
                'hide_empty' => false,
                'orderby'    => 'name',
                'order'      => 'ASC',
            );
            
            $all_deal_types = get_terms($deal_types_args);
            
            if (!empty($all_deal_types) && !is_wp_error($all_deal_types)):
            ?>
                <div class="all-deal-types-section">
                    <h2 class="browse-section-title"><?php echo esc_html('All Deal Types', 'dealsindia'); ?></h2>
                    <div class="browse-grid">
                        <?php foreach ($all_deal_types as $deal_type):
                            $dealtype_icon = get_term_meta($deal_type->term_id, 'dealtype_icon', true);
                            $dealtype_icon_image_id = get_term_meta($deal_type->term_id, 'dealtype_icon_image_id', true);
                            $dealtype_icon_image_url = $dealtype_icon_image_id ? wp_get_attachment_url($dealtype_icon_image_id) : '';
                            $dealtype_color = get_term_meta($deal_type->term_id, 'dealtype_color', true);
                            $deals_count = $deal_type->count;
                            $deal_type_url = get_term_link($deal_type);
                        ?>
                            <div class="browse-card">
                                <a href="<?php echo esc_url($deal_type_url); ?>" class="browse-card-link">
                                    <div class="browse-icon">
                                        <?php if ($dealtype_icon_image_url): ?>
                                            <img src="<?php echo esc_url($dealtype_icon_image_url); ?>" 
                                                 alt="<?php echo esc_attr($deal_type->name); ?>" 
                                                 class="dealtype-icon-img">
                                        <?php elseif ($dealtype_icon): ?>
                                            <span class="browse-emoji"><?php echo esc_html($dealtype_icon); ?></span>
                                        <?php else: ?>
                                            <span class="browse-emoji">🎫</span>
                                        <?php endif; ?>
                                    </div>
                                    <div class="browse-content">
                                        <h3 class="browse-name"><?php echo esc_html($deal_type->name); ?></h3>
                                        <p class="browse-count">
                                            <?php
                                            printf(
                                                _n('%s Deal', '%s Deals', $deals_count, 'dealsindia'),
                                                number_format_i18n($deals_count)
                                            );
                                            ?>
                                        </p>
                                        <?php if ($dealtype_color): ?>
                                            <div class="dealtype-color-indicator" style="background-color: <?php echo esc_attr($dealtype_color); ?>; width: 40px; height: 4px; border-radius: 2px; margin-top: 8px;"></div>
                                        <?php endif; ?>
                                    </div>
                                </a>
                            </div>
                        <?php endforeach; ?>
                    </div>
                </div>
                
            <?php else: ?>
                <div class="no-deal-types">
                    <p><?php echo esc_html('No deal types found.', 'dealsindia'); ?></p>
                </div>
            <?php endif; ?>
            
        </div>
    </section>
    
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page-all-stores.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Template Name: All Stores Archive
 * Description: Displays all stores in a grid layout
 */

get_header();
?>

<div class="archive-page">
    
    <!-- Page Header -->
    <section class="section-header">
        <div class="container">
            <h1><?php echo esc_html('All Stores', 'arrzone'); ?></h1>
            <p><?php echo esc_html('Browse through our collection of stores and grab the best deals', 'arrzone'); ?></p>
        </div>
    </section>

    <!-- Browse Section -->
    <section class="browse-section">
        <div class="container">
            
            <?php
            // Get all stores
            $stores_args = array(
                'taxonomy'   => 'store',
                'hide_empty' => false,
                'orderby'    => 'name',
                'order'      => 'ASC',
            );
            
            $all_stores = get_terms($stores_args);
            
            if (!empty($all_stores) && !is_wp_error($all_stores)):
                
                // Separate featured and regular stores
                $featured_stores = array();
                $regular_stores = array();
                
                foreach ($all_stores as $store) {
                    $is_featured = get_term_meta($store->term_id, 'store_is_featured', true);
                    if ($is_featured) {
                        $featured_stores[] = $store;
                    } else {
                        $regular_stores[] = $store;
                    }
                }
                
                // Display Featured Stores
                if (!empty($featured_stores)): ?>
                    <div class="featured-stores-section">
                        <h2 class="browse-section-title"><?php echo esc_html('Featured Stores', 'arrzone'); ?></h2>
                        <div class="browse-grid">
                            <?php foreach ($featured_stores as $store):
                                $store_logo_id = get_term_meta($store->term_id, 'store_logo_id', true);
                                $store_cashback = get_term_meta($store->term_id, 'store_cashback', true);
                                $deals_count = $store->count;
                                $store_url = get_term_link($store);
                            ?>
                                <div class="browse-card featured">
                                    <a href="<?php echo esc_url($store_url); ?>" class="browse-card-link">
                                        <div class="browse-image">
                                            <?php if ($store_logo_id):
                                                $logo_url = wp_get_attachment_image_url($store_logo_id, 'medium');
                                            ?>
                                                <img src="<?php echo esc_url($logo_url); ?>" alt="<?php echo esc_attr($store->name); ?>" class="store-logo">
                                            <?php else:
                                                $initials = strtoupper(substr($store->name, 0, 2));
                                            ?>
                                                <div class="browse-store-fallback"><?php echo esc_html($initials); ?></div>
                                            <?php endif; ?>
                                        </div>
                                        <div class="browse-content">
                                            <h3 class="browse-name"><?php echo esc_html($store->name); ?></h3>
                                            <p class="browse-count">
                                                <?php
                                                printf(
                                                    _n('%s Deal', '%s Deals', $deals_count, 'arrzone'),
                                                    number_format_i18n($deals_count)
                                                );
                                                ?>
                                            </p>
                                            <?php if ($store_cashback): ?>
                                                <p class="browse-cashback">
                                                    <?php echo esc_html('Up to', 'arrzone'); ?> 
                                                    <?php echo esc_html($store_cashback); ?> 
                                                    <?php echo esc_html('Cashback', 'arrzone'); ?>
                                                </p>
                                            <?php endif; ?>
                                        </div>
                                    </a>
                                </div>
                            <?php endforeach; ?>
                        </div>
                    </div>
                <?php endif;
                
                // Display All Stores
                if (!empty($regular_stores)): ?>
                    <div class="all-stores-section">
                        <h2 class="browse-section-title"><?php echo esc_html('All Stores', 'arrzone'); ?></h2>
                        <div class="browse-grid">
                            <?php foreach ($regular_stores as $store):
                                $store_logo_id = get_term_meta($store->term_id, 'store_logo_id', true);
                                $store_cashback = get_term_meta($store->term_id, 'store_cashback', true);
                                $deals_count = $store->count;
                                $store_url = get_term_link($store);
                            ?>
                                <div class="browse-card">
                                    <a href="<?php echo esc_url($store_url); ?>" class="browse-card-link">
                                        <div class="browse-image">
                                            <?php if ($store_logo_id):
                                                $logo_url = wp_get_attachment_image_url($store_logo_id, 'medium');
                                            ?>
                                                <img src="<?php echo esc_url($logo_url); ?>" alt="<?php echo esc_attr($store->name); ?>" class="store-logo">
                                            <?php else:
                                                $initials = strtoupper(substr($store->name, 0, 2));
                                            ?>
                                                <div class="browse-store-fallback"><?php echo esc_html($initials); ?></div>
                                            <?php endif; ?>
                                        </div>
                                        <div class="browse-content">
                                            <h3 class="browse-name"><?php echo esc_html($store->name); ?></h3>
                                            <p class="browse-count">
                                                <?php
                                                printf(
                                                    _n('%s Deal', '%s Deals', $deals_count, 'arrzone'),
                                                    number_format_i18n($deals_count)
                                                );
                                                ?>
                                            </p>
                                            <?php if ($store_cashback): ?>
                                                <p class="browse-cashback">
                                                    <?php echo esc_html('Up to', 'arrzone'); ?> 
                                                    <?php echo esc_html($store_cashback); ?> 
                                                    <?php echo esc_html('Cashback', 'arrzone'); ?>
                                                </p>
                                            <?php endif; ?>
                                        </div>
                                    </a>
                                </div>
                            <?php endforeach; ?>
                        </div>
                    </div>
                <?php endif;
                
            else: ?>
                <div class="no-stores">
                    <p><?php echo esc_html('No stores found.', 'arrzone'); ?></p>
                </div>
            <?php endif; ?>
            
        </div>
    </section>
    
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\page.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Standard Page Template
 * Displays WordPress Pages (Contact, Privacy Policy, About, etc.)
 * 
 * @package DealsIndia
 * @version 1.0
 */

get_header();
?>

<div class="page-wrapper">
    <div class="container">
        
        <?php while (have_posts()) : the_post(); ?>
        
        <article class="page-content-wrapper">
            
            <header class="page-header">
                <h1 class="page-title"><?php the_title(); ?></h1>
            </header>
            
            <div class="page-content">
                <?php the_content(); ?>
            </div>
            
        </article>
        
        <?php endwhile; ?>
        
    </div>
</div>

<?php get_footer(); ?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\single.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Single Deal Template - Enhanced & Dynamic
 * 
 * Features:
 * - Hero section with deal info
 * - Store details sidebar
 * - Related deals from same category
 * - More deals from same store
 * - Trending deals section
 * - Social share
 * - Countdown timer
 * - Mobile-optimized
 * 
 * @package ARRZONE
 * @version 5.0 - Enhanced Dynamic
 */

get_header();

// Start the loop
if (have_posts()) :
    while (have_posts()) : the_post();
        
        $post_id = get_the_ID();
        
        // Get deal meta data
        $coupon_code = get_post_meta($post_id, 'deal_coupon_code', true);
        $affiliate_link = get_post_meta($post_id, 'deal_affiliate_link', true);
        $original_price = get_post_meta($post_id, 'deal_original_price', true);
        $sale_price = get_post_meta($post_id, 'deal_sale_price', true);
        $expiry_date = get_post_meta($post_id, 'deal_expiry_date', true);
        $terms = get_post_meta($post_id, 'deal_terms', true);
        
        // Calculate discount
        $discount = 0;
        if ($original_price && $sale_price && $original_price > $sale_price) {
            $discount = round((($original_price - $sale_price) / $original_price) * 100);
        }
        
        // Check if expired
        $is_expired = false;
        if ($expiry_date) {
            $expiry_timestamp = strtotime($expiry_date);
            $is_expired = (current_time('timestamp') > $expiry_timestamp);
        }
        
        // Get taxonomies
        $categories = get_the_terms($post_id, 'deal-category');
        $stores = get_the_terms($post_id, 'store');
        $deal_types = get_the_terms($post_id, 'deal-type');
        
        // Get store meta
        $store_cashback = '';
        $store_logo_url = '';
        $store_banner_url = '';
        $store_website = '';
        
        if ($stores && !is_wp_error($stores)) {
            $first_store = reset($stores);
            $store_logo_id = get_term_meta($first_store->term_id, 'store_logo_id', true);
            $store_logo_url = $store_logo_id ? wp_get_attachment_url($store_logo_id) : '';
            $store_banner_id = get_term_meta($first_store->term_id, 'store_banner_id', true);
            $store_banner_url = $store_banner_id ? wp_get_attachment_url($store_banner_id) : '';
            $store_cashback = get_term_meta($first_store->term_id, 'store_cashback', true);
            $store_website = get_term_meta($first_store->term_id, 'store_website_url', true);
        }
?>

<main class="single-deal-page">
    
    <?php
    // =====================================================
    // HERO SECTION (Store Banner Background)
    // =====================================================
    if ($store_banner_url) :
    ?>
    <section class="deal-hero-section" style="background-image: url(<?php echo esc_url($store_banner_url); ?>);">
        <div class="deal-hero-overlay"></div>
        <div class="container">
            <div class="deal-hero-content">
                <?php dealsindia_breadcrumb(); ?>
            </div>
        </div>
    </section>
    <?php else : ?>
    <div class="container">
        <div class="deal-breadcrumb-simple">
            <?php dealsindia_breadcrumb(); ?>
        </div>
    </div>
    <?php endif; ?>
    
    <div class="container">
        
        <!-- Main Deal Layout -->
        <div class="single-deal-grid">
            
            <!-- Left Column: Deal Image & Description -->
            <div class="deal-left-column">
                
                <!-- Featured Image -->
                <div class="deal-featured-image">
                    <?php if (has_post_thumbnail()) : ?>
                        <?php the_post_thumbnail('large', array('class' => 'deal-main-image')); ?>
                    <?php else : ?>
                        <div class="deal-no-image">
                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke-width="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <polyline points="21 15 16 10 5 21"/>
                            </svg>
                            <p><?php esc_html_e('No image available', 'dealsindia'); ?></p>
                        </div>
                    <?php endif; ?>
                    
                    <?php if ($discount > 0 && !$is_expired) : ?>
                        <div class="deal-discount-badge">
                            <span class="discount-value"><?php echo esc_html($discount); ?>%</span>
                            <span class="discount-label"><?php esc_html_e('OFF', 'dealsindia'); ?></span>
                        </div>
                    <?php endif; ?>
                    
                    <?php if ($is_expired) : ?>
                        <div class="deal-expired-badge">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10" stroke-width="2"/>
                                <line x1="15" y1="9" x2="9" y2="15" stroke-width="2"/>
                                <line x1="9" y1="9" x2="15" y2="15" stroke-width="2"/>
                            </svg>
                            <p><?php esc_html_e('Deal Expired', 'dealsindia'); ?></p>
                        </div>
                    <?php endif; ?>
                </div>
                
                <!-- Deal Description -->
                <div class="deal-description-section">
                    <h2 class="section-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M12 20h9" stroke-width="2"/>
                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z" stroke-width="2"/>
                        </svg>
                        <?php esc_html_e('Deal Description', 'dealsindia'); ?>
                    </h2>
                    <div class="deal-content">
                        <?php the_content(); ?>
                    </div>
                </div>
                
                <!-- Terms & Conditions -->
                <?php if ($terms) : ?>
                    <div class="deal-terms-section">
                        <h3 class="section-title">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10" stroke-width="2"/>
                                <line x1="12" y1="16" x2="12" y2="12" stroke-width="2"/>
                                <line x1="12" y1="8" x2="12.01" y2="8" stroke-width="2"/>
                            </svg>
                            <?php esc_html_e('Terms & Conditions', 'dealsindia'); ?>
                        </h3>
                        <div class="terms-content">
                            <?php echo wp_kses_post($terms); ?>
                        </div>
                    </div>
                <?php endif; ?>
                
                <!-- Social Share -->
                <div class="deal-social-share">
                    <h4 class="share-title"><?php esc_html_e('Share this deal:', 'dealsindia'); ?></h4>
                    <?php dealsindia_social_share_buttons(); ?>
                </div>
                
            </div><!-- .deal-left-column -->
            
            <!-- Right Sidebar: Store Info & CTA -->
            <aside class="deal-right-sidebar">
                
                <!-- Store Badge -->
                <?php if ($stores && !is_wp_error($stores)) : ?>
                    <div class="deal-store-badge">
                        <?php if ($store_logo_url) : ?>
                            <div class="store-logo">
                                <img src="<?php echo esc_url($store_logo_url); ?>" alt="<?php echo esc_attr($first_store->name); ?>">
                            </div>
                        <?php endif; ?>
                        <div class="store-info">
                            <span class="store-label"><?php esc_html_e('Available at', 'dealsindia'); ?></span>
                            <h3 class="store-name"><?php echo esc_html($first_store->name); ?></h3>
                            <?php if ($store_cashback) : ?>
                                <span class="store-cashback">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <line x1="12" y1="1" x2="12" y2="23" stroke-width="2"/>
                                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke-width="2"/>
                                    </svg>
                                    <?php echo esc_html($store_cashback); ?>
                                </span>
                            <?php endif; ?>
                        </div>
                    </div>
                <?php endif; ?>
                
                <!-- Deal Title -->
                <h1 class="deal-title"><?php the_title(); ?></h1>
                
                <!-- Price Section -->
                <?php if ($sale_price) : ?>
                    <div class="deal-price-section">
                        <div class="price-main">
                            <span class="currency">₹</span><?php echo number_format($sale_price); ?>
                        </div>
                        <?php if ($original_price && $original_price > $sale_price) : ?>
                            <div class="price-comparison">
                                <span class="price-old">₹<?php echo number_format($original_price); ?></span>
                                <span class="price-save">
                                    <?php esc_html_e('You Save:', 'dealsindia'); ?>
                                    ₹<?php echo number_format($original_price - $sale_price); ?>
                                </span>
                            </div>
                        <?php endif; ?>
                    </div>
                <?php endif; ?>
                
                <!-- Countdown Timer -->
                <?php if ($expiry_date && !$is_expired) : ?>
                    <div class="deal-countdown" id="dealCountdown" data-expiry="<?php echo esc_attr($expiry_date); ?>">
                        <div class="countdown-label">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10" stroke-width="2"/>
                                <polyline points="12 6 12 12 16 14" stroke-width="2"/>
                            </svg>
                            <?php esc_html_e('Deal Ends In:', 'dealsindia'); ?>
                        </div>
                        <div class="countdown-timer">
                            <div class="countdown-item">
                                <span class="countdown-value" id="days">00</span>
                                <span class="countdown-unit"><?php esc_html_e('Days', 'dealsindia'); ?></span>
                            </div>
                            <div class="countdown-separator">:</div>
                            <div class="countdown-item">
                                <span class="countdown-value" id="hours">00</span>
                                <span class="countdown-unit"><?php esc_html_e('Hrs', 'dealsindia'); ?></span>
                            </div>
                            <div class="countdown-separator">:</div>
                            <div class="countdown-item">
                                <span class="countdown-value" id="minutes">00</span>
                                <span class="countdown-unit"><?php esc_html_e('Mins', 'dealsindia'); ?></span>
                            </div>
                            <div class="countdown-separator">:</div>
                            <div class="countdown-item">
                                <span class="countdown-value" id="seconds">00</span>
                                <span class="countdown-unit"><?php esc_html_e('Secs', 'dealsindia'); ?></span>
                            </div>
                        </div>
                    </div>
                <?php endif; ?>
                
                <!-- Coupon Code -->
                <?php if ($coupon_code && !$is_expired) : ?>
                    <div class="deal-coupon-box">
                        <label class="coupon-label">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <rect x="1" y="5" width="22" height="14" rx="2" ry="2" stroke-width="2"/>
                                <line x="1" y1="10" x2="23" y2="10" stroke-width="2"/>
                            </svg>
                            <?php esc_html_e('Coupon Code:', 'dealsindia'); ?>
                        </label>
                        <div class="coupon-code-wrapper">
                            <code class="coupon-code-text" id="couponCode"><?php echo esc_html($coupon_code); ?></code>
                            <button class="copy-coupon-btn" id="copyCouponBtn">
                                <svg class="copy-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke-width="2"/>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" stroke-width="2"/>
                                </svg>
                                <span class="copy-text"><?php esc_html_e('Copy', 'dealsindia'); ?></span>
                            </button>
                        </div>
                    </div>
                <?php endif; ?>
                
                <!-- CTA Button -->
                <?php if (!$is_expired && $affiliate_link) : ?>
                    <a href="<?php echo esc_url($affiliate_link); ?>" class="btn btn-primary btn-full btn-deal-cta" target="_blank" rel="nofollow noopener" data-deal-id="<?php echo esc_attr($post_id); ?>">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" stroke-width="2"/>
                            <polyline points="10 17 15 12 10 7" stroke-width="2"/>
                            <line x1="15" y1="12" x2="3" y2="12" stroke-width="2"/>
                        </svg>
                        <?php echo $coupon_code ? esc_html__('Reveal Code & Get Deal', 'dealsindia') : esc_html__('Get This Deal', 'dealsindia'); ?>
                    </a>
                <?php elseif ($is_expired) : ?>
                    <button class="btn btn-disabled btn-full" disabled>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <line x1="15" y1="9" x2="9" y2="15" stroke-width="2"/>
                            <line x1="9" y1="9" x2="15" y2="15" stroke-width="2"/>
                        </svg>
                        <?php esc_html_e('Deal Expired', 'dealsindia'); ?>
                    </button>
                <?php endif; ?>
                
                <!-- Deal Meta Info -->
                <div class="deal-meta-info">
                    <?php if ($categories && !is_wp_error($categories)) : ?>
                        <div class="meta-item">
                            <span class="meta-label">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" stroke-width="2"/>
                                    <line x1="7" y1="7" x2="7.01" y2="7" stroke-width="2"/>
                                </svg>
                                <?php esc_html_e('Category:', 'dealsindia'); ?>
                            </span>
                            <span class="meta-value">
                                <?php echo get_the_term_list($post_id, 'deal-category', '', ', '); ?>
                            </span>
                        </div>
                    <?php endif; ?>
                    
                    <?php if ($deal_types && !is_wp_error($deal_types)) : ?>
                        <div class="meta-item">
                            <span class="meta-label">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <rect x="3" y="3" width="7" height="7" rx="1" stroke-width="2"/>
                                    <rect x="14" y="3" width="7" height="7" rx="1" stroke-width="2"/>
                                    <rect x="14" y="14" width="7" height="7" rx="1" stroke-width="2"/>
                                    <rect x="3" y="14" width="7" height="7" rx="1" stroke-width="2"/>
                                </svg>
                                <?php esc_html_e('Type:', 'dealsindia'); ?>
                            </span>
                            <span class="meta-value">
                                <?php echo get_the_term_list($post_id, 'deal-type', '', ', '); ?>
                            </span>
                        </div>
                    <?php endif; ?>
                </div>
                
            </aside><!-- .deal-right-sidebar -->
            
        </div><!-- .single-deal-grid -->
        
        <?php
        // =====================================================
        // RELATED DEALS (Same Category)
        // =====================================================
        $related_args = array(
            'post_type' => 'deals',
            'posts_per_page' => 4,
            'post__not_in' => array($post_id),
            'orderby' => 'rand',
        );
        
        if ($categories && !is_wp_error($categories)) {
            $related_args['tax_query'] = array(
                array(
                    'taxonomy' => 'deal-category',
                    'field' => 'term_id',
                    'terms' => wp_list_pluck($categories, 'term_id'),
                )
            );
        }
        
        $related_query = new WP_Query($related_args);
        
        if ($related_query->have_posts()) :
        ?>
        <section class="related-deals-section">
            <h2 class="section-title-main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" stroke-width="2"/>
                </svg>
                <?php esc_html_e('Related Deals', 'dealsindia'); ?>
            </h2>
            <div class="related-deals-grid">
                <?php while ($related_query->have_posts()) : $related_query->the_post(); ?>
                    <?php get_template_part('template-parts/deal-card'); ?>
                <?php endwhile; wp_reset_postdata(); ?>
            </div>
        </section>
        <?php endif; ?>
        
        <?php
        // =====================================================
        // MORE FROM SAME STORE
        // =====================================================
        if ($stores && !is_wp_error($stores)) :
            $store_deals_args = array(
                'post_type' => 'deals',
                'posts_per_page' => 4,
                'post__not_in' => array($post_id),
                'orderby' => 'date',
                'order' => 'DESC',
                'tax_query' => array(
                    array(
                        'taxonomy' => 'store',
                        'field' => 'term_id',
                        'terms' => $first_store->term_id,
                    )
                )
            );
            
            $store_deals_query = new WP_Query($store_deals_args);
            
            if ($store_deals_query->have_posts()) :
        ?>
        <section class="store-deals-section">
            <h2 class="section-title-main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke-width="2"/>
                    <polyline points="9 22 9 12 15 12 15 22" stroke-width="2"/>
                </svg>
                <?php printf(esc_html__('More from %s', 'dealsindia'), esc_html($first_store->name)); ?>
            </h2>
            <div class="store-deals-grid">
                <?php while ($store_deals_query->have_posts()) : $store_deals_query->the_post(); ?>
                    <?php get_template_part('template-parts/deal-card'); ?>
                <?php endwhile; wp_reset_postdata(); ?>
            </div>
        </section>
        <?php 
            endif;
        endif;
        ?>
        
    </div><!-- .container -->
    
</main>

<?php
    endwhile;
endif;

get_footer();
?>

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\style.css === 
/*
Theme Name: ARRZONE
Theme URI: https://yoursite.com
Author: Your Name
Author URI: https://yoursite.com
Description: Deals, Coupons, and Cashback Aggregator Platform - CouponDunia Style Premium Design
Version: 1.0.1
Requires at least: 5.8
Tested up to: 6.4
Requires PHP: 7.4
License: GNU General Public License v2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Text Domain: arrzone
Tags: deals, coupons, cashback, ecommerce, shopping
*/


=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\AI_INSTRUCTIONS.txt === 
═══════════════════════════════════════════════════
ARRZone Project - AI Assistant Guidelines
═══════════════════════════════════════════════════

⚠️ GOLDEN RULES:

1. ALWAYS ASK FOR EXISTING CODE FIRST
   - Never write code blind
   - Request file contents before modifying
   - Understand current implementation

2. EXPLAIN BEFORE IMPLEMENTING
   - Describe your plan
   - Show before/after comparison
   - Wait for approval

3. PROVIDE SAFETY NETS
   - Backup instructions
   - Rollback plan
   - Testing checklist

4. BE CONTEXT-AWARE
   - Check dependencies
   - Verify compatibility
   - Consider side effects

5. TEST SUGGESTIONS
   - What pages to check
   - What functionality to verify
   - What could go wrong

═══════════════════════════════════════════════════

❌ NEVER DO:
- Write code without seeing existing implementation
- Assume file structure or function names
- Make changes directly to live site
- Skip testing suggestions
- Ignore dependencies
- adding inline css in php files

✅ ALWAYS DO:
- Ask to see existing code first
- Explain your approach
- Show comparisons
- Suggest testing
- Provide rollback plan

═══════════════════════════════════════════════════

EXAMPLE RESPONSE TEMPLATE:

"Before I help with [task], let me understand the current setup.

Please share:
1. Current content of [file1]
2. Current content of [file2]
3. How [file1] is referenced in other files

Questions:
- [Relevant question 1]
- [Relevant question 2]

Once I see the existing code, I'll:
1. [Step 1 of plan]
2. [Step 2 of plan]
3. [Step 3 of plan]

Testing approach:
- [What to test]
- [Expected result]

Ready to share the existing files?"

═══════════════════════════════════════════════════

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\arrzone_project_full.txt === 
=== PROJECT STRUCTURE === 
Folder PATH listing for volume Windows
Volume serial number is D4CD-3897
C:.
|   404.php
|   AI_INSTRUCTIONS.txt
|   archive.php
|   arrzone_p
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\robots.txt === 
User-agent: *
Allow: /

Disallow: /wp-admin/
Allow: /wp-admin/admin-ajax.php

Disallow: /wp-includes/
Disallow: /wp-content/plugins/
Disallow: /wp-content/cache/

Sitemap: http://localhost:10012/wp-sitemap.xml

=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\css\components.css === 
/**
 * Components Library - ULTIMATE PRODUCTION
 * 🏆 World-Class Deal Cards + Complete Component System
 * 
 * DESIGN PHILOSOPHY:
 * - CouponDunia/GrabOn-inspired modern cards
 * - Mobile-first responsive (320px → 1920px)
 * - Touch-friendly interactions
 * - Professional e-commerce aesthetic
 * - Maximum readability with compact density
 * 
 * @package ARRZONE
 * @version 9.0 PRODUCTION - COMPLETE
 * @architect World-Class UI/UX Expert
 */


/* =====================================================
   🔘 BUTTONS - Professional Action Elements
===================================================== */

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2); /* 8px */
    padding: var(--btn-padding-md); /* 12px 24px */
    border: none;
    border-radius: var(--radius-lg); /* 12px */
    font-family: var(--font-primary);
    font-size: var(--font-size-base); /* 15px */
    font-weight: var(--font-weight-semibold);
    text-decoration: none;
    text-align: center;
    cursor: pointer;
    transition: var(--transition-all);
    white-space: nowrap;
    user-select: none;
    line-height: var(--line-height-snug);
    min-height: var(--btn-height-md); /* 40px - touch-friendly */
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

.btn:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

/* Primary Button */
.btn-primary {
    background: var(--gradient-primary);
    color: var(--text-inverse);
    box-shadow: var(--shadow-sm);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-primary);
}

.btn-primary:active {
    transform: scale(0.98);
}

/* Secondary Button */
.btn-secondary {
    background: var(--gradient-secondary);
    color: var(--text-inverse);
    box-shadow: var(--shadow-sm);
}

.btn-secondary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-secondary);
}

/* Outline Button */
.btn-outline {
    background: transparent;
    border: 2px solid var(--color-primary);
    color: var(--color-primary);
    padding: calc(var(--btn-padding-md) - 2px); /* Adjust for border */
}

.btn-outline:hover {
    background: var(--color-primary);
    color: var(--text-inverse);
}

/* Ghost Button */
.btn-ghost {
    background: transparent;
    color: var(--text-primary);
}

.btn-ghost:hover {
    background: var(--bg-subtle);
}

/* Button Sizes */
.btn-sm {
    padding: var(--btn-padding-sm); /* 8px 16px */
    font-size: var(--font-size-sm); /* 13px */
    min-height: var(--btn-height-sm); /* 32px */
}

.btn-lg {
    padding: var(--btn-padding-lg); /* 16px 32px */
    font-size: var(--font-size-lg); /* 18px */
    min-height: var(--btn-height-lg); /* 48px */
}

.btn-full {
    width: 100%;
}

/* Icon Button */
.btn-icon {
    width: 44px; /* Touch-friendly */
    height: 44px;
    padding: 0;
    border-radius: var(--radius-circle);
}

/* Tag Button (404 page) */
.btn-tag {
    padding: var(--space-2) var(--space-3); /* 8px 12px */
    background: var(--bg-subtle);
    color: var(--text-secondary);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    text-decoration: none;
    transition: var(--transition-all);
    border: 1px solid var(--border-light);
}

.btn-tag:hover {
    background: var(--color-primary);
    color: var(--text-inverse);
    border-color: var(--color-primary);
    transform: translateY(-1px);
}


/* =====================================================
   🎴 DEAL CARDS - ULTRA-COMPACT (50-60% Size Reduction)
   Maximum density while maintaining readability
===================================================== */

.deal-card {
    background: var(--bg-surface);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md); /* 🔥 Smaller corners */
    box-shadow: var(--shadow-xs); /* 🔥 Lighter shadow */
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.deal-card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
    border-color: var(--color-primary);
}

.deal-card.deal-expired {
    opacity: 0.65;
    filter: grayscale(40%);
}

.deal-card-link {
    display: flex;
    flex-direction: column;
    flex: 1;
    text-decoration: none;
    color: inherit;
}

/* 🔥 TINY IMAGE - 1:1 Square (Maximum Compact) */
.deal-card-image {
    position: relative;
    aspect-ratio: 1 / 1; /* 🔥 Square = maximum compact */
    overflow: hidden;
    background: linear-gradient(135deg, var(--bg-subtle) 0%, var(--bg-muted) 100%);
}

.deal-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
}

.deal-card:hover .deal-card-image img {
    transform: scale(1.05);
}

/* No Image Placeholder - Tiny */
.deal-no-image {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    color: var(--text-tertiary);
    gap: 4px;
}

.deal-no-image svg {
    opacity: 0.3;
    width: 32px;
    height: 32px;
}

.deal-no-image p {
    font-size: 10px;
    margin: 0;
}

/* Store Badge - Tiny */
.deal-store-badge {
    position: absolute;
    top: 6px;
    right: 6px;
    width: 28px; /* 🔥 Tiny */
    height: 28px;
    border-radius: var(--radius-sm);
    overflow: hidden;
    background: var(--bg-surface);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
    z-index: var(--z-raised);
    padding: 3px;
}

.deal-store-badge img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

/* Discount Badge - Tiny */
.deal-discount-badge {
    position: absolute;
    top: 6px;
    left: 6px;
    background: var(--gradient-deal-hot);
    color: var(--text-inverse);
    border-radius: var(--radius-full);
    padding: 3px 7px; /* 🔥 Tiny */
    font-weight: var(--font-weight-bold);
    z-index: var(--z-raised);
    box-shadow: 0 2px 8px rgba(255, 61, 0, 0.4);
    min-width: 42px;
}

.discount-value {
    font-size: 11px; /* 🔥 Tiny */
    line-height: 1;
}

.discount-label {
    font-size: 8px; /* 🔥 Tiny */
    opacity: 0.95;
    line-height: 1;
}

/* Expired Overlay - Compact */
.deal-expired-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--text-inverse);
    z-index: var(--z-raised);
}

.deal-expired-overlay svg {
    margin-bottom: 6px;
    width: 28px;
    height: 28px;
}

.deal-expired-overlay p {
    font-size: 11px;
    font-weight: var(--font-weight-bold);
    margin: 0;
}

/* 🔥 ULTRA-COMPACT CONTENT */
.deal-card-content {
    padding: 8px; /* 🔥 Tiny padding */
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px; /* 🔥 Minimal gaps */
}

/* Store Name - Tiny */
.deal-store-name {
    display: flex;
    align-items: center;
    gap: 2px;
    font-size: 9px; /* 🔥 Tiny */
    color: var(--text-tertiary);
    margin-bottom: 0;
    text-transform: uppercase;
    font-weight: var(--font-weight-bold);
    letter-spacing: 0.2px;
}

.deal-store-name svg {
    width: 10px;
    height: 10px;
}

/* Deal Title - Compact */
.deal-card-title {
    font-size: 12px; /* 🔥 Small */
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    line-height: 1.3;
    margin-bottom: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    min-height: calc(12px * 1.3 * 2);
}

.deal-card:hover .deal-card-title {
    color: var(--color-primary);
}

/* Deal Prices - Compact */
.deal-card-prices {
    display: flex;
    align-items: baseline;
    gap: 4px;
    margin-bottom: 0;
    margin-top: auto;
}

.deal-price-sale {
    font-size: 16px; /* 🔥 Small */
    font-weight: var(--font-weight-bold);
    color: var(--color-primary-dark);
}

.deal-price-original {
    font-size: 11px; /* 🔥 Tiny */
    color: var(--text-tertiary);
    text-decoration: line-through;
}

/* Deal Meta Row - Minimal */
.deal-card-meta {
    display: flex;
    align-items: center;
    gap: 3px;
    flex-wrap: wrap;
    margin-top: 4px;
    margin-bottom: 0;
}

/* Meta Pills - Tiny */
.deal-meta-coupon,
.deal-meta-cashback,
.deal-meta-expiry {
    display: inline-flex;
    align-items: center;
    gap: 2px;
    font-size: 8px; /* 🔥 Tiny */
    font-weight: var(--font-weight-semibold);
    padding: 2px 4px;
    border-radius: var(--radius-sm);
    line-height: 1;
}

.deal-meta-coupon {
    background: var(--color-info-bg);
    color: var(--color-info);
}

.deal-meta-coupon svg {
    width: 9px;
    height: 9px;
}

.deal-meta-cashback {
    background: var(--color-success-bg);
    color: var(--color-success);
}

.deal-meta-cashback svg {
    width: 9px;
    height: 9px;
}

.deal-meta-expiry {
    background: var(--color-warning-bg);
    color: var(--color-warning);
}

.deal-meta-expiry svg {
    width: 9px;
    height: 9px;
}

/* 🔥 COMPACT ACTIONS */
.deal-card-actions {
    padding: 6px 8px 8px; /* 🔥 Minimal */
}

.deal-btn-action {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    width: 100%;
    padding: 7px 10px; /* 🔥 Tiny */
    background: var(--gradient-primary);
    color: var(--text-inverse);
    border: none;
    border-radius: var(--radius-md);
    font-size: 12px; /* 🔥 Small */
    font-weight: var(--font-weight-bold);
    text-decoration: none;
    cursor: pointer;
    transition: var(--transition-all);
    min-height: 32px; /* 🔥 Short */
}

.deal-btn-action:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-primary);
}

.deal-btn-action svg {
    width: 13px;
    height: 13px;
}

/* =====================================================
   📱 MOBILE - Even More Compact
===================================================== */

@media (max-width: 768px) {
    .deal-card-image {
        aspect-ratio: 1 / 1; /* Keep square */
    }
    
    .deal-card-content {
        padding: 6px;
        gap: 3px;
    }
    
    .deal-card-title {
        font-size: 11px;
    }
    
    .deal-price-sale {
        font-size: 14px;
    }
    
    .deal-btn-action {
        font-size: 11px;
        padding: 6px 8px;
        min-height: 30px;
    }
}

@media (max-width: 480px) {
    .deal-card-content {
        padding: 6px;
    }
    
    .deal-card-title {
        font-size: 10px;
    }
    
    .deal-price-sale {
        font-size: 13px;
    }
}



/* =====================================================
   🏪 STORE CARDS - Professional Grid Items
===================================================== */

.store-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: var(--space-4);
    background: var(--bg-surface);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    text-decoration: none;
    transition: var(--transition-all);
    position: relative;
    overflow: hidden;
}

.store-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--gradient-primary);
    transform: scaleX(0);
    transition: var(--transition-transform);
}

.store-card:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-4px);
    border-color: var(--color-primary);
}

.store-card:hover::before {
    transform: scaleX(1);
}

.store-logo {
    width: 64px;
    height: 64px;
    border-radius: var(--radius-md);
    object-fit: contain;
    margin-bottom: var(--space-3);
    padding: var(--space-1);
    background: var(--bg-subtle);
    transition: var(--transition-transform);
}

.store-card:hover .store-logo {
    transform: scale(1.1) rotate(5deg);
}

.store-logo-fallback {
    width: 64px;
    height: 64px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-inverse);
    margin-bottom: var(--space-3);
    background: var(--gradient-primary);
}

.store-name {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin-bottom: var(--space-2);
    line-height: var(--line-height-snug);
}

.store-cashback {
    font-size: var(--font-size-sm);
    color: var(--color-success);
    font-weight: var(--font-weight-semibold);
    display: flex;
    align-items: center;
    gap: var(--space-1);
    background: var(--color-success-bg);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-md);
}

.store-cashback svg {
    flex-shrink: 0;
    width: 14px;
    height: 14px;
}

.store-deals-count {
    font-size: var(--font-size-xs);
    color: var(--text-tertiary);
    margin-top: var(--space-1);
}


/* =====================================================
   📂 CATEGORY CARDS - Icon-Based Navigation
===================================================== */

.category-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: var(--space-4);
    background: var(--bg-surface);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    text-decoration: none;
    transition: var(--transition-all);
    position: relative;
}

.category-card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-3px);
    border-color: var(--color-primary);
}

.category-icon-wrapper {
    width: 64px;
    height: 64px;
    border-radius: var(--radius-xl);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 32px;
    margin-bottom: var(--space-3);
    background: var(--bg-subtle);
    transition: var(--transition-all);
}

.category-card:hover .category-icon-wrapper {
    transform: scale(1.15) rotate(-5deg);
    background: var(--color-primary-pale);
}

.category-name {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin-bottom: var(--space-1);
}

.category-count {
    font-size: var(--font-size-xs);
    color: var(--text-tertiary);
    background: var(--bg-subtle);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-full);
    font-weight: var(--font-weight-semibold);
}


/* =====================================================
   🎁 GIVEAWAY CARDS - Colorful Contest Cards
===================================================== */

.giveaway-card {
    background: var(--bg-surface);
    border-radius: var(--radius-xl);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    transition: var(--transition-all);
    position: relative;
    display: flex;
    flex-direction: column;
}

.giveaway-card:hover {
    box-shadow: var(--shadow-xl);
    transform: translateY(-6px);
}

.giveaway-card-header {
    padding: var(--space-6);
    background: var(--gradient-primary);
    color: var(--text-inverse);
    position: relative;
    overflow: hidden;
}

.giveaway-card-header::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    animation: shimmer 3s ease-in-out infinite;
}

@keyframes shimmer {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(180deg); }
}

.giveaway-card-title {
    font-size: var(--font-h4);
    font-weight: var(--font-weight-bold);
    color: var(--text-inverse);
    margin-bottom: var(--space-2);
    line-height: var(--line-height-tight);
    position: relative;
    z-index: 1;
}

.giveaway-prize {
    font-size: var(--font-size-lg);
    color: var(--text-inverse);
    display: flex;
    align-items: center;
    gap: var(--space-2);
    opacity: 0.95;
    position: relative;
    z-index: 1;
}

.giveaway-card-content {
    padding: var(--space-5);
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.giveaway-deadline {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    background: var(--bg-subtle);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
}

.giveaway-deadline svg {
    color: var(--color-warning);
    flex-shrink: 0;
}

.giveaway-participate-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    width: 100%;
    padding: var(--space-3) var(--space-5);
    background: var(--gradient-primary);
    color: var(--text-inverse);
    border: none;
    border-radius: var(--radius-lg);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-bold);
    text-decoration: none;
    cursor: pointer;
    transition: var(--transition-all);
    min-height: 48px;
}

.giveaway-participate-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-primary);
}

.giveaway-card-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
}


/* =====================================================
   🔍 HORIZONTAL FILTERS - Compact Design
===================================================== */

.horizontal-filters-wrapper {
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
    padding: var(--space-3) var(--space-4);
    margin-bottom: var(--space-4);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
}

.horizontal-filter-section {
    margin-bottom: var(--space-3);
}

.horizontal-filter-section:last-child {
    margin-bottom: 0;
}

.horizontal-filter-label {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    font-size: 11px;
    font-weight: var(--font-weight-bold);
    color: var(--text-secondary);
    margin-bottom: var(--space-2);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.horizontal-filter-label svg {
    color: var(--color-primary);
    flex-shrink: 0;
    width: 14px;
    height: 14px;
}

.horizontal-filter-chips {
    display: flex;
    gap: var(--space-2);
    overflow-x: auto;
    overflow-y: hidden;
    padding-bottom: var(--space-1);
    scrollbar-width: thin;
    scrollbar-color: var(--border-medium) var(--bg-subtle);
    -webkit-overflow-scrolling: touch;
}

.horizontal-filter-chips::-webkit-scrollbar {
    height: 4px;
}

.horizontal-filter-chips::-webkit-scrollbar-track {
    background: var(--bg-subtle);
    border-radius: var(--radius-full);
}

.horizontal-filter-chips::-webkit-scrollbar-thumb {
    background: var(--border-medium);
    border-radius: var(--radius-full);
}

.horizontal-filter-chips::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
}

.filter-chip {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-2) var(--space-3);
    background: var(--bg-subtle);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-full);
    font-size: 13px;
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
    white-space: nowrap;
    cursor: pointer;
    transition: var(--transition-all);
    flex-shrink: 0;
    min-height: 32px;
}

.filter-chip:hover {
    background: var(--bg-surface);
    border-color: var(--color-primary);
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

.filter-chip.active {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
    font-weight: var(--font-weight-bold);
    box-shadow: var(--shadow-sm);
}

.chip-logo {
    width: 20px;
    height: 20px;
    object-fit: contain;
    flex-shrink: 0;
}

.chip-icon {
    font-size: 16px;
    line-height: 1;
    flex-shrink: 0;
}

.chip-label {
    flex: 1;
    font-size: 13px;
}

.chip-count {
    font-size: 10px;
    color: var(--text-tertiary);
    background: var(--bg-page);
    padding: 2px 6px;
    border-radius: var(--radius-full);
    font-weight: var(--font-weight-bold);
    min-width: 20px;
    text-align: center;
}

.filter-chip.active .chip-count {
    background: rgba(255, 255, 255, 0.25);
    color: white;
}

/* 📱 MOBILE - Ultra Compact */
@media (max-width: 768px) {
    .horizontal-filters-wrapper {
        padding: var(--space-2) var(--space-3);
        margin-bottom: var(--space-3);
    }
    
    .horizontal-filter-section {
        margin-bottom: var(--space-2);
    }
    
    .horizontal-filter-label {
        font-size: 10px;
        margin-bottom: var(--space-1);
    }
    
    .horizontal-filter-chips {
        gap: var(--space-1);
    }
    
    .filter-chip {
        padding: 6px 10px;
        font-size: 12px;
        min-height: 28px;
        gap: 6px;
    }
    
    .chip-logo {
        width: 18px;
        height: 18px;
    }
    
    .chip-icon {
        font-size: 14px;
    }
    
    .chip-label {
        font-size: 12px;
    }
    
    .chip-count {
        font-size: 9px;
        padding: 2px 5px;
    }
}

@media (max-width: 480px) {
    .horizontal-filters-wrapper {
        padding: var(--space-2);
    }
    
    .filter-chip {
        padding: 5px 8px;
        font-size: 11px;
        min-height: 26px;
    }
    
    .chip-logo {
        width: 16px;
        height: 16px;
    }
    
    .chip-label {
        font-size: 11px;
    }
}


/* =====================================================
   📱 SIDEBAR FILTERS - Vertical Filter Panel
===================================================== */

.deal-filters-sidebar {
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
    padding: var(--space-5);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
    position: sticky;
    top: var(--space-20);
    max-height: calc(100vh - var(--space-24));
    overflow-y: auto;
}

.filter-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-5);
    padding-bottom: var(--space-4);
    border-bottom: 2px solid var(--border-light);
}

.filter-main-title {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0;
}

.filter-icon {
    color: var(--color-primary);
    width: 24px;
    height: 24px;
}

.filter-reset-btn {
    background: transparent;
    border: 1px solid var(--color-error);
    color: var(--color-error);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    cursor: pointer;
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
    transition: var(--transition-all);
}

.filter-reset-btn:hover {
    background: var(--color-error);
    color: var(--text-inverse);
}

.filter-context-info {
    background: var(--color-primary-pale);
    padding: var(--space-3);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-5);
    border-left: 4px solid var(--color-primary);
}

.context-label {
    display: block;
    font-size: var(--font-size-xs);
    color: var(--text-secondary);
    margin-bottom: var(--space-1);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: var(--font-weight-semibold);
}

.context-value {
    font-size: var(--font-size-lg);
    color: var(--color-primary);
    font-weight: var(--font-weight-bold);
}

.filter-sections-wrapper {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
}

.filter-section {
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    overflow: hidden;
    transition: var(--transition-all);
}

.filter-section.active {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-sm);
}

.filter-section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: var(--space-3) var(--space-4);
    background: var(--bg-subtle);
    border: none;
    cursor: pointer;
    transition: var(--transition-colors);
}

.filter-section-header:hover {
    background: var(--bg-page);
}

.filter-section.active .filter-section-header {
    background: var(--color-primary-pale);
}

.filter-section-title {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin: 0;
}

.filter-section-title svg {
    color: var(--color-primary);
    width: 18px;
    height: 18px;
}

.filter-toggle-icon {
    transition: transform 0.3s ease;
    color: var(--text-secondary);
}

.filter-section.active .filter-toggle-icon {
    transform: rotate(180deg);
}

.filter-section-content {
    padding: var(--space-4);
    background: var(--bg-surface);
}

.filter-options-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.filter-option-item {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-colors);
}

.filter-option-item:hover {
    background: var(--bg-subtle);
}

.filter-radio,
.filter-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--color-primary);
}

.filter-option-label {
    flex: 1;
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-sm);
    color: var(--text-primary);
    cursor: pointer;
}

.filter-emoji {
    font-size: 18px;
    line-height: 1;
}

.filter-count {
    font-size: var(--font-size-xs);
    color: var(--text-tertiary);
    background: var(--bg-subtle);
    padding: 2px 8px;
    border-radius: var(--radius-md);
    font-weight: var(--font-weight-semibold);
    min-width: 24px;
    text-align: center;
}

.filter-price-inputs {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.price-input-group {
    flex: 1;
}

.price-input-group label {
    display: block;
    font-size: var(--font-size-xs);
    color: var(--text-secondary);
    margin-bottom: var(--space-1);
    font-weight: var(--font-weight-semibold);
}

.price-separator {
    padding-top: var(--space-5);
    color: var(--text-secondary);
    font-weight: var(--font-weight-bold);
}

.filter-input {
    width: 100%;
    padding: var(--space-2) var(--space-3);
    border: 1px solid var(--border-input);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    transition: var(--transition-all);
}

.filter-input:focus {
    border-color: var(--color-primary);
    outline: none;
    box-shadow: var(--shadow-focus);
}

.filter-select,
.filter-discount-select,
.filter-status-select {
    width: 100%;
    padding: var(--space-2) var(--space-3);
    border: 1px solid var(--border-input);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    background: var(--bg-surface);
    cursor: pointer;
    transition: var(--transition-all);
}

.filter-select:focus {
    border-color: var(--color-primary);
    outline: none;
    box-shadow: var(--shadow-focus);
}


/* =====================================================
   📝 FORM ELEMENTS - Professional Inputs
===================================================== */

.form-group {
    margin-bottom: var(--space-4);
}

.form-label {
    display: block;
    margin-bottom: var(--space-2);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    font-size: var(--font-size-sm);
}

.form-label.required::after {
    content: '*';
    color: var(--color-error);
    margin-left: var(--space-1);
}

.form-input,
.form-select,
.form-textarea {
    width: 100%;
    padding: var(--input-padding);
    border: 2px solid var(--border-input);
    border-radius: var(--radius-md);
    font-family: var(--font-primary);
    font-size: var(--font-size-base);
    color: var(--text-primary);
    background: var(--bg-surface);
    transition: var(--transition-all);
    min-height: var(--input-height-md);
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
    outline: none;
    border-color: var(--border-input-focus);
    box-shadow: var(--shadow-focus);
}

.form-input::placeholder {
    color: var(--text-tertiary);
}

.form-input:disabled,
.form-select:disabled,
.form-textarea:disabled {
    background: var(--bg-muted);
    cursor: not-allowed;
    opacity: 0.6;
}

.form-input.error {
    border-color: var(--border-input-error);
}

.form-textarea {
    min-height: 120px;
    resize: vertical;
    line-height: var(--line-height-relaxed);
}

.form-check {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.form-check-input {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--color-primary);
}

.form-check-label {
    font-size: var(--font-size-sm);
    color: var(--text-primary);
    cursor: pointer;
    line-height: var(--line-height-relaxed);
}

.form-error-message {
    margin-top: var(--space-2);
    color: var(--color-error);
    font-size: var(--font-size-xs);
    display: flex;
    align-items: center;
    gap: var(--space-1);
}

.form-error-message svg {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
}

.form-helper {
    margin-top: var(--space-2);
    color: var(--text-tertiary);
    font-size: var(--font-size-xs);
    line-height: var(--line-height-relaxed);
}


/* =====================================================
   🏷️ BADGES & TAGS - Status Indicators
===================================================== */

.badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--badge-padding-md);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    line-height: 1;
}

.badge-primary {
    background: var(--color-primary-pale);
    color: var(--color-primary);
}

.badge-secondary {
    background: var(--color-secondary-pale);
    color: var(--color-secondary);
}

.badge-success {
    background: var(--color-success-bg);
    color: var(--color-success);
}

.badge-warning {
    background: var(--color-warning-bg);
    color: var(--color-warning);
}

.badge-error {
    background: var(--color-error-bg);
    color: var(--color-error);
}

.badge-info {
    background: var(--color-info-bg);
    color: var(--color-info);
}

.badge-pill {
    border-radius: var(--radius-full);
}

.badge-sm {
    padding: var(--badge-padding-sm);
    font-size: 10px;
}

.badge-lg {
    padding: var(--badge-padding-lg);
    font-size: var(--font-size-sm);
}


/* =====================================================
   📱 MOBILE RESPONSIVE ADJUSTMENTS
===================================================== */

@media (max-width: 768px) {
    .horizontal-filters-wrapper {
        padding: var(--space-4);
        margin-bottom: var(--space-5);
    }
    
    .horizontal-filter-chips {
        gap: var(--space-2);
    }
    
    .filter-chip {
        padding: var(--space-2) var(--space-3);
        font-size: var(--font-size-sm);
        min-height: 40px;
    }
    
    .deal-filters-sidebar {
        position: static;
        max-height: none;
    }
    
    .store-card,
    .category-card {
        padding: var(--space-3);
    }
    
    .giveaway-card-header {
        padding: var(--space-4);
    }
    
    .giveaway-card-content {
        padding: var(--space-4);
    }
}

@media (max-width: 480px) {
    .filter-chip {
        padding: var(--space-2);
        font-size: var(--font-size-xs);
        min-height: 36px;
    }
    
    .chip-logo {
        width: 20px;
        height: 20px;
    }
    
    .chip-icon {
        font-size: 16px;
    }
    
    .store-logo,
    .store-logo-fallback {
        width: 56px;
        height: 56px;
    }
    
    .category-icon-wrapper {
        width: 56px;
        height: 56px;
        font-size: 28px;
    }
}


/* =====================================================
   ❌ ERROR PAGE (404) - User-Friendly Error
===================================================== */

.error-404-container {
    text-align: center;
    padding: var(--space-16) var(--space-4);
    max-width: 700px;
    margin: 0 auto;
}

.error-icon {
    font-size: 120px;
    line-height: 1;
    margin-bottom: var(--space-4);
    filter: drop-shadow(0 4px 12px rgba(0,0,0,0.1));
}

.error-title {
    font-size: clamp(80px, 15vw, 120px);
    font-weight: var(--font-weight-black);
    color: var(--color-primary);
    line-height: 1;
    margin-bottom: var(--space-4);
}

.error-subtitle {
    font-size: var(--font-h3);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin-bottom: var(--space-3);
}

.error-description {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--space-6);
}

.error-actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    justify-content: center;
    margin-top: var(--space-6);
}

.error-search {
    max-width: 500px;
    margin: var(--space-8) auto 0;
}

.error-search p {
    margin-bottom: var(--space-3);
    color: var(--text-secondary);
    font-size: var(--font-size-base);
}

.error-search form {
    display: flex;
    gap: var(--space-2);
}

.search-input {
    flex: 1;
    padding: var(--space-3) var(--space-4);
    border: 2px solid var(--border-input);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-base);
}

.search-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: var(--shadow-focus);
}

.category-filters {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    justify-content: center;
    margin-top: var(--space-6);
}

@media (max-width: 768px) {
    .error-404-container {
        padding: var(--space-12) var(--space-3);
    }
    
    .error-icon {
        font-size: 80px;
    }
    
    .error-actions {
        flex-direction: column;
    }
    
    .error-search form {
        flex-direction: column;
    }
}


/* =====================================================
   ⚙️ LOADING & SKELETON STATES
===================================================== */

.skeleton {
    background: linear-gradient(90deg, 
        var(--bg-subtle) 0%, 
        var(--bg-muted) 50%, 
        var(--bg-subtle) 100%
    );
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s ease-in-out infinite;
    border-radius: var(--radius-md);
}

@keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

.skeleton-text {
    height: 1em;
    margin-bottom: var(--space-2);
}

.skeleton-title {
    height: 1.5em;
    width: 80%;
    margin-bottom: var(--space-3);
}

.skeleton-image {
    width: 100%;
    aspect-ratio: 4 / 3;
}

.skeleton-button {
    height: var(--btn-height-md);
    width: 100%;
}


/* =====================================================
   ♿ ACCESSIBILITY ENHANCEMENTS
===================================================== */

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Focus visible for better keyboard navigation */
:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


/* =====================================================
   🧩 ARCHIVE - Compact Deal Cards Override
   Targets archive, taxonomy and common archive page templates
   Makes deal cards denser across desktop and mobile
===================================================== */

/* Broad targets: WordPress body classes for archives and some page slugs used in this theme */
.archive .deal-card,
.post-type-archive-deals .deal-card,
.tax-deal-category .deal-card,
.tax-deal-type .deal-card,
.tax-store .deal-card,
.page-all-campaigns .deal-card,
.page-all-categories .deal-card,
.page-all-deal-types .deal-card,
.page-all-stores .deal-card {
    /* Slightly reduced visual weight */
    border-radius: var(--radius-md);
    box-shadow: none;
    transition: none;
}

/* Tighter image to reduce card height */
.archive .deal-card-image {
    aspect-ratio: 3 / 2; /* more compact than default 4/3 */
}

/* Tighter content spacing */
.archive .deal-card-content {
    padding: 8px; /* compact padding */
    gap: 4px;
}

/* Smaller store badge */
.archive .deal-store-badge {
    width: 28px;
    height: 28px;
    top: 6px;
    right: 6px;
    padding: 3px;
}

/* Smaller discount badge */
.archive .deal-discount-badge {
    padding: 3px 8px;
    min-width: 44px;
    font-size: 12px;
}

.archive .discount-value { font-size: 12px; }
.archive .discount-label { font-size: 9px; }

/* Slightly smaller title and tighter clamp */
.archive .deal-card-title {
    font-size: 13px;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    min-height: calc(13px * var(--line-height-snug) * 2);
}

/* Prices compact */
.archive .deal-price-sale { font-size: 18px; }
.archive .deal-price-original { font-size: 12px; }

/* Meta pills */
.archive .deal-card-meta .deal-meta-coupon,
.archive .deal-card-meta .deal-meta-cashback,
.archive .deal-card-meta .deal-meta-expiry {
    font-size: 9px;
    padding: 2px 6px;
}

/* Compact action button */
.archive .deal-card-actions {
    padding: 6px 8px 8px;
}

.archive .deal-btn-action {
    padding: 6px 10px;
    font-size: 13px;
    min-height: 36px;
    border-radius: 8px;
}

/* MOBILE: even tighter */
@media (max-width: 768px) {
    .archive .deal-card-image {
        aspect-ratio: 1 / 1; /* square on mobile for denser grid */
    }

    .archive .deal-card-content {
        padding: 6px;
        gap: 4px;
    }

    .archive .deal-card-title { font-size: 12px; }
    .archive .deal-price-sale { font-size: 16px; }
    .archive .deal-price-original { font-size: 11px; }
    .archive .deal-btn-action { font-size: 12px; padding: 6px 8px; min-height: 34px; }
    .archive .deal-store-badge { width: 26px; height: 26px; }
}

@media (max-width: 480px) {
    .archive .deal-card-content { padding: 5px; }
    .archive .deal-card-title { font-size: 11px; -webkit-line-clamp: 2; line-clamp: 2; }
    .archive .deal-price-sale { font-size: 15px; }
    .archive .deal-btn-action { font-size: 11px; min-height: 32px; padding: 5px 6px; }
}

/* Utility: add a compact helper class if you want to force compact cards anywhere */
.deal-card--compact {
    border-radius: var(--radius-md);
}

/* End of archive compact overrides */

/* END OF COMPONENTS.CSS - PRODUCTION COMPLETE ✅ */
.
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\css\global.css === 
/**
 * Global Styles - Base Reset & Utilities
 * 🌍 ULTIMATE PRODUCTION - World-Class Foundation
 * 
 * DESIGN PHILOSOPHY:
 * - Modern CSS reset (2025 standards)
 * - Mobile-first responsive (320px → 1920px+)
 * - Accessibility first (WCAG 2.1 AA)
 * - Performance optimized
 * - Zero hardcoded values (variables only)
 * - Smooth animations with GPU acceleration
 * 
 * @package ARRZONE
 * @version 10.0 PRODUCTION - COMPLETE
 * @architect World-Class UI/UX Expert
 */


/* =====================================================
   🔄 MODERN CSS RESET - 2025 Standards
===================================================== */

*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px; /* Base for rem calculations */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    -webkit-text-size-adjust: 100%;
    scroll-behavior: smooth;
    scroll-padding-top: var(--header-height); /* Smooth scroll offset */
}

@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }
}

body {
    font-family: var(--font-primary);
    font-size: var(--font-size-base); /* 15px */
    line-height: var(--line-height-normal); /* 1.5 */
    color: var(--text-primary);
    background-color: var(--bg-page);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
    text-rendering: optimizeSpeed;
}

/* Remove default margins */
h1, h2, h3, h4, h5, h6,
p, ul, ol, figure, blockquote, dl, dd {
    margin: 0;
}

/* Remove list styles */
ul, ol {
    list-style: none;
    padding: 0;
}

/* Images - Modern responsive approach */
img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
    height: auto;
    vertical-align: middle;
}

/* Lazy loading support */
img[loading="lazy"] {
    background: var(--bg-subtle);
}

/* Form elements */
input, button, textarea, select {
    font: inherit;
    color: inherit;
}

/* Remove spinners from number inputs */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type="number"] {
    -moz-appearance: textfield;
}

/* Remove search input decoration */
input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
    -webkit-appearance: none;
}

/* Links */
a {
    color: inherit;
    text-decoration: none;
}

a:not([class]) {
    text-decoration-skip-ink: auto;
}

/* Remove button styles */
button {
    background: none;
    border: none;
    cursor: pointer;
    font: inherit;
    padding: 0;
}

button:disabled {
    cursor: not-allowed;
}

/* Table reset */
table {
    border-collapse: collapse;
    border-spacing: 0;
    width: 100%;
}

/* Address element */
address {
    font-style: normal;
}


/* =====================================================
   ✒️ BASE TYPOGRAPHY - Optimized Hierarchy
===================================================== */

h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    color: var(--text-primary);
    text-wrap: balance; /* Modern CSS for better text wrapping */
}

h1 {
    font-size: var(--font-h1);
    margin-bottom: var(--space-4);
}

h2 {
    font-size: var(--font-h2);
    margin-bottom: var(--space-4);
}

h3 {
    font-size: var(--font-h3);
    margin-bottom: var(--space-3);
}

h4 {
    font-size: var(--font-h4);
    margin-bottom: var(--space-3);
}

h5 {
    font-size: var(--font-h5);
    margin-bottom: var(--space-2);
}

h6 {
    font-size: var(--font-h6);
    margin-bottom: var(--space-2);
}

p {
    margin-bottom: var(--space-4);
    line-height: var(--line-height-relaxed);
    text-wrap: pretty; /* Modern CSS for better readability */
}

p:last-child {
    margin-bottom: 0;
}

/* Links */
a {
    color: var(--text-link);
    transition: var(--transition-colors);
    text-decoration-skip-ink: auto;
}

a:hover {
    color: var(--text-link-hover);
}

a:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
}

/* Strong & Bold */
strong, b {
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
}

/* Emphasis */
em, i {
    font-style: italic;
}

/* Small text */
small {
    font-size: var(--font-size-sm);
    line-height: var(--line-height-normal);
}

/* Mark/Highlight */
mark {
    background-color: var(--color-warning-bg);
    color: var(--text-primary);
    padding: 2px 4px;
    border-radius: var(--radius-sm);
}

/* Code */
code {
    font-family: var(--font-mono);
    font-size: 0.9em;
    padding: 3px 6px;
    background: var(--bg-subtle);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-sm);
    color: var(--color-error);
}

pre {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    background: var(--bg-subtle);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    overflow-x: auto;
    margin-bottom: var(--space-4);
    border: 1px solid var(--border-light);
    line-height: var(--line-height-relaxed);
}

pre code {
    padding: 0;
    background: none;
    border: none;
    color: inherit;
}

/* Blockquote */
blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: var(--space-4);
    margin: var(--space-6) 0;
    font-style: italic;
    color: var(--text-secondary);
    background: var(--bg-subtle);
    padding: var(--space-4);
    border-radius: 0 var(--radius-md) var(--radius-md) 0;
}

blockquote p:last-child {
    margin-bottom: 0;
}

blockquote footer {
    font-style: normal;
    font-size: var(--font-size-sm);
    color: var(--text-tertiary);
    margin-top: var(--space-2);
}

blockquote footer::before {
    content: '— ';
}

/* Lists */
ul, ol {
    margin-bottom: var(--space-4);
}

ul[class],
ol[class] {
    list-style: none;
}

ul:not([class]) {
    list-style: disc;
    padding-left: var(--space-5);
}

ol:not([class]) {
    list-style: decimal;
    padding-left: var(--space-5);
}

li {
    margin-bottom: var(--space-2);
}

li:last-child {
    margin-bottom: 0;
}

/* Definition Lists */
dl {
    margin-bottom: var(--space-4);
}

dt {
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--space-1);
}

dd {
    margin-bottom: var(--space-3);
    margin-left: var(--space-4);
}

/* Horizontal Rule */
hr {
    border: 0;
    border-top: 1px solid var(--border-light);
    margin: var(--space-8) 0;
}

/* Abbreviations */
abbr[title] {
    text-decoration: underline dotted;
    cursor: help;
}


/* =====================================================
   🎨 SPACING UTILITIES - Margin & Padding
===================================================== */

/* Margin Utilities */
.m-0 { margin: 0 !important; }
.m-auto { margin: auto !important; }
.mx-auto { margin-left: auto !important; margin-right: auto !important; }
.my-auto { margin-top: auto !important; margin-bottom: auto !important; }

.mt-0 { margin-top: 0 !important; }
.mr-0 { margin-right: 0 !important; }
.mb-0 { margin-bottom: 0 !important; }
.ml-0 { margin-left: 0 !important; }

.m-1 { margin: var(--space-1) !important; }
.m-2 { margin: var(--space-2) !important; }
.m-3 { margin: var(--space-3) !important; }
.m-4 { margin: var(--space-4) !important; }
.m-5 { margin: var(--space-5) !important; }
.m-6 { margin: var(--space-6) !important; }
.m-8 { margin: var(--space-8) !important; }
.m-10 { margin: var(--space-10) !important; }

.mt-1 { margin-top: var(--space-1) !important; }
.mt-2 { margin-top: var(--space-2) !important; }
.mt-3 { margin-top: var(--space-3) !important; }
.mt-4 { margin-top: var(--space-4) !important; }
.mt-5 { margin-top: var(--space-5) !important; }
.mt-6 { margin-top: var(--space-6) !important; }
.mt-8 { margin-top: var(--space-8) !important; }
.mt-10 { margin-top: var(--space-10) !important; }

.mr-1 { margin-right: var(--space-1) !important; }
.mr-2 { margin-right: var(--space-2) !important; }
.mr-3 { margin-right: var(--space-3) !important; }
.mr-4 { margin-right: var(--space-4) !important; }

.mb-1 { margin-bottom: var(--space-1) !important; }
.mb-2 { margin-bottom: var(--space-2) !important; }
.mb-3 { margin-bottom: var(--space-3) !important; }
.mb-4 { margin-bottom: var(--space-4) !important; }
.mb-5 { margin-bottom: var(--space-5) !important; }
.mb-6 { margin-bottom: var(--space-6) !important; }
.mb-8 { margin-bottom: var(--space-8) !important; }
.mb-10 { margin-bottom: var(--space-10) !important; }

.ml-1 { margin-left: var(--space-1) !important; }
.ml-2 { margin-left: var(--space-2) !important; }
.ml-3 { margin-left: var(--space-3) !important; }
.ml-4 { margin-left: var(--space-4) !important; }

/* Padding Utilities */
.p-0 { padding: 0 !important; }
.p-1 { padding: var(--space-1) !important; }
.p-2 { padding: var(--space-2) !important; }
.p-3 { padding: var(--space-3) !important; }
.p-4 { padding: var(--space-4) !important; }
.p-5 { padding: var(--space-5) !important; }
.p-6 { padding: var(--space-6) !important; }
.p-8 { padding: var(--space-8) !important; }

.pt-0 { padding-top: 0 !important; }
.pt-1 { padding-top: var(--space-1) !important; }
.pt-2 { padding-top: var(--space-2) !important; }
.pt-3 { padding-top: var(--space-3) !important; }
.pt-4 { padding-top: var(--space-4) !important; }
.pt-5 { padding-top: var(--space-5) !important; }
.pt-6 { padding-top: var(--space-6) !important; }
.pt-8 { padding-top: var(--space-8) !important; }

.pr-0 { padding-right: 0 !important; }
.pr-1 { padding-right: var(--space-1) !important; }
.pr-2 { padding-right: var(--space-2) !important; }
.pr-3 { padding-right: var(--space-3) !important; }
.pr-4 { padding-right: var(--space-4) !important; }

.pb-0 { padding-bottom: 0 !important; }
.pb-1 { padding-bottom: var(--space-1) !important; }
.pb-2 { padding-bottom: var(--space-2) !important; }
.pb-3 { padding-bottom: var(--space-3) !important; }
.pb-4 { padding-bottom: var(--space-4) !important; }
.pb-5 { padding-bottom: var(--space-5) !important; }
.pb-6 { padding-bottom: var(--space-6) !important; }
.pb-8 { padding-bottom: var(--space-8) !important; }

.pl-0 { padding-left: 0 !important; }
.pl-1 { padding-left: var(--space-1) !important; }
.pl-2 { padding-left: var(--space-2) !important; }
.pl-3 { padding-left: var(--space-3) !important; }
.pl-4 { padding-left: var(--space-4) !important; }

/* Padding X & Y */
.px-0 { padding-left: 0 !important; padding-right: 0 !important; }
.px-1 { padding-left: var(--space-1) !important; padding-right: var(--space-1) !important; }
.px-2 { padding-left: var(--space-2) !important; padding-right: var(--space-2) !important; }
.px-3 { padding-left: var(--space-3) !important; padding-right: var(--space-3) !important; }
.px-4 { padding-left: var(--space-4) !important; padding-right: var(--space-4) !important; }
.px-5 { padding-left: var(--space-5) !important; padding-right: var(--space-5) !important; }
.px-6 { padding-left: var(--space-6) !important; padding-right: var(--space-6) !important; }

.py-0 { padding-top: 0 !important; padding-bottom: 0 !important; }
.py-1 { padding-top: var(--space-1) !important; padding-bottom: var(--space-1) !important; }
.py-2 { padding-top: var(--space-2) !important; padding-bottom: var(--space-2) !important; }
.py-3 { padding-top: var(--space-3) !important; padding-bottom: var(--space-3) !important; }
.py-4 { padding-top: var(--space-4) !important; padding-bottom: var(--space-4) !important; }
.py-5 { padding-top: var(--space-5) !important; padding-bottom: var(--space-5) !important; }
.py-6 { padding-top: var(--space-6) !important; padding-bottom: var(--space-6) !important; }
.py-8 { padding-top: var(--space-8) !important; padding-bottom: var(--space-8) !important; }


/* =====================================================
   🎯 TEXT UTILITIES - Typography Helpers
===================================================== */

/* Text Alignment */
.text-left { text-align: left !important; }
.text-center { text-align: center !important; }
.text-right { text-align: right !important; }
.text-justify { text-align: justify !important; }

/* Text Transform */
.text-uppercase { text-transform: uppercase !important; }
.text-lowercase { text-transform: lowercase !important; }
.text-capitalize { text-transform: capitalize !important; }
.text-normal-case { text-transform: none !important; }

/* Font Weight */
.font-light { font-weight: var(--font-weight-light) !important; }
.font-regular { font-weight: var(--font-weight-regular) !important; }
.font-medium { font-weight: var(--font-weight-medium) !important; }
.font-semibold { font-weight: var(--font-weight-semibold) !important; }
.font-bold { font-weight: var(--font-weight-bold) !important; }
.font-extrabold { font-weight: var(--font-weight-extrabold) !important; }
.font-black { font-weight: var(--font-weight-black) !important; }

/* Font Size */
.text-xs { font-size: var(--font-size-xs) !important; }
.text-sm { font-size: var(--font-size-sm) !important; }
.text-base { font-size: var(--font-size-base) !important; }
.text-md { font-size: var(--font-size-md) !important; }
.text-lg { font-size: var(--font-size-lg) !important; }
.text-xl { font-size: var(--font-size-xl) !important; }
.text-2xl { font-size: var(--font-size-2xl) !important; }
.text-3xl { font-size: var(--font-size-3xl) !important; }
.text-4xl { font-size: var(--font-size-4xl) !important; }

/* Text Color */
.text-primary { color: var(--text-primary) !important; }
.text-secondary { color: var(--text-secondary) !important; }
.text-tertiary { color: var(--text-tertiary) !important; }
.text-muted { color: var(--text-muted) !important; }
.text-white { color: var(--text-inverse) !important; }
.text-success { color: var(--color-success) !important; }
.text-error { color: var(--color-error) !important; }
.text-warning { color: var(--color-warning) !important; }
.text-info { color: var(--color-info) !important; }
.text-link { color: var(--text-link) !important; }

/* Text Decoration */
.text-underline { text-decoration: underline !important; }
.text-no-underline { text-decoration: none !important; }
.text-line-through { text-decoration: line-through !important; }

/* Line Height */
.leading-none { line-height: 1 !important; }
.leading-tight { line-height: var(--line-height-tight) !important; }
.leading-snug { line-height: var(--line-height-snug) !important; }
.leading-normal { line-height: var(--line-height-normal) !important; }
.leading-relaxed { line-height: var(--line-height-relaxed) !important; }
.leading-loose { line-height: var(--line-height-loose) !important; }

/* Line Clamp - Multi-line truncation */
.line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Truncate - Single line */
.truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* White Space */
.whitespace-normal { white-space: normal !important; }
.whitespace-nowrap { white-space: nowrap !important; }
.whitespace-pre { white-space: pre !important; }
.whitespace-pre-wrap { white-space: pre-wrap !important; }

/* Word Break */
.break-normal { word-break: normal !important; overflow-wrap: normal !important; }
.break-words { overflow-wrap: break-word !important; }
.break-all { word-break: break-all !important; }


/* =====================================================
   🎨 BACKGROUND UTILITIES
===================================================== */

.bg-transparent { background-color: transparent !important; }
.bg-page { background-color: var(--bg-page) !important; }
.bg-surface { background-color: var(--bg-surface) !important; }
.bg-subtle { background-color: var(--bg-subtle) !important; }
.bg-muted { background-color: var(--bg-muted) !important; }

.bg-primary { background-color: var(--color-primary) !important; }
.bg-primary-pale { background-color: var(--color-primary-pale) !important; }
.bg-secondary { background-color: var(--color-secondary) !important; }
.bg-success { background-color: var(--color-success) !important; }
.bg-warning { background-color: var(--color-warning) !important; }
.bg-error { background-color: var(--color-error) !important; }
.bg-info { background-color: var(--color-info) !important; }


/* =====================================================
   🔲 BORDER UTILITIES
===================================================== */

.border { border: 1px solid var(--border-default) !important; }
.border-0 { border: 0 !important; }
.border-2 { border: 2px solid var(--border-default) !important; }

.border-light { border-color: var(--border-light) !important; }
.border-default { border-color: var(--border-default) !important; }
.border-medium { border-color: var(--border-medium) !important; }
.border-primary { border-color: var(--color-primary) !important; }

.border-t { border-top: 1px solid var(--border-default) !important; }
.border-t-0 { border-top: 0 !important; }
.border-r { border-right: 1px solid var(--border-default) !important; }
.border-r-0 { border-right: 0 !important; }
.border-b { border-bottom: 1px solid var(--border-default) !important; }
.border-b-0 { border-bottom: 0 !important; }
.border-l { border-left: 1px solid var(--border-default) !important; }
.border-l-0 { border-left: 0 !important; }

.border-none { border: none !important; }

/* Border Radius */
.rounded-none { border-radius: 0 !important; }
.rounded-sm { border-radius: var(--radius-sm) !important; }
.rounded { border-radius: var(--radius-md) !important; }
.rounded-md { border-radius: var(--radius-md) !important; }
.rounded-lg { border-radius: var(--radius-lg) !important; }
.rounded-xl { border-radius: var(--radius-xl) !important; }
.rounded-2xl { border-radius: var(--radius-2xl) !important; }
.rounded-full { border-radius: var(--radius-full) !important; }
.rounded-circle { border-radius: var(--radius-circle) !important; }

/* Border Radius Sides */
.rounded-t-none { border-top-left-radius: 0 !important; border-top-right-radius: 0 !important; }
.rounded-r-none { border-top-right-radius: 0 !important; border-bottom-right-radius: 0 !important; }
.rounded-b-none { border-bottom-right-radius: 0 !important; border-bottom-left-radius: 0 !important; }
.rounded-l-none { border-top-left-radius: 0 !important; border-bottom-left-radius: 0 !important; }


/* =====================================================
   🎭 SHADOW UTILITIES
===================================================== */

.shadow-none { box-shadow: none !important; }
.shadow-xs { box-shadow: var(--shadow-xs) !important; }
.shadow-sm { box-shadow: var(--shadow-sm) !important; }
.shadow-md { box-shadow: var(--shadow-md) !important; }
.shadow-lg { box-shadow: var(--shadow-lg) !important; }
.shadow-xl { box-shadow: var(--shadow-xl) !important; }
.shadow-hover { box-shadow: var(--shadow-hover) !important; }
.shadow-focus { box-shadow: var(--shadow-focus) !important; }


/* =====================================================
   📐 DISPLAY UTILITIES
===================================================== */

.d-none { display: none !important; }
.d-block { display: block !important; }
.d-inline { display: inline !important; }
.d-inline-block { display: inline-block !important; }
.d-flex { display: flex !important; }
.d-inline-flex { display: inline-flex !important; }
.d-grid { display: grid !important; }
.d-inline-grid { display: inline-grid !important; }
.d-contents { display: contents !important; }

/* Visibility */
.visible { visibility: visible !important; }
.invisible { visibility: hidden !important; }

/* Overflow */
.overflow-auto { overflow: auto !important; }
.overflow-hidden { overflow: hidden !important; }
.overflow-visible { overflow: visible !important; }
.overflow-scroll { overflow: scroll !important; }
.overflow-x-auto { overflow-x: auto !important; }
.overflow-y-auto { overflow-y: auto !important; }
.overflow-x-hidden { overflow-x: hidden !important; }
.overflow-y-hidden { overflow-y: hidden !important; }


/* =====================================================
   🎯 POSITION UTILITIES
===================================================== */

.position-static { position: static !important; }
.position-relative { position: relative !important; }
.position-absolute { position: absolute !important; }
.position-fixed { position: fixed !important; }
.position-sticky { position: sticky !important; }

/* Position Values */
.top-0 { top: 0 !important; }
.right-0 { right: 0 !important; }
.bottom-0 { bottom: 0 !important; }
.left-0 { left: 0 !important; }

.inset-0 { top: 0 !important; right: 0 !important; bottom: 0 !important; left: 0 !important; }


/* =====================================================
   📏 WIDTH & HEIGHT UTILITIES
===================================================== */

.w-auto { width: auto !important; }
.w-full { width: 100% !important; }
.w-screen { width: 100vw !important; }
.w-min { width: min-content !important; }
.w-max { width: max-content !important; }

.h-auto { height: auto !important; }
.h-full { height: 100% !important; }
.h-screen { height: 100vh !important; }
.h-min { height: min-content !important; }
.h-max { height: max-content !important; }

.max-w-full { max-width: 100% !important; }
.max-w-screen { max-width: 100vw !important; }
.max-w-none { max-width: none !important; }

.max-h-full { max-height: 100% !important; }
.max-h-screen { max-height: 100vh !important; }
.max-h-none { max-height: none !important; }

.min-w-0 { min-width: 0 !important; }
.min-w-full { min-width: 100% !important; }

.min-h-0 { min-height: 0 !important; }
.min-h-full { min-height: 100% !important; }
.min-h-screen { min-height: 100vh !important; }


/* =====================================================
   🎨 FLEX UTILITIES
===================================================== */

/* Flex Direction */
.flex-row { flex-direction: row !important; }
.flex-row-reverse { flex-direction: row-reverse !important; }
.flex-col { flex-direction: column !important; }
.flex-col-reverse { flex-direction: column-reverse !important; }

/* Flex Wrap */
.flex-wrap { flex-wrap: wrap !important; }
.flex-wrap-reverse { flex-wrap: wrap-reverse !important; }
.flex-nowrap { flex-wrap: nowrap !important; }

/* Flex */
.flex-1 { flex: 1 1 0% !important; }
.flex-auto { flex: 1 1 auto !important; }
.flex-initial { flex: 0 1 auto !important; }
.flex-none { flex: none !important; }

/* Flex Grow */
.flex-grow-0 { flex-grow: 0 !important; }
.flex-grow { flex-grow: 1 !important; }

/* Flex Shrink */
.flex-shrink-0 { flex-shrink: 0 !important; }
.flex-shrink { flex-shrink: 1 !important; }

/* Gap */
.gap-0 { gap: 0 !important; }
.gap-1 { gap: var(--space-1) !important; }
.gap-2 { gap: var(--space-2) !important; }
.gap-3 { gap: var(--space-3) !important; }
.gap-4 { gap: var(--space-4) !important; }
.gap-5 { gap: var(--space-5) !important; }
.gap-6 { gap: var(--space-6) !important; }
.gap-8 { gap: var(--space-8) !important; }

/* Justify Content */
.justify-start { justify-content: flex-start !important; }
.justify-end { justify-content: flex-end !important; }
.justify-center { justify-content: center !important; }
.justify-between { justify-content: space-between !important; }
.justify-around { justify-content: space-around !important; }
.justify-evenly { justify-content: space-evenly !important; }

/* Align Items */
.items-start { align-items: flex-start !important; }
.items-end { align-items: flex-end !important; }
.items-center { align-items: center !important; }
.items-baseline { align-items: baseline !important; }
.items-stretch { align-items: stretch !important; }

/* Align Self */
.self-auto { align-self: auto !important; }
.self-start { align-self: flex-start !important; }
.self-end { align-self: flex-end !important; }
.self-center { align-self: center !important; }
.self-stretch { align-self: stretch !important; }

/* Align Content */
.content-start { align-content: flex-start !important; }
.content-end { align-content: flex-end !important; }
.content-center { align-content: center !important; }
.content-between { align-content: space-between !important; }
.content-around { align-content: space-around !important; }


/* =====================================================
   ♿ ACCESSIBILITY UTILITIES
===================================================== */

/* Screen Reader Only */
.sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border-width: 0 !important;
}

.sr-only-focusable:focus,
.sr-only-focusable:active {
    position: static !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
    clip: auto !important;
    white-space: normal !important;
}

/* Focus Visible */
*:focus-visible {
    outline: 2px solid var(--color-primary) !important;
    outline-offset: 2px !important;
}

/* Skip to Content */
.skip-to-content {
    position: absolute;
    top: -100%;
    left: var(--space-4);
    background: var(--color-primary);
    color: var(--text-inverse);
    padding: var(--space-3) var(--space-5);
    border-radius: var(--radius-md);
    font-weight: var(--font-weight-semibold);
    z-index: var(--z-max);
    transition: top 0.3s ease;
}

.skip-to-content:focus {
    top: var(--space-4);
}


/* =====================================================
   🎬 ANIMATION UTILITIES
===================================================== */

.fade-in {
    animation: fadeIn var(--duration-normal) ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.fade-in-up {
    animation: fadeInUp var(--duration-normal) ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.slide-in-left {
    animation: slideInLeft var(--duration-normal) ease-out;
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.zoom-in {
    animation: zoomIn var(--duration-normal) ease-out;
}

@keyframes zoomIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Hover Effects */
.hover-lift {
    transition: var(--transition-transform);
}

.hover-lift:hover {
    transform: translateY(-4px);
}

.hover-scale {
    transition: var(--transition-transform);
}

.hover-scale:hover {
    transform: scale(1.05);
}

.hover-glow {
    transition: var(--transition-shadow);
}

.hover-glow:hover {
    box-shadow: 0 0 20px rgba(0, 137, 123, 0.4);
}


/* =====================================================
   🔧 MISCELLANEOUS UTILITIES
===================================================== */

.cursor-auto { cursor: auto !important; }
.cursor-default { cursor: default !important; }
.cursor-pointer { cursor: pointer !important; }
.cursor-wait { cursor: wait !important; }
.cursor-text { cursor: text !important; }
.cursor-move { cursor: move !important; }
.cursor-not-allowed { cursor: not-allowed !important; }

.pointer-events-none { pointer-events: none !important; }
.pointer-events-auto { pointer-events: auto !important; }

.select-none { user-select: none !important; }
.select-text { user-select: text !important; }
.select-all { user-select: all !important; }

.opacity-0 { opacity: 0 !important; }
.opacity-25 { opacity: 0.25 !important; }
.opacity-50 { opacity: 0.5 !important; }
.opacity-75 { opacity: 0.75 !important; }
.opacity-100 { opacity: 1 !important; }

.z-0 { z-index: 0 !important; }
.z-base { z-index: var(--z-base) !important; }
.z-dropdown { z-index: var(--z-dropdown) !important; }
.z-sticky { z-index: var(--z-sticky) !important; }
.z-fixed { z-index: var(--z-fixed) !important; }
.z-modal-backdrop { z-index: var(--z-modal-backdrop) !important; }
.z-modal { z-index: var(--z-modal) !important; }
.z-popover { z-index: var(--z-popover) !important; }
.z-tooltip { z-index: var(--z-tooltip) !important; }
.z-toast { z-index: var(--z-toast) !important; }
.z-max { z-index: var(--z-max) !important; }

.transition-none { transition: none !important; }
.transition-all { transition: var(--transition-all) !important; }
.transition-colors { transition: var(--transition-colors) !important; }
.transition-opacity { transition: var(--transition-opacity) !important; }
.transition-shadow { transition: var(--transition-shadow) !important; }
.transition-transform { transition: var(--transition-transform) !important; }


/* =====================================================
   📱 RESPONSIVE UTILITIES - Mobile-First
===================================================== */

/* Hide on specific breakpoints */
.hide-mobile { display: block !important; }
.hide-tablet { display: block !important; }
.hide-desktop { display: none !important; }

@media (max-width: 768px) {
    .hide-mobile { display: none !important; }
    .show-mobile { display: block !important; }
    .text-center-mobile { text-align: center !important; }
}

@media (min-width: 769px) and (max-width: 1024px) {
    .hide-tablet { display: none !important; }
    .show-tablet { display: block !important; }
}

@media (min-width: 1025px) {
    .hide-desktop { display: none !important; }
    .show-desktop { display: block !important; }
}


/* =====================================================
   🖨️ PRINT STYLES
===================================================== */

@media print {
    *,
    *::before,
    *::after {
        background: transparent !important;
        color: #000 !important;
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]::after {
        content: " (" attr(href) ")";
    }

    abbr[title]::after {
        content: " (" attr(title) ")";
    }

    a[href^="#"]::after,
    a[href^="javascript:"]::after {
        content: "";
    }

    pre {
        white-space: pre-wrap !important;
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group;
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }

    .no-print,
    .site-header,
    .site-footer,
    .announcement-bar,
    nav,
    button {
        display: none !important;
    }
}


/* =====================================================
   ⚙️ PERFORMANCE OPTIMIZATIONS
===================================================== */

/* GPU Acceleration for transforms */
.gpu-accelerate {
    transform: translateZ(0);
    will-change: transform;
}

/* Smooth scrolling container */
.smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
}

/* Contain paint for performance */
.contain-paint {
    contain: paint;
}

/* Content visibility for lazy rendering */
.content-auto {
    content-visibility: auto;
}


/* =====================================================
   🌙 DARK MODE SUPPORT (Future-Ready)
===================================================== */

@media (prefers-color-scheme: dark) {
    /* Override with dark mode styles when implementing */
}


/* END OF GLOBAL.CSS - PRODUCTION COMPLETE ✅ */
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\css\homepage.css === 
/**
 * Homepage Styles - ULTRA-COMPACT EXPERT EDITION
 * 🏠 50-60% Size Reduction with Expert UI/UX
 * 
 * DESIGN PHILOSOPHY:
 * - CouponDunia-level compact density
 * - Expert micro-interactions
 * - Maximum content in minimum space
 * - Mobile-first responsive
 * - Zero waste, pure efficiency
 * 
 * @package ARRZONE
 * @version 12.0 PRODUCTION - ULTRA-COMPACT
 * @architect Compact Design Expert
 */


/* =====================================================
   🏠 HOMEPAGE WRAPPER
===================================================== */

.homepage {
    padding-bottom: var(--space-6); /* 20px - COMPACT (was space-12) */
    background: linear-gradient(180deg, var(--bg-page) 0%, var(--bg-subtle) 100%);
}


/* =====================================================
   💬 WELCOME TEXT - Ultra Compact
===================================================== */

.welcome-text-section {
    background: linear-gradient(135deg, var(--color-primary-pale) 0%, rgba(255,255,255,0.8) 100%);
    padding: var(--space-4) 0; /* 12px - COMPACT (was space-8) */
    margin-bottom: var(--space-6); /* 20px - COMPACT */
    position: relative;
    overflow: hidden;
}

.welcome-text-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 20% 50%, rgba(0, 137, 123, 0.08) 0%, transparent 50%);
    animation: welcomeFloat 15s ease-in-out infinite;
    pointer-events: none;
}

@keyframes welcomeFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-5px); }
}

.welcome-text-container {
    text-align: center;
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
}

.welcome-text {
    font-size: var(--font-h4); /* 16-18px - COMPACT (was h3) */
    font-weight: var(--font-weight-semibold); /* COMPACT (was bold) */
    color: var(--text-primary);
    line-height: var(--line-height-snug);
    margin: 0;
}

@media (max-width: 768px) {
    .welcome-text-section {
        padding: var(--space-3) 0; /* 10px */
    }
    
    .welcome-text {
        font-size: var(--font-size-base); /* 15px */
    }
}


/* =====================================================
   🎠 HERO BANNERS CAROUSEL - Compact Design
===================================================== */

.hero-slider-cd {
    margin-bottom: var(--space-6); /* 20px - COMPACT (was space-12) */
    position: relative;
}

.hero-banners-carousel {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-lg); /* 12px - COMPACT (was 2xl) */
    background: var(--bg-surface);
    box-shadow: var(--shadow-sm); /* Subtle shadow */
}

.hero-banners-wrapper {
    position: relative;
    width: 100%;
}

.hero-banners-slide {
    display: none;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--gap-sm); /* 10px - COMPACT (was lg) */
    padding: var(--space-2); /* 8px - COMPACT (was space-4) */
}

.hero-banners-slide.active {
    display: grid;
    animation: slideIn 0.4s ease-out;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateX(10px); }
    to { opacity: 1; transform: translateX(0); }
}

.hero-banner-item {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-md); /* 8px - COMPACT (was xl) */
    background: var(--bg-subtle);
    aspect-ratio: 5/2; /* More compact ratio (was 2/1) */
    box-shadow: var(--shadow-xs);
    transition: var(--transition-all);
}

.hero-banner-item:hover {
    transform: translateY(-2px); /* Subtle lift */
    box-shadow: var(--shadow-md);
}

.hero-banner-link {
    display: block;
    width: 100%;
    height: 100%;
}

.hero-banner-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.hero-banner-item:hover .hero-banner-image {
    transform: scale(1.08); /* Subtle zoom */
}

.hero-banner-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: var(--space-3); /* 10px - COMPACT (was space-6) */
    text-align: center;
    background: var(--gradient-primary);
    color: var(--text-inverse);
    position: relative;
    overflow: hidden;
}

.hero-banner-placeholder::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, transparent 70%);
    animation: shimmer 8s linear infinite;
}

@keyframes shimmer {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.hero-placeholder-1 {
    background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
}

.hero-placeholder-2 {
    background: linear-gradient(135deg, #4E54C8 0%, #8F94FB 100%);
}

.hero-banner-placeholder h3 {
    font-size: var(--font-size-lg); /* 18px - COMPACT (was h4) */
    margin-bottom: var(--space-1); /* 4px - COMPACT */
    color: var(--text-inverse);
    position: relative;
    z-index: 1;
}

.hero-banner-placeholder p {
    font-size: var(--font-size-xs); /* 12px - COMPACT (was sm) */
    margin-bottom: var(--space-2); /* 8px - COMPACT */
    opacity: 0.95;
    position: relative;
    z-index: 1;
}

.placeholder-btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-1) var(--space-3); /* COMPACT */
    background: rgba(255, 255, 255, 0.25);
    border: 2px solid rgba(255, 255, 255, 0.4);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs); /* 12px - COMPACT */
    font-weight: var(--font-weight-bold);
    backdrop-filter: blur(10px);
    transition: var(--transition-all);
    position: relative;
    z-index: 1;
}

.placeholder-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    border-color: rgba(255, 255, 255, 0.6);
    transform: translateY(-1px);
}

/* Compact carousel controls */
.carousel-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 32px; /* COMPACT (was 48px) */
    height: 32px;
    background: rgba(255, 255, 255, 0.95);
    border: none;
    border-radius: var(--radius-circle);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-lg); /* COMPACT (was 2xl) */
    color: var(--color-primary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
    transition: var(--transition-all);
    z-index: var(--z-raised);
    backdrop-filter: blur(10px);
}

.carousel-arrow:hover {
    background: var(--color-primary);
    color: var(--text-inverse);
    transform: translateY(-50%) scale(1.08);
}

.carousel-arrow-prev {
    left: var(--space-2); /* 8px */
}

.carousel-arrow-next {
    right: var(--space-2);
}

.carousel-dots {
    display: flex;
    justify-content: center;
    gap: var(--space-1); /* 4px */
    padding: var(--space-2); /* 8px - COMPACT */
}

.carousel-dot {
    width: 6px; /* COMPACT (was 8px) */
    height: 6px;
    border-radius: var(--radius-circle);
    background: var(--border-medium);
    border: none;
    cursor: pointer;
    transition: var(--transition-all);
    padding: 0;
}

.carousel-dot.active {
    width: 18px; /* COMPACT (was 24px) */
    background: var(--color-primary);
}

.admin-notice {
    background: linear-gradient(135deg, var(--color-warning-bg) 0%, rgba(255, 243, 205, 0.5) 100%);
    border-left: 3px solid var(--color-warning);
    padding: var(--space-2); /* COMPACT */
    border-radius: var(--radius-md);
    margin-top: var(--space-2);
    box-shadow: var(--shadow-xs);
}

.admin-notice p {
    margin: 0;
    font-size: var(--font-size-xs); /* 12px - COMPACT */
    color: #856404;
    font-weight: var(--font-weight-medium);
}

@media (max-width: 768px) {
    /* 🔥 MOBILE: Show only first banner, hide second */
    .hero-banners-slide {
        grid-template-columns: 1fr;
        gap: 0;
        padding: var(--space-2);
    }
    
    /* 🔥 HIDE second banner on mobile (only show 1 at a time) */
    .hero-banner-item:nth-child(2) {
        display: none !important;
    }
    
    /* Make carousel navigation larger for touch */
    .carousel-arrow {
        width: 36px;
        height: 36px;
        font-size: var(--font-size-lg);
    }
    
    /* Show dots below banner */
    .carousel-dots {
        padding: var(--space-3) 0;
    }
    
    /* Adjust banner aspect ratio for mobile */
    .hero-banner-item {
        aspect-ratio: 16/9;
    }
}


/* =====================================================
   🎯 THREE STEPS - Ultra Compact Horizontal
===================================================== */

.three-steps {
    padding: var(--space-4) 0; /* 12px - COMPACT (was space-10) */
    background: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-page) 100%);
    margin-bottom: var(--space-6); /* 20px - COMPACT */
    position: relative;
}

.three-steps-container {
    background: var(--bg-surface);
    border-radius: var(--radius-lg); /* COMPACT (was 2xl) */
    padding: var(--space-4); /* 12px - COMPACT (was space-8) */
    box-shadow: var(--shadow-xs);
    border: 1px solid var(--border-light);
}

.steps-title {
    font-size: var(--font-h4); /* 16-18px - COMPACT (was h2) */
    text-align: center;
    margin-bottom: var(--space-3); /* 10px - COMPACT */
    color: var(--text-primary);
    font-weight: var(--font-weight-bold);
}

.steps-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--gap-sm); /* 10px - COMPACT */
}

.step-item {
    background: var(--bg-page);
    border-radius: var(--radius-md); /* COMPACT (was xl) */
    padding: var(--space-3); /* 10px - COMPACT (was space-6) */
    text-align: center;
    box-shadow: var(--shadow-xs);
    transition: var(--transition-all);
    border: 1px solid var(--border-light);
}

.step-item:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-primary);
}

.step-number {
    width: 36px; /* COMPACT (was 60px) */
    height: 36px;
    margin: 0 auto var(--space-2);
    background: var(--gradient-primary);
    border-radius: var(--radius-circle);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-lg); /* COMPACT (was 2xl) */
    font-weight: var(--font-weight-black);
    color: var(--text-inverse);
    box-shadow: 0 2px 8px rgba(0, 137, 123, 0.25);
}

.step-icon {
    font-size: 32px; /* COMPACT (was 48px) */
    margin-bottom: var(--space-2);
    display: block;
}

.step-item h3 {
    font-size: var(--font-size-sm); /* 14px - COMPACT (was lg) */
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-1);
    color: var(--text-primary);
    line-height: var(--line-height-snug);
}

.step-item p {
    color: var(--text-secondary);
    font-size: var(--font-size-xs); /* 12px - COMPACT */
    line-height: 1.4;
    margin: 0;
}

@media (max-width: 768px) {
    .three-steps {
        padding: var(--space-3) 0;
    }
    
    .three-steps-container {
        padding: var(--space-2);
    }
    
    .steps-title {
        font-size: var(--font-size-base);
        margin-bottom: var(--space-2);
    }
    
    .steps-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-1);
    }
    
    .step-item {
        padding: var(--space-2);
    }
    
    .step-number {
        width: 28px;
        height: 28px;
        font-size: var(--font-size-base);
        margin-bottom: var(--space-1);
    }
    
    .step-icon {
        font-size: 24px;
        margin-bottom: var(--space-1);
    }
    
    .step-item h3 {
        font-size: 11px;
    }
    
    .step-item p {
        font-size: 9px;
    }
}


/* =====================================================
   🔥 HOT PICKS - Compact Horizontal Scroll
===================================================== */

.hot-picks {
    margin-bottom: var(--space-6); /* COMPACT */
}

.hot-picks-container {
    background: var(--bg-surface);
    border-radius: var(--radius-lg); /* COMPACT */
    padding: var(--space-4); /* 12px - COMPACT (was space-8) */
    box-shadow: var(--shadow-xs);
    border: 1px solid var(--border-light);
    
    /* 🔥 CRITICAL - Prevent overflow */
    overflow: hidden;
    position: relative;
}

.section-header-inline {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-3); /* COMPACT */
    flex-wrap: wrap;
    gap: var(--space-2);
    padding-bottom: var(--space-2);
    border-bottom: 2px solid var(--border-light);
}

.section-header-inline h2 {
    font-size: var(--font-h4); /* 16-18px - COMPACT (was h2) */
    margin: 0;
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--space-1);
}

.section-icon-inline {
    font-size: var(--font-size-xl); /* COMPACT (was 2xl) */
}

.see-more {
    color: var(--text-inverse);
    background: var(--gradient-primary);
    padding: var(--space-1) var(--space-3); /* COMPACT */
    border-radius: var(--radius-full);
    text-decoration: none;
    font-size: var(--font-size-xs); /* 12px - COMPACT */
    font-weight: var(--font-weight-bold);
    transition: var(--transition-all);
    box-shadow: 0 2px 6px rgba(0, 137, 123, 0.25);
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
}

.see-more:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 10px rgba(0, 137, 123, 0.35);
}

.deals-scroll-wrapper {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary) var(--bg-subtle);
    margin: 0 calc(-1 * var(--space-4));
    padding: 0 var(--space-4);
}

.deals-scroll {
    display: flex;
    gap: var(--gap-sm); /* 10px - COMPACT */
    padding-bottom: var(--space-2);
}

.deals-scroll .deal-card {
    flex: 0 0 240px; /* COMPACT (was 320px) */
    max-width: 240px;
}

.deals-scroll-wrapper::-webkit-scrollbar {
    height: 6px;
}

.deals-scroll-wrapper::-webkit-scrollbar-track {
    background: var(--bg-subtle);
    border-radius: var(--radius-full);
}

.deals-scroll-wrapper::-webkit-scrollbar-thumb {
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
}

.no-deals-message {
    text-align: center;
    padding: var(--space-6);
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

/* 📱 MOBILE RESPONSIVE */
@media (max-width: 768px) {
    .hot-picks-container {
        padding: var(--space-3);
        /* Override inline styles on mobile */
        background-size: cover !important;
        background-position: center center !important;
    }
    
    .deals-scroll .deal-card {
        flex: 0 0 220px;
        max-width: 220px;
    }
}

/* 📱 EXTRA SMALL PHONES */
@media (max-width: 480px) {
    .hot-picks-container {
        padding: var(--space-2);
        background-size: 100% auto !important;
        background-position: top center !important;
    }
    
    .deals-scroll .deal-card {
        flex: 0 0 200px;
        max-width: 200px;
    }
}



/* =====================================================
   🏪 TOP STORES - Compact Grid (6 cols)
===================================================== */

.top-stores-section-premium {
    margin-bottom: var(--space-6);
}

.top-stores-container {
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
    padding: var(--space-4); /* COMPACT */
    box-shadow: var(--shadow-xs);
    border: 1px solid var(--border-light);
}

.section-header-premium {
    text-align: center;
    margin-bottom: var(--space-4); /* COMPACT */
}

.section-header-premium .section-icon {
    font-size: 40px; /* COMPACT (was 64px) */
    margin-bottom: var(--space-1);
    display: block;
}

.section-header-premium h2 {
    font-size: var(--font-h4); /* COMPACT (was h2) */
    margin: 0 0 var(--space-1);
    color: var(--text-primary);
    font-weight: var(--font-weight-bold);
}

.section-header-premium p {
    font-size: var(--font-size-sm); /* COMPACT */
    color: var(--text-secondary);
    margin: 0;
}

.stores-grid-cd {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: var(--gap-sm); /* 10px - COMPACT */
}

.store-item-cd {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: var(--space-2); /* 8px - COMPACT */
    background: var(--bg-page);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: var(--transition-all);
    min-height: 100px; /* COMPACT (was 140px) */
    justify-content: flex-start;
    position: relative;
    overflow: hidden;
    border: 1px solid var(--border-light);
}

.store-item-cd::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--gradient-primary);
    transform: scaleX(0);
    transition: var(--transition-transform);
}

.store-item-cd:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-primary);
}

.store-item-cd:hover::before {
    transform: scaleX(1);
}

.store-item-cd.store-featured {
    background: var(--color-primary-pale);
    border: 1px solid var(--color-primary);
}

.store-logo-cd {
    width: 44px; /* COMPACT (was 64px) */
    height: 44px;
    margin-bottom: var(--space-1);
    border-radius: var(--radius-sm);
    overflow: hidden;
    background: var(--bg-surface);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    padding: var(--space-1);
}

.store-logo-cd img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.store-logo-fallback {
    width: 44px;
    height: 44px;
    margin-bottom: var(--space-1);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-black);
    color: var(--text-inverse);
    flex-shrink: 0;
    background: var(--gradient-primary);
}

.store-name-cd {
    font-size: 11px; /* COMPACT (was 14px) */
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin-bottom: var(--space-1);
    line-height: 1.3;
    max-height: 2.6em;
    width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    word-break: break-word;
}

.store-cashback-cd {
    font-size: 9px; /* COMPACT (was 11px) */
    color: var(--color-success);
    font-weight: var(--font-weight-bold);
    display: flex;
    align-items: center;
    gap: 2px;
    white-space: nowrap;
    background: var(--color-success-bg);
    padding: 2px 6px;
    border-radius: var(--radius-full);
}

.store-item-cd.store-view-all {
    background: var(--gradient-primary);
    border: 1px solid var(--color-primary);
    justify-content: center;
    cursor: pointer;
}

.store-item-cd.store-view-all:hover {
    background: var(--color-primary-dark);
}

.view-all-text {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    color: var(--text-inverse);
}

@media (max-width: 1024px) {
    .stores-grid-cd {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (max-width: 768px) {
    .stores-grid-cd {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-1);
    }
    
    .store-item-cd {
        padding: var(--space-1);
        min-height: 90px;
    }
    
    .store-logo-cd,
    .store-logo-fallback {
        width: 40px;
        height: 40px;
    }
    
    .store-name-cd {
        font-size: 10px;
    }
    
    .store-cashback-cd {
        font-size: 8px;
    }
}
/* =====================================================
   📂 TOP OFFERS BY CATEGORY - Horizontal Carousel (Compact)
   ✅ Categories show on desktop & mobile
   ✅ Deals scroll horizontally 
   ✅ Production-ready with all fixes
===================================================== */

.top-offers-section-premium {
    margin-bottom: var(--space-6);
}

.top-offers-container {
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    box-shadow: var(--shadow-xs);
    border: 1px solid var(--border-light);
}

/* Section Header */
.section-header-premium {
    text-align: center;
    margin-bottom: var(--space-4);
}

.section-header-premium .section-icon {
    font-size: 36px;
    margin-bottom: var(--space-1);
    display: block;
}

.section-header-premium h2 {
    font-size: var(--font-h4);
    margin: 0 0 var(--space-1);
    color: var(--text-primary);
    font-weight: var(--font-weight-bold);
}

.section-header-premium p {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    margin: 0;
}

/* 🔥 MAKE GRID LAYOUT FULL WIDTH (No Sidebar) */
.categories-offers-grid {
    display: block !important;
    width: 100%;
}

/* 🔥 CATEGORIES SIDEBAR - FULL WIDTH & ALWAYS VISIBLE */
.trending-categories-sidebar {
    display: block !important;
    visibility: visible !important;
    width: 100%;
    background: transparent;
    border: none;
    padding: 0;
    margin-bottom: var(--space-4);
    overflow: visible;
}

/* Categories Header */
.sidebar-header-with-cta {
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-2);
    border-bottom: 2px solid var(--border-light);
}

.sidebar-title {
    font-size: var(--font-h4);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-1);
}

.sidebar-view-all {
    color: var(--text-inverse);
    background: var(--gradient-primary);
    padding: var(--space-1) var(--space-3);
    border-radius: var(--radius-full);
    text-decoration: none;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-bold);
    transition: var(--transition-all);
    box-shadow: 0 2px 6px rgba(0, 137, 123, 0.25);
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
}

.sidebar-view-all:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 10px rgba(0, 137, 123, 0.35);
}

/* 🔥 HORIZONTAL SCROLLING CATEGORIES */
.categories-list-vertical {
    display: flex !important;
    visibility: visible !important;
    overflow-x: auto;
    overflow-y: hidden;
    gap: var(--space-2);
    padding-bottom: var(--space-2);
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary) var(--bg-subtle);
}

.category-item-horizontal {
    flex: 0 0 auto;
    display: flex !important;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: var(--bg-page);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    transition: var(--transition-all);
    text-decoration: none;
    white-space: nowrap;
    min-width: 140px;
}

.category-item-horizontal:hover {
    background: var(--bg-subtle);
    border-color: var(--color-primary);
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
}

.category-icon-left {
    width: 28px;
    height: 28px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-subtle);
    border-radius: var(--radius-sm);
    padding: var(--space-1);
}

.category-emoji {
    font-size: 18px;
}

.category-name-right {
    flex: 1;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
    line-height: 1.3;
}

.category-arrow {
    color: var(--text-tertiary);
    font-size: var(--font-size-base);
    transition: var(--transition-all);
}

.category-item-horizontal:hover .category-arrow {
    color: var(--color-primary);
    transform: translateX(3px);
}

/* Scrollbar for categories */
.categories-list-vertical::-webkit-scrollbar {
    height: 6px;
}

.categories-list-vertical::-webkit-scrollbar-track {
    background: var(--bg-subtle);
    border-radius: var(--radius-full);
}

.categories-list-vertical::-webkit-scrollbar-thumb {
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
}

/* Offers Header */
.offers-grid-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-2);
    border-bottom: 2px solid var(--border-light);
}

.offers-grid-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0;
}

.offers-view-all {
    color: var(--text-inverse);
    background: var(--gradient-primary);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-full);
    text-decoration: none;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-bold);
    transition: var(--transition-all);
    box-shadow: 0 2px 4px rgba(0, 137, 123, 0.2);
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
}

.offers-view-all:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 8px rgba(0, 137, 123, 0.3);
}

/* 🔥 OFFERS WRAPPER - SCROLLABLE CONTAINER */
.offers-grid-wrapper {
    width: 100%;
    display: block !important;
    overflow-x: auto; /* 🔥 ENABLES HORIZONTAL SCROLL */
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary) var(--bg-subtle);
    margin: 0 calc(-1 * var(--space-4));
    padding: 0 var(--space-4) var(--space-2) var(--space-4);
}

/* Scrollbar for deals wrapper */
.offers-grid-wrapper::-webkit-scrollbar {
    height: 6px;
}

.offers-grid-wrapper::-webkit-scrollbar-track {
    background: var(--bg-subtle);
    border-radius: var(--radius-full);
}

.offers-grid-wrapper::-webkit-scrollbar-thumb {
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
}

/* 🎯 HORIZONTAL CAROUSEL FOR DEALS */
.offers-grid-3col {
    display: flex !important; /* Horizontal flex layout */
    gap: var(--gap-sm);
    flex-wrap: nowrap; /* 🔥 CRITICAL - Prevents wrapping */
}

/* Deal cards in carousel */
.offers-grid-3col .deal-card {
    flex: 0 0 240px; /* Fixed width - prevents shrinking */
    max-width: 240px;
}

/* Compact images */
.offers-grid-3col .deal-card-image {
    aspect-ratio: 4 / 3;
}

/* =====================================================
   📱 MOBILE RESPONSIVE - ALL FIXES INCLUDED
===================================================== */

@media (max-width: 768px) {
    .top-offers-container {
        padding: var(--space-3);
    }
    
    /* Compact header */
    .section-header-premium .section-icon {
        font-size: 32px;
    }
    
    .section-header-premium h2 {
        font-size: var(--font-size-lg);
    }
    
    .section-header-premium p {
        font-size: var(--font-size-xs);
    }
    
    /* 🔥 FORCE CATEGORIES TO SHOW ON MOBILE */
    .trending-categories-sidebar {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        height: auto !important;
    }
    
    .sidebar-header-with-cta {
        display: flex !important;
        visibility: visible !important;
    }
    
    .categories-list-vertical {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    /* Tighter category chips */
    .category-item-horizontal {
        min-width: 120px;
        padding: var(--space-1) var(--space-2);
        gap: var(--space-1);
        display: flex !important;
    }
    
    .category-icon-left {
        width: 24px;
        height: 24px;
    }
    
    .category-emoji {
        font-size: 16px;
    }
    
    .category-name-right {
        font-size: var(--font-size-xs);
    }
    
    /* Hide arrow on mobile */
    .category-arrow {
        display: none;
    }
    
    /* 🔥 MOBILE SCROLLABLE WRAPPER */
    .offers-grid-wrapper {
        margin: 0 calc(-1 * var(--space-3));
        padding: 0 var(--space-3) var(--space-2) var(--space-3);
    }
    
    /* Smaller deal cards */
    .offers-grid-3col .deal-card {
        flex: 0 0 220px;
        max-width: 220px;
    }
    
    /* Compact header */
    .offers-grid-header {
        flex-wrap: wrap;
        gap: var(--space-2);
    }
    
    .offers-grid-title {
        font-size: var(--font-size-base);
    }
}

/* 📱 SMALL PHONES */
@media (max-width: 480px) {
    .top-offers-container {
        padding: var(--space-2);
    }
    
    /* Even smaller chips */
    .category-item-horizontal {
        min-width: 110px;
        padding: 6px 10px;
    }
    
    .category-name-right {
        font-size: 11px;
    }
    
    /* 🔥 SMALL PHONE SCROLLABLE WRAPPER */
    .offers-grid-wrapper {
        margin: 0 calc(-1 * var(--space-2));
        padding: 0 var(--space-2) var(--space-2) var(--space-2);
    }
    
    /* Compact cards */
    .offers-grid-3col .deal-card {
        flex: 0 0 200px;
        max-width: 200px;
    }
}


/* =====================================================
   ⏰ LATEST DEALS - Compact Section
===================================================== */

.latest-deals-section-premium {
    margin-bottom: var(--space-6);
}

.latest-deals-container {
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    box-shadow: var(--shadow-xs);
    border: 1px solid var(--border-light);
}


/* =====================================================
   🎁 GIVEAWAYS - SMART RESPONSIVE LAYOUT
   1 card = Full width | 2 cards = Centered | 3+ = Grid
===================================================== */

.giveaways-section-premium {
    margin-bottom: var(--space-6);
}

.giveaways-grid {
    display: grid;
    gap: var(--gap-lg);
    margin-top: var(--space-4);
    justify-content: center; /* CRITICAL: Center the grid */
}

/* DEFAULT: 3+ giveaways = 3 columns */
.giveaways-grid {
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    max-width: 100%;
}

/* SMART LAYOUT: Adjust based on child count */

/* 1 Giveaway = Full Width (centered, max-width 500px) */
.giveaways-grid:has(.giveaway-card:first-child:last-child) {
    grid-template-columns: 1fr;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
}

/* 2 Giveaways = Centered side-by-side */
.giveaways-grid:has(.giveaway-card:first-child:nth-last-child(2)) {
    grid-template-columns: repeat(2, minmax(240px, 320px));
    justify-content: center;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}

/* 3 Giveaways = Full width grid */
.giveaways-grid:has(.giveaway-card:first-child:nth-last-child(3)) {
    grid-template-columns: repeat(3, 1fr);
    max-width: 100%;
}

/* 4+ Giveaways = Responsive grid (2 cols, then 3, then 4) */
.giveaways-grid:has(.giveaway-card:first-child:nth-last-child(n+4)) {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    max-width: 100%;
}

/* Giveaway Card */
.giveaway-card {
    border-radius: var(--radius-lg);
    overflow: hidden;
    color: var(--text-inverse);
    box-shadow: var(--shadow-md);
    transition: var(--transition-all);
    display: grid;
    grid-template-columns: 1fr 1fr;
    min-height: 140px;
    width: 100%; /* CRITICAL: Fill available space */
}

.giveaway-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.giveaway-card-content {
    padding: var(--space-3);
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.giveaway-card-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-2);
    color: var(--text-inverse);
}

.giveaway-prize,
.giveaway-deadline {
    font-size: var(--font-size-xs);
    margin-bottom: var(--space-1);
    opacity: 0.95;
}

.giveaway-participate-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);
    margin-top: var(--space-2);
    padding: var(--space-1) var(--space-3);
    background: rgba(255, 255, 255, 0.25);
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: var(--radius-full);
    color: var(--text-inverse);
    text-decoration: none;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-bold);
    backdrop-filter: blur(10px);
    transition: var(--transition-all);
}

.giveaway-participate-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    transform: translateY(-1px);
}

.giveaway-card-image img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* 🔥 Shows full image within box */
    transition: var(--transition-transform);
}


.giveaway-card:hover .giveaway-card-image img {
    transform: scale(1.08);
}


/* =====================================================
   📱 MOBILE RESPONSIVE - Giveaways
===================================================== */

@media (max-width: 768px) {
    /* Mobile: Always stack vertically */
    .giveaways-grid,
    .giveaways-grid:has(.giveaway-card:first-child:nth-last-child(2)),
    .giveaways-grid:has(.giveaway-card:first-child:nth-last-child(3)),
    .giveaways-grid:has(.giveaway-card:first-child:nth-last-child(n+4)) {
        grid-template-columns: 1fr !important;
        max-width: 100% !important;
    }
    
    .giveaway-card {
        grid-template-columns: 1fr;
        min-height: 120px;
    }
}

@media (min-width: 769px) and (max-width: 1024px) {
    /* Tablet: 2 columns for 3+ cards */
    .giveaways-grid:has(.giveaway-card:first-child:nth-last-child(3)),
    .giveaways-grid:has(.giveaway-card:first-child:nth-last-child(n+4)) {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}


/* =====================================================
   🎨 FALLBACK: If :has() not supported (older browsers)
===================================================== */

@supports not selector(:has(*)) {
    /* Fallback: Use JavaScript or default 2-column layout */
    .giveaways-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        justify-content: center;
    }
}
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\css\layout.css === 
/**
 * Layout System - Structure & Positioning
 * 🏗️ 100% Mobile-First Responsive Design
 * 
 * EXPERT PHILOSOPHY:
 * - Mobile-first (320px → 1920px+)
 * - Touch-friendly (44px minimum tap targets)
 * - Accessible (WCAG 2.1 AA compliant)
 * - Performance optimized (will-change, contain)
 * - Zero hardcoded values (variables only)
 * - Semantic HTML structure
 * 
 * @package ARRZONE
 * @version 8.0 PRODUCTION - EXPERT EDITION
 * @architect Senior UI/UX Architect
 */


/* =====================================================
   📦 CONTAINER SYSTEM - Mobile-First Fluid
   320px → 480px → 768px → 1024px → 1280px → 1400px
===================================================== */

.container {
    width: 100%;
    max-width: var(--container-max); /* 1400px */
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding-mobile); /* 12px mobile */
    padding-right: var(--container-padding-mobile);
}

/* Tablet and up: More breathing room */
@media (min-width: 768px) {
    .container {
        padding-left: var(--container-padding); /* 16px */
        padding-right: var(--container-padding);
    }
}

/* Desktop: Maximum content width */
@media (min-width: 1024px) {
    .container {
        padding-left: var(--space-6); /* 24px */
        padding-right: var(--space-6);
    }
}

/* Narrow container variant */
.container-narrow {
    max-width: var(--container-narrow); /* 900px */
}

/* Wide container variant */
.container-wide {
    max-width: var(--container-wide); /* 1600px */
}

/* Fluid container (no max-width) */
.container-fluid {
    max-width: none;
}


/* =====================================================
   📱 ANNOUNCEMENT BAR - Dismissible Top Banner
===================================================== */

.announcement-bar {
    background: var(--color-secondary);
    color: var(--text-inverse);
    text-align: center;
    padding: var(--space-2) var(--space-3); /* 8px 12px */
    font-size: var(--font-size-sm); /* 13px */
    font-weight: var(--font-weight-medium);
    position: relative;
    z-index: var(--z-sticky);
    line-height: var(--line-height-snug); /* 1.375 */
}

.announcement-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2); /* 8px */
    position: relative;
    max-width: var(--container-max);
    margin: 0 auto;
    padding: 0 var(--space-10); /* Space for close button */
}

.announcement-link {
    color: var(--text-inverse);
    text-decoration: underline;
    font-weight: var(--font-weight-semibold);
    transition: var(--transition-opacity);
}

.announcement-link:hover {
    opacity: 0.85;
}

.announcement-close {
    position: absolute;
    right: var(--space-3); /* 12px */
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    color: var(--text-inverse);
    cursor: pointer;
    padding: var(--space-2); /* 8px - touch-friendly */
    line-height: 1;
    transition: var(--transition-all);
    border-radius: var(--radius-sm);
    min-width: 32px; /* Touch target */
    min-height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.announcement-close:hover {
    background: rgba(255, 255, 255, 0.2);
}

.announcement-close:focus {
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
}

/* Mobile: Smaller text */
@media (max-width: 480px) {
    .announcement-bar {
        font-size: var(--font-size-xs); /* 11px */
        padding: var(--space-2); /* 8px */
    }
    
    .announcement-content {
        padding: 0 var(--space-8); /* Less space for close */
    }
}


/* =====================================================
   🎯 TOP BAR - Optional Info Bar
===================================================== */

.site-topbar {
    background: var(--bg-subtle);
    border-bottom: 1px solid var(--border-light);
    padding: var(--space-2) 0; /* 8px */
    font-size: var(--font-size-xs); /* 11px */
}

.topbar-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: var(--space-3); /* 12px */
}

.topbar-left,
.topbar-right {
    display: flex;
    align-items: center;
    gap: var(--space-4); /* 16px */
    flex-wrap: wrap;
}

.topbar-message {
    color: var(--text-secondary);
    line-height: var(--line-height-snug);
}

.topbar-item {
    display: flex;
    align-items: center;
    gap: var(--space-1); /* 4px */
    color: var(--text-secondary);
    text-decoration: none;
    transition: var(--transition-colors);
    padding: var(--space-1) var(--space-2); /* Touch-friendly */
    border-radius: var(--radius-sm);
    min-height: 28px; /* Minimum tap target */
}

.topbar-item:hover {
    color: var(--color-primary);
    background: var(--bg-surface-hover);
}

.topbar-item:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

.topbar-item svg {
    flex-shrink: 0;
    width: 14px;
    height: 14px;
}

/* Mobile: Hide topbar for cleaner header */
@media (max-width: 768px) {
    .site-topbar {
        display: none;
    }
}


/* =====================================================
   🎯 SITE HEADER - Sticky Navigation
   Mobile-first: Logo + Toggle → Desktop: Logo + Search + Nav
===================================================== */

.site-header {
    background: var(--bg-surface);
    border-bottom: 1px solid var(--border-light);
    position: sticky;
    top: 0;
    z-index: var(--z-sticky);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
    transition: var(--transition-shadow);
    will-change: box-shadow; /* Performance optimization */
}

.site-header.scrolled {
    box-shadow: var(--shadow-md);
}

/* Header Wrapper - Mobile: 2 columns, Desktop: 3 columns */
.header-wrapper {
    display: grid;
    grid-template-columns: auto 1fr; /* Mobile: Logo + Toggle */
    align-items: center;
    gap: var(--space-3); /* 12px */
    padding-top: var(--space-3); /* 12px */
    padding-bottom: var(--space-3);
    min-height: var(--header-height-mobile); /* 60px mobile */
}

@media (min-width: 768px) {
    .header-wrapper {
        grid-template-columns: auto 1fr auto; /* Desktop: Logo + Search + Actions */
        gap: var(--space-6); /* 24px */
        min-height: var(--header-height); /* 70px desktop */
        padding-top: var(--space-4); /* 16px */
        padding-bottom: var(--space-4);
    }
}


/* =====================================================
   🏷️ SITE LOGO - Prominent Branding
===================================================== */

.site-logo {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    gap: var(--space-2); /* 8px */
}

.site-logo a {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    text-decoration: none;
    color: var(--text-primary);
    font-size: var(--font-h3); /* Mobile: ~20px */
    font-weight: var(--font-weight-bold);
    transition: var(--transition-transform);
    line-height: 1;
}

@media (min-width: 768px) {
    .site-logo a {
        font-size: var(--font-h2); /* Desktop: ~28px */
    }
}

.site-logo a:hover {
    transform: scale(1.03);
    color: var(--color-primary);
}

.site-logo a:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 4px;
    border-radius: var(--radius-sm);
}

.logo-icon {
    font-size: 28px; /* Mobile */
    line-height: 1;
    flex-shrink: 0;
}

@media (min-width: 768px) {
    .logo-icon {
        font-size: 36px; /* Desktop */
    }
}

.site-logo img {
    height: 40px; /* Mobile */
    width: auto;
}

@media (min-width: 768px) {
    .site-logo img {
        height: 50px; /* Desktop */
    }
}


/* =====================================================
   🔍 HEADER SEARCH - Mobile Hidden, Desktop Prominent
===================================================== */

.header-search {
    display: none; /* Hidden on mobile */
}

@media (min-width: 768px) {
    .header-search {
        display: block;
        max-width: 500px;
        width: 100%;
        margin: 0 auto;
    }
}

@media (min-width: 1024px) {
    .header-search {
        max-width: 600px;
    }
}

.search-toggle {
    display: none; /* Not needed with mobile menu */
}

.search-form {
    display: flex;
    align-items: stretch; /* Full height buttons */
    background: var(--bg-subtle);
    border: 2px solid var(--border-light);
    border-radius: var(--radius-full);
    overflow: hidden;
    transition: var(--transition-all);
    position: relative;
}

.search-form:focus-within {
    border-color: var(--color-primary);
    background: var(--bg-surface);
    box-shadow: var(--shadow-focus);
}

.search-form input[type="search"] {
    flex: 1;
    padding: var(--space-3) var(--space-4); /* 12px 16px */
    border: none;
    background: transparent;
    font-size: var(--font-size-base); /* 15px */
    color: var(--text-primary);
    outline: none;
    min-width: 0; /* Prevent flex overflow */
}

.search-form input[type="search"]::placeholder {
    color: var(--text-tertiary);
}

.search-form button {
    padding: var(--space-3) var(--space-5); /* 12px 20px */
    background: var(--color-primary);
    color: var(--text-inverse);
    border: none;
    cursor: pointer;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    transition: var(--transition-all);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    white-space: nowrap;
    min-width: 44px; /* Touch target */
}

.search-form button:hover {
    background: var(--color-primary-hover);
}

.search-form button:focus {
    outline: 2px solid var(--color-primary-dark);
    outline-offset: -2px;
}

.search-form button svg {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
}


/* =====================================================
   🎯 HEADER ACTIONS - Navigation + CTA
===================================================== */

.header-actions {
    display: flex;
    align-items: center;
    gap: var(--space-2); /* 8px mobile */
    flex-shrink: 0;
    margin-left: auto; /* Push to right on mobile */
}

@media (min-width: 768px) {
    .header-actions {
        gap: var(--space-3); /* 12px desktop */
    }
}


/* =====================================================
   📱 PRIMARY NAVIGATION - Desktop Horizontal Menu
===================================================== */

.primary-nav {
    display: none; /* Hidden on mobile */
}

@media (min-width: 768px) {
    .primary-nav {
        display: flex;
        align-items: center;
    }
}

.primary-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-1); /* 4px between items */
}

.primary-nav li {
    position: relative;
}

.primary-nav a {
    display: flex;
    align-items: center;
    gap: var(--space-1); /* 4px */
    padding: var(--space-2) var(--space-3); /* 8px 12px */
    color: var(--text-primary);
    text-decoration: none;
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-base); /* 15px */
    border-radius: var(--radius-md);
    transition: var(--transition-all);
    white-space: nowrap;
    line-height: var(--line-height-snug);
    min-height: 40px; /* Touch-friendly */
}

.primary-nav a:hover {
    background: var(--bg-subtle);
    color: var(--color-primary);
}

.primary-nav a:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

.primary-nav .current-menu-item > a {
    color: var(--color-primary);
    background: var(--color-primary-pale);
    font-weight: var(--font-weight-semibold);
}

/* Dropdown indicator */
.menu-item-has-children > a::after {
    content: '▾';
    margin-left: 2px;
    font-size: 10px;
    opacity: 0.7;
    transition: var(--transition-transform);
}

.menu-item-has-children:hover > a::after,
.menu-item-has-children:focus-within > a::after {
    transform: rotate(180deg);
}

/* Dropdown Menu */
.primary-nav .sub-menu {
    position: absolute;
    top: calc(100% + var(--space-2));
    left: 0;
    min-width: 220px;
    background: var(--bg-surface);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-8px);
    transition: var(--transition-all);
    z-index: var(--z-dropdown);
    padding: var(--space-2);
}

.menu-item-has-children:hover > .sub-menu,
.menu-item-has-children:focus-within > .sub-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.primary-nav .sub-menu li {
    display: block;
}

.primary-nav .sub-menu a {
    display: block;
    width: 100%;
    padding: var(--space-3); /* 12px */
}


/* =====================================================
   🎯 HEADER CTA BUTTON - Prominent Action
===================================================== */

.header-cta {
    padding: var(--space-2) var(--space-3); /* Mobile: 8px 12px */
    background: var(--color-success);
    color: var(--text-inverse);
    border-radius: var(--radius-full);
    text-decoration: none;
    font-size: var(--font-size-xs); /* Mobile: 11px */
    font-weight: var(--font-weight-bold);
    transition: var(--transition-all);
    white-space: nowrap;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);
    line-height: 1;
    min-height: 36px; /* Touch-friendly */
}

@media (min-width: 768px) {
    .header-cta {
        padding: var(--space-3) var(--space-5); /* Desktop: 12px 20px */
        font-size: var(--font-size-sm); /* Desktop: 13px */
        min-height: 40px;
    }
}

.header-cta:hover {
    background: var(--color-success-light);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(46, 125, 50, 0.25);
}

.header-cta:focus {
    outline: 2px solid var(--color-success);
    outline-offset: 2px;
}

.header-cta:active {
    transform: translateY(0);
}


/* =====================================================
   🍔 MOBILE MENU TOGGLE - Hamburger Button
===================================================== */

.mobile-menu-toggle {
    display: flex; /* Visible on mobile */
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 5px;
    background: transparent;
    border: none;
    padding: var(--space-2); /* 8px */
    cursor: pointer;
    color: var(--text-primary);
    transition: var(--transition-all);
    border-radius: var(--radius-sm);
    min-width: 44px; /* Touch target */
    min-height: 44px;
}

@media (min-width: 768px) {
    .mobile-menu-toggle {
        display: none; /* Hidden on desktop */
    }
}

.mobile-menu-toggle:hover {
    background: var(--bg-subtle);
}

.mobile-menu-toggle:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

.mobile-menu-toggle span {
    width: 22px;
    height: 2px;
    background: currentColor;
    border-radius: 2px;
    transition: var(--transition-all);
}

/* Hamburger to X animation */
.mobile-menu-toggle.active span:nth-child(1) {
    transform: rotate(45deg) translateY(7px);
}

.mobile-menu-toggle.active span:nth-child(2) {
    opacity: 0;
}

.mobile-menu-toggle.active span:nth-child(3) {
    transform: rotate(-45deg) translateY(-7px);
}


/* =====================================================
   📱 MOBILE MENU - Slide-in Sidebar
===================================================== */

.mobile-menu {
    position: fixed;
    top: 0;
    right: -100%; /* Hidden by default */
    width: 320px;
    max-width: 85vw;
    height: 100vh;
    background: var(--bg-surface);
    box-shadow: var(--shadow-xl);
    z-index: var(--z-modal);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch; /* Smooth iOS scrolling */
    transition: right var(--duration-normal) var(--ease-out);
    will-change: transform; /* Performance optimization */
}

.mobile-menu.active {
    right: 0;
}

.mobile-menu-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-4); /* 16px */
    border-bottom: 1px solid var(--border-light);
    position: sticky;
    top: 0;
    background: var(--bg-surface);
    z-index: 1;
}

.mobile-menu-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    margin: 0;
}

.mobile-menu-close {
    background: transparent;
    border: none;
    padding: var(--space-2); /* 8px */
    cursor: pointer;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    min-width: 40px; /* Touch target */
    min-height: 40px;
    transition: var(--transition-all);
}

.mobile-menu-close:hover {
    background: var(--bg-subtle);
}

.mobile-menu-close:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

.mobile-menu-content {
    padding: var(--space-4); /* 16px */
}

/* Mobile Search */
.mobile-search {
    margin-bottom: var(--space-5); /* 20px */
}

.mobile-search form {
    position: relative;
}

.mobile-search input[type="search"] {
    width: 100%;
    padding: var(--space-3); /* 12px */
    padding-right: var(--space-12); /* Space for button */
    border: 2px solid var(--border-input);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-base);
    transition: var(--transition-all);
}

.mobile-search input[type="search"]:focus {
    border-color: var(--color-primary);
    outline: none;
    box-shadow: var(--shadow-focus);
}

.mobile-search button {
    position: absolute;
    right: var(--space-2);
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    padding: var(--space-2);
    color: var(--text-secondary);
    cursor: pointer;
    min-width: 40px;
    min-height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
}

.mobile-search button:hover {
    background: var(--bg-subtle);
    color: var(--color-primary);
}

/* Mobile Navigation */
.mobile-nav {
    margin-bottom: var(--space-5);
}

.mobile-menu-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.mobile-menu-list li {
    border-bottom: 1px solid var(--border-light);
}

.mobile-menu-list li:last-child {
    border-bottom: none;
}

.mobile-menu-list a {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4) 0; /* 16px vertical */
    color: var(--text-primary);
    text-decoration: none;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    transition: var(--transition-colors);
    min-height: 48px; /* Touch-friendly */
}

.mobile-menu-list a:hover {
    color: var(--color-primary);
}

/* Mobile Categories & Deal Types */
.mobile-categories,
.mobile-deal-types {
    margin-bottom: var(--space-5);
}

.mobile-categories h3,
.mobile-deal-types h3 {
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-bold);
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: var(--letter-spacing-wider);
    margin-bottom: var(--space-3);
}

.mobile-categories ul,
.mobile-deal-types ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.mobile-categories li,
.mobile-deal-types li {
    margin-bottom: var(--space-2);
}

.mobile-categories a,
.mobile-deal-types a {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3);
    color: var(--text-primary);
    text-decoration: none;
    font-size: var(--font-size-sm);
    border-radius: var(--radius-md);
    transition: var(--transition-all);
    min-height: 44px; /* Touch target */
}

.mobile-categories a:hover,
.mobile-deal-types a:hover {
    background: var(--bg-subtle);
    color: var(--color-primary);
}

.category-icon {
    font-size: var(--font-size-xl);
    flex-shrink: 0;
    line-height: 1;
}

.category-count {
    margin-left: auto;
    font-size: var(--font-size-xs);
    color: var(--text-tertiary);
    padding: 2px 8px;
    background: var(--bg-subtle);
    border-radius: var(--radius-full);
    font-weight: var(--font-weight-semibold);
    min-width: 24px;
    text-align: center;
}

/* Menu Overlay */
.menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: var(--bg-overlay);
    z-index: calc(var(--z-modal) - 1);
    opacity: 0;
    visibility: hidden;
    transition: var(--transition-opacity);
    backdrop-filter: blur(2px); /* Modern blur effect */
}

.menu-overlay.active {
    opacity: 1;
    visibility: visible;
}


/* =====================================================
   📧 NEWSLETTER SECTION - Email Capture
===================================================== */

.newsletter-section {
    background: var(--gradient-primary);
    padding: var(--space-10) 0; /* 40px */
    margin-bottom: var(--space-8); /* 32px */
    position: relative;
    overflow: hidden;
}

/* Decorative pattern */
.newsletter-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.3;
    pointer-events: none;
}

.newsletter-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-5); /* 20px */
    text-align: center;
    position: relative;
    z-index: 1;
}

.newsletter-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-3); /* 12px */
}

.newsletter-icon {
    font-size: var(--font-size-3xl); /* 28px */
    line-height: 1;
    filter: drop-shadow(0 2px 8px rgba(0,0,0,0.2));
}

.newsletter-text {
    max-width: 600px;
}

.newsletter-title {
    font-size: var(--font-h3); /* ~22px */
    font-weight: var(--font-weight-bold);
    color: var(--text-inverse);
    margin-bottom: var(--space-2);
    line-height: var(--line-height-tight);
}

.newsletter-description {
    font-size: var(--font-size-base); /* 15px */
    color: rgba(255, 255, 255, 0.9);
    margin: 0;
    line-height: var(--line-height-relaxed);
}

.newsletter-form {
    display: flex;
    gap: var(--space-2); /* 8px */
    width: 100%;
    max-width: 500px;
}

@media (max-width: 480px) {
    .newsletter-form {
        flex-direction: column;
    }
}

.newsletter-input {
    flex: 1;
    padding: var(--space-3) var(--space-4); /* 12px 16px */
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-sm);
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-inverse);
    transition: var(--transition-all);
    min-height: 48px; /* Touch-friendly */
}

.newsletter-input::placeholder {
    color: rgba(255, 255, 255, 0.6);
}

.newsletter-input:focus {
    outline: none;
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.6);
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.newsletter-btn {
    padding: var(--space-3) var(--space-6); /* 12px 24px */
    background: var(--text-inverse);
    color: var(--color-primary);
    border: none;
    border-radius: var(--radius-lg);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    cursor: pointer;
    transition: var(--transition-all);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    white-space: nowrap;
    min-height: 48px; /* Touch-friendly */
}

@media (max-width: 480px) {
    .newsletter-btn {
        width: 100%;
    }
}

.newsletter-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}

.newsletter-btn:focus {
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
}

.newsletter-btn:active {
    transform: translateY(0);
}

.newsletter-message {
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    margin-top: var(--space-3);
}

.newsletter-message.success {
    background: var(--color-success-bg);
    color: var(--color-success);
}

.newsletter-message.error {
    background: var(--color-error-bg);
    color: var(--color-error);
}

.newsletter-privacy {
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.8);
    margin-top: var(--space-2);
    line-height: var(--line-height-relaxed);
}

@media (max-width: 768px) {
    .newsletter-section {
        padding: var(--space-8) 0; /* 32px */
    }
}


/* =====================================================
   👣 SITE FOOTER - Information Architecture
===================================================== */

.site-footer {
    background: var(--text-primary);
    color: var(--text-inverse);
    padding-top: var(--space-10); /* 40px */
}

.footer-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--gap-xl); /* 24px */
    margin-bottom: var(--space-8); /* 32px */
}

@media (max-width: 768px) {
    .footer-content {
        grid-template-columns: 1fr;
        gap: var(--space-6);
    }
}

/* Footer Sections */
.footer-section {
    display: flex;
    flex-direction: column;
}

.footer-section h3,
.footer-section h4 {
    color: var(--text-inverse);
    margin-bottom: var(--space-4);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: var(--letter-spacing-wide);
}

.footer-about .footer-logo {
    margin-bottom: var(--space-3);
}

.footer-brand {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-inverse);
    margin-bottom: var(--space-3);
}

.footer-description {
    color: rgba(255, 255, 255, 0.7);
    font-size: var(--font-size-sm);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--space-4);
}

/* Footer Social */
.footer-social {
    display: flex;
    gap: var(--space-2);
    flex-wrap: wrap;
}

.footer-social a {
    width: 40px; /* Touch-friendly */
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-circle);
    color: var(--text-inverse);
    text-decoration: none;
    transition: var(--transition-all);
    font-size: 18px;
}

.footer-social a:hover {
    background: var(--color-primary);
    transform: translateY(-2px);
}

.footer-social a:focus {
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
}

/* Footer Menu */
.footer-menu {
    list-style: none;
    padding: 0;
    margin: 0;
}

.footer-menu li {
    margin-bottom: var(--space-2);
}

.footer-menu a {
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    transition: var(--transition-colors);
    font-size: var(--font-size-sm);
    display: inline-block;
    padding: var(--space-1) 0;
    line-height: var(--line-height-relaxed);
}

.footer-menu a:hover {
    color: var(--text-inverse);
    padding-left: var(--space-1);
}

.footer-menu a:focus {
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
}

/* Footer Bottom */
.footer-bottom {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding: var(--space-5) 0; /* 20px */
}

.footer-bottom-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: var(--space-4);
}

@media (max-width: 768px) {
    .footer-bottom-content {
        flex-direction: column;
        text-align: center;
    }
}

.copyright {
    color: rgba(255, 255, 255, 0.6);
    font-size: var(--font-size-xs);
    margin: 0;
    line-height: var(--line-height-relaxed);
}

.footer-payment-methods {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.6);
    flex-wrap: wrap;
}

.footer-payment-methods svg {
    flex-shrink: 0;
    width: 32px;
    height: 20px;
    opacity: 0.7;
}


/* =====================================================
   ♿ ACCESSIBILITY ENHANCEMENTS
===================================================== */

/* Skip to main content link */
.skip-to-content {
    position: absolute;
    top: -100%;
    left: 0;
    background: var(--color-primary);
    color: var(--text-inverse);
    padding: var(--space-3) var(--space-4);
    border-radius: var(--radius-md);
    font-weight: var(--font-weight-semibold);
    z-index: var(--z-max);
    transition: var(--transition-all);
}

.skip-to-content:focus {
    top: var(--space-2);
    outline: 2px solid var(--text-inverse);
    outline-offset: 2px;
}

/* Focus visible for keyboard navigation */
:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


/* =====================================================
   🖨️ PRINT STYLES
===================================================== */

@media print {
    .site-topbar,
    .announcement-bar,
    .mobile-menu-toggle,
    .header-cta,
    .newsletter-section,
    .footer-social,
    .menu-overlay {
        display: none !important;
    }
    
    .site-header {
        position: relative !important;
        box-shadow: none !important;
    }
}


/* END OF LAYOUT.CSS - PRODUCTION READY ✅ */
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\css\page.css === 
/**
 * Page Styles - Archive, Single & Template Pages
 * 🏆 ULTIMATE PRODUCTION - World-Class UI/UX
 * 
 * DESIGN PHILOSOPHY:
 * - Mobile-first responsive (320px → 1920px+)
 * - Touch-friendly interactions (44px minimum)
 * - Modern hero sections with glassmorphism
 * - Professional archive layouts
 * - Complete filter system (horizontal + sidebar)
 * - Single deal page with sticky sidebar
 * - Accessibility first (WCAG 2.1 AA)
 * 
 * @package ARRZONE
 * @version 10.0 PRODUCTION - COMPLETE
 * @architect World-Class UI/UX Expert
 */

/* =====================================================
   🎯 CAMPAIGN HERO SECTION - Modern Design with Background
===================================================== */

.campaign-hero-section {
    padding: var(--space-16) 0;
    margin-bottom: var(--space-12);
    position: relative;
    overflow: hidden;
    min-height: 400px;
    display: flex;
    align-items: center;
    
    /* 🔥 DEFAULT GRADIENT (if no custom banner/color) */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    
    /* Enable inline background from PHP */
    background-size: cover;
    background-position: center;
}

.hero-bg-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    z-index: 1;
}

.hero-bg-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.5));
}

.campaign-hero-content {
    position: relative;
    z-index: 2;
    color: var(--text-inverse);
    max-width: 800px;
}

.campaign-status-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-full);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-4);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-md);
}

.campaign-status-badge.campaign-active {
    background: rgba(46, 125, 50, 0.9);
    color: white;
}

.campaign-status-badge.campaign-upcoming {
    background: rgba(245, 124, 0, 0.9);
    color: white;
}

.campaign-status-badge.campaign-expired {
    background: rgba(198, 40, 40, 0.9);
    color: white;
}

.campaign-header {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    margin-bottom: var(--space-4);
}

.campaign-icon-large {
    font-size: 80px;
    line-height: 1;
    filter: drop-shadow(0 4px 12px rgba(0,0,0,0.3));
}

.campaign-hero-title {
    font-size: var(--font-h1);
    font-weight: var(--font-weight-black);
    color: var(--text-inverse);
    line-height: var(--line-height-tight);
    margin: 0;
    text-shadow: 0 2px 12px rgba(0,0,0,0.3);
}

.campaign-tagline {
    font-size: var(--font-size-xl);
    color: var(--text-inverse);
    opacity: 0.95;
    margin-bottom: var(--space-5);
    line-height: var(--line-height-relaxed);
}

.campaign-description {
    font-size: var(--font-size-base);
    color: var(--text-inverse);
    opacity: 0.9;
    margin-bottom: var(--space-6);
    line-height: var(--line-height-relaxed);
    max-width: 700px;
}

.campaign-hero-meta {
    display: flex;
    align-items: center;
    gap: var(--space-6);
    flex-wrap: wrap;
}

.hero-stat {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-5);
    background: rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-lg);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.hero-stat svg {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
}

.hero-stat strong {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-inverse);
}

.campaign-dates {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    font-size: var(--font-size-sm);
    color: var(--text-inverse);
}

/* 📱 MOBILE RESPONSIVE */
@media (max-width: 768px) {
    .campaign-hero-section {
        min-height: 300px;
        padding: var(--space-10) 0;
    }
    
    .campaign-header {
        flex-direction: column;
        gap: var(--space-3);
        text-align: center;
    }
    
    .campaign-icon-large {
        font-size: 60px;
    }
    
    .campaign-hero-title {
        font-size: var(--font-h3);
    }
    
    .campaign-tagline {
        font-size: var(--font-size-lg);
    }
    
    .campaign-hero-meta {
        gap: var(--space-3);
        justify-content: center;
    }
    
    .hero-stat {
        padding: var(--space-2) var(--space-3);
    }
}


/* =====================================================
   🏪 STORE HERO SECTION - Banner Visible, Contained
===================================================== */

/* BASE (Mobile 320px+) */
.store-hero-section {
    padding: var(--space-8) 0;
    margin: 0 auto var(--space-6);
    position: relative;
    overflow: hidden;
    min-height: 240px;
    display: flex;
    align-items: center;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: var(--radius-xl);
    max-width: calc(100% - var(--space-4));
}

.store-hero-section .hero-bg-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 1;
    z-index: 1;
}

.store-hero-section .container {
    position: relative;
    z-index: 2;
}

.store-hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    color: var(--text-inverse);
}

.store-logo-hero {
    width: 130px;
    height: 65px;
    margin: 0 auto var(--space-2);
    background: rgba(255, 255, 255, 0.98);
    border-radius: var(--radius-xl);
    padding: var(--space-2);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
}

.store-logo-hero img {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    object-fit: contain;
}

.store-hero-title {
    font-size: 1.375rem;
    font-weight: var(--font-weight-black);
    color: white;
    margin-bottom: var(--space-2);
    text-shadow: 0 3px 12px rgba(0,0,0,0.8);
    padding: 0 var(--space-2);
}

.store-hero-description {
    font-size: 0.875rem;
    color: white;
    max-width: 600px;
    margin: 0 auto var(--space-3);
    line-height: 1.5;
    padding: 0 var(--space-3);
    text-shadow: 0 2px 8px rgba(0,0,0,0.6);
}

.store-hero-meta {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    flex-wrap: wrap;
    padding: 0 var(--space-2);
}

.store-hero-meta .hero-stat {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-2) var(--space-3);
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-full);
    color: white;
    font-weight: 700;
    font-size: 0.813rem;
    border: 1px solid rgba(255, 255, 255, 0.4);
    text-shadow: 0 1px 4px rgba(0,0,0,0.5);
}

.store-hero-meta .hero-stat svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));
}

.hero-cashback {
    background: rgba(76, 175, 80, 0.35);
    border: 1px solid rgba(129, 199, 132, 0.6);
}

.hero-store-link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-2) var(--space-4);
    background: white;
    color: var(--color-primary);
    border-radius: var(--radius-full);
    text-decoration: none;
    font-weight: 700;
    font-size: 0.813rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
    min-height: 36px;
}

.hero-store-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.35);
}

.hero-store-link svg {
    width: 14px;
    height: 14px;
}

/* 📱 TABLET (768px+) */
@media (min-width: 768px) {
    .store-hero-section {
        min-height: 280px;
        padding: var(--space-10) 0;
        margin-bottom: var(--space-8);
        max-width: 1400px;
        border-radius: var(--radius-2xl);
    }
    
    .store-logo-hero {
        width: 160px;
        height: 80px;
        padding: var(--space-3);
        margin-bottom: var(--space-3);
    }
    
    .store-hero-title {
        font-size: 2rem;
        margin-bottom: var(--space-3);
    }
    
    .store-hero-description {
        font-size: 1rem;
        margin-bottom: var(--space-4);
    }
    
    .store-hero-meta {
        gap: var(--space-3);
    }
    
    .store-hero-meta .hero-stat {
        padding: var(--space-2) var(--space-4);
        font-size: 0.938rem;
    }
    
    .hero-store-link {
        padding: var(--space-3) var(--space-5);
        font-size: 0.938rem;
        min-height: 44px;
    }
    
    .hero-store-link svg {
        width: 16px;
        height: 16px;
    }
}

/* 🖥️ DESKTOP (1024px+) */
@media (min-width: 1024px) {
    .store-hero-section {
        min-height: 320px;
        padding: var(--space-12) 0;
    }
    
    .store-logo-hero {
        width: 180px;
        height: 90px;
        padding: var(--space-4);
        margin-bottom: var(--space-4);
    }
    
    .store-hero-title {
        font-size: 2.5rem;
    }
    
    .store-hero-description {
        font-size: 1.125rem;
    }
    
    .store-hero-meta {
        gap: var(--space-4);
    }
    
    .store-hero-meta .hero-stat {
        font-size: 1rem;
        padding: var(--space-3) var(--space-5);
    }
    
    .store-hero-meta .hero-stat svg {
        width: 18px;
        height: 18px;
    }
    
    .hero-store-link {
        padding: var(--space-3) var(--space-6);
        font-size: 1rem;
        min-height: 48px;
    }
    
    .hero-store-link svg {
        width: 18px;
        height: 18px;
    }
}

/* 🖥️ LARGE (1280px+) */
@media (min-width: 1280px) {
    .store-hero-section {
        min-height: 360px;
        padding: var(--space-14) 0;
    }
    
    .store-logo-hero {
        width: 200px;
        height: 100px;
    }
    
    .store-hero-title {
        font-size: 3rem;
    }
    
    .store-hero-description {
        font-size: 1.25rem;
    }
}


/* =====================================================
   📂 CATEGORY HERO SECTION - Icon-Based Design
===================================================== */

.category-hero-section {
    padding: var(--space-16) 0;
    margin-bottom: var(--space-12);
    position: relative;
    overflow: hidden;
    min-height: 400px;
    display: flex;
    align-items: center;
    
    /* 🔥 DEFAULT FALLBACK GRADIENT (if no custom color) */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    
    /* 🔥 Enable background properties for inline styles */
    background-size: cover;
    background-position: center;
}

/* Background overlay for better text readability */
.category-hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.1));
    z-index: 1;
}

.category-hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    color: var(--text-inverse);
}

.category-icon-hero {
    width: 120px;
    height: 120px;
    margin: 0 auto var(--space-5);
    background: rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-2xl);
    padding: var(--space-4);
    backdrop-filter: blur(10px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
    border: 2px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
}

.category-icon-hero img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.category-emoji-hero {
    font-size: 100px;
    line-height: 1;
    margin-bottom: var(--space-5);
    filter: drop-shadow(0 4px 12px rgba(0,0,0,0.3));
}

.category-hero-title {
    font-size: var(--font-h1);
    font-weight: var(--font-weight-black);
    color: var(--text-inverse);
    margin-bottom: var(--space-4);
    text-shadow: 0 2px 12px rgba(0,0,0,0.3);
}

.category-hero-description {
    font-size: var(--font-size-lg);
    color: var(--text-inverse);
    max-width: 700px;
    margin: 0 auto var(--space-6);
    opacity: 0.95;
    line-height: var(--line-height-relaxed);
}

.category-hero-stats {
    display: flex;
    justify-content: center;
    gap: var(--space-5);
    flex-wrap: wrap;
}

.hero-stat-box {
    background: rgba(255, 255, 255, 0.15);
    padding: var(--space-5) var(--space-6);
    border-radius: var(--radius-xl);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    text-align: center;
    min-width: 140px;
}

.hero-stat-box strong {
    display: block;
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-black);
    color: var(--text-inverse);
    margin-bottom: var(--space-2);
    line-height: 1;
}

.hero-stat-box span {
    font-size: var(--font-size-sm);
    color: var(--text-inverse);
    opacity: 0.9;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* =====================================================
   📱 MOBILE RESPONSIVE - Force Background Display
===================================================== */

@media (max-width: 768px) {
    .category-hero-section {
        min-height: 300px;
        padding: var(--space-10) 0;
        
        /* 🔥 FORCE background to show on mobile */
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
        background-size: cover !important;
        background-position: center !important;
    }
    
    .category-hero-content {
        padding: 0 var(--space-4);
    }
    
    .category-icon-hero {
        width: 80px;
        height: 80px;
        margin-bottom: var(--space-4);
        padding: var(--space-3);
    }
    
    .category-emoji-hero {
        font-size: 60px;
        margin-bottom: var(--space-4);
    }
    
    .category-hero-title {
        font-size: var(--font-h3);
        margin-bottom: var(--space-3);
    }
    
    .category-hero-description {
        font-size: var(--font-size-base);
        margin-bottom: var(--space-5);
    }
    
    .category-hero-stats {
        gap: var(--space-3);
    }
    
    .hero-stat-box {
        padding: var(--space-3) var(--space-4);
        min-width: 110px;
    }
    
    .hero-stat-box strong {
        font-size: var(--font-size-2xl);
        margin-bottom: var(--space-1);
    }
    
    .hero-stat-box span {
        font-size: var(--font-size-xs);
    }
}

/* Small phones */
@media (max-width: 480px) {
    .category-hero-section {
        min-height: 250px;
        padding: var(--space-8) 0;
    }
    
    .category-icon-hero {
        width: 60px;
        height: 60px;
        padding: var(--space-2);
    }
    
    .category-emoji-hero {
        font-size: 50px;
    }
    
    .category-hero-title {
        font-size: var(--font-h4);
    }
    
    .category-hero-description {
        font-size: var(--font-size-sm);
    }
    
    .hero-stat-box {
        padding: var(--space-2) var(--space-3);
        min-width: 90px;
    }
}


/* =====================================================
   🏷️ DEAL TYPE HERO SECTION
===================================================== */

.dealtype-hero-section {
    padding: var(--space-16) 0;
    margin-bottom: var(--space-12);
    position: relative;
    overflow: hidden;
    min-height: 400px;
    display: flex;
    align-items: center;
}

.dealtype-hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    color: var(--text-inverse);
}

.dealtype-icon-hero {
    width: 120px;
    height: 120px;
    margin: 0 auto var(--space-5);
    background: rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-2xl);
    padding: var(--space-4);
    backdrop-filter: blur(10px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
    border: 2px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
}

.dealtype-icon-hero img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.dealtype-emoji-hero {
    font-size: 100px;
    line-height: 1;
    margin-bottom: var(--space-5);
    filter: drop-shadow(0 4px 12px rgba(0,0,0,0.3));
}

.dealtype-hero-title {
    font-size: var(--font-h1);
    font-weight: var(--font-weight-black);
    color: var(--text-inverse);
    margin-bottom: var(--space-4);
    text-shadow: 0 2px 12px rgba(0,0,0,0.3);
}

.dealtype-hero-description {
    font-size: var(--font-size-lg);
    color: var(--text-inverse);
    max-width: 700px;
    margin: 0 auto var(--space-6);
    opacity: 0.95;
    line-height: var(--line-height-relaxed);
}

.dealtype-hero-stats {
    display: flex;
    justify-content: center;
    gap: var(--space-5);
    flex-wrap: wrap;
}


/* =====================================================
   📐 ARCHIVE LAYOUT - Sidebar + Content Grid
===================================================== */

.archive-deals {
    padding: var(--space-8) 0;
    margin-bottom: var(--space-12);
}

.archive-breadcrumb {
    margin-bottom: var(--space-6);
}

.archive-layout {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: var(--gap-2xl);
    align-items: start;
}

.archive-sidebar {
    position: sticky;
    top: calc(var(--header-height) + var(--space-6));
    max-height: calc(100vh - var(--header-height) - var(--space-12));
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--border-medium) var(--bg-subtle);
}

.archive-sidebar::-webkit-scrollbar {
    width: 6px;
}

.archive-sidebar::-webkit-scrollbar-track {
    background: var(--bg-subtle);
}

.archive-sidebar::-webkit-scrollbar-thumb {
    background: var(--border-medium);
    border-radius: var(--radius-full);
}

.archive-content {
    min-height: 500px;
}

/* Mobile sidebar */
@media (max-width: 1024px) {
    .archive-layout {
        grid-template-columns: 1fr;
    }
    
    .archive-sidebar {
        position: fixed;
        top: 0;
        left: -100%;
        width: 90%;
        max-width: 360px;
        height: 100vh;
        background: var(--bg-surface);
        box-shadow: var(--shadow-xl);
        z-index: var(--z-modal);
        overflow-y: auto;
        padding: var(--space-6);
        transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        max-height: none;
    }
    
    /* ✅ FIXED: Now supports both .active AND .mobile-open */
    .archive-sidebar.active,
    .archive-sidebar.mobile-open {
        left: 0;
    }
}

/* ===================================================== 
   📱 ADD THIS NEW SECTION BELOW 👇
   ===================================================== */

/* Mobile Filter Toggle Button */
.mobile-filter-toggle-btn {
    display: none;
    position: fixed;
    bottom: var(--space-6);
    right: var(--space-4);
    background: var(--color-primary);
    color: var(--text-inverse);
    border: none;
    border-radius: var(--radius-full);
    padding: var(--space-3) var(--space-5);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    box-shadow: var(--shadow-lg);
    cursor: pointer;
    z-index: calc(var(--z-sticky) - 1);
    align-items: center;
    gap: var(--space-2);
    transition: var(--transition-all);
    min-height: 48px;
    line-height: 1;
}

@media (max-width: 1024px) {
    .mobile-filter-toggle-btn {
        display: flex;
    }
}

@media (min-width: 1025px) {
    .mobile-filter-toggle-btn {
        display: none !important;
    }
}

.mobile-filter-toggle-btn:hover {
    background: var(--color-primary-hover);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}

.mobile-filter-toggle-btn:active {
    transform: translateY(0);
}

.mobile-filter-toggle-btn svg {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
}

body.filter-sidebar-open .mobile-filter-toggle-btn {
    opacity: 0;
    pointer-events: none;
}

/* Sidebar overlay */
@media (max-width: 1024px) {
    body.filter-sidebar-open::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        z-index: calc(var(--z-modal) - 1);
        animation: fadeIn 0.3s ease;
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}



/* =====================================================
   📄 ARCHIVE HEADER - Title + Count
===================================================== */

.archive-header-simple {
    margin-bottom: var(--space-6);
    padding-bottom: var(--space-5);
    border-bottom: 2px solid var(--border-light);
}

.archive-title {
    font-size: var(--font-h2);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0 0 var(--space-2);
    line-height: var(--line-height-tight);
}

.archive-count {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    font-weight: var(--font-weight-medium);
}


/* =====================================================
   📄 DEALS GRID - ULTRA COMPACT (50-60% Smaller)
===================================================== */

/* Base: 200px cards (was 300px) */
.deals-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* 🔥 33% smaller! */
    gap: var(--gap-md); /* 🔥 Smaller gaps (was gap-xl) */
    margin-bottom: var(--space-10);
}

/* Large Desktop (1440px+): 220px cards */
@media (min-width: 1440px) {
    .deals-grid {
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); /* 🔥 Was 320px! */
        gap: var(--gap-md);
    }
}

/* Desktop (1200px-1440px): 200px cards */
@media (min-width: 1200px) and (max-width: 1439px) {
    .deals-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: var(--gap-md);
    }
}

/* Tablet (768px-1024px): 180px cards */
@media (max-width: 1024px) and (min-width: 769px) {
    .deals-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: var(--gap-sm);
    }
}

/* Mobile (481px-768px): 2 columns fixed */
@media (max-width: 768px) and (min-width: 481px) {
    .deals-grid {
        grid-template-columns: repeat(2, 1fr); /* 🔥 2 cards side-by-side! */
        gap: var(--gap-sm);
    }
}

/* Small Phones (up to 480px): 2 columns tight */
@media (max-width: 480px) {
    .deals-grid {
        grid-template-columns: repeat(2, 1fr); /* 🔥 Still 2 columns! */
        gap: 10px; /* 🔥 Tight spacing */
    }
}

/* Very Small Phones (up to 360px): 2 columns ultra-tight */
@media (max-width: 360px) {
    .deals-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
    }
}

/* =====================================================
   🎨 FEATURED DEALS SECTION - Horizontal Scroll
===================================================== */

.featured-deals-section {
    margin-bottom: var(--space-12);
    padding: var(--space-10) 0;
    background: linear-gradient(to bottom, var(--bg-page), var(--bg-subtle));
}

.section-header-inline {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-6);
    flex-wrap: wrap;
    gap: var(--space-3);
}

.section-header-inline h2 {
    font-size: var(--font-h2);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0;
}

.see-more {
    color: var(--color-primary);
    text-decoration: none;
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-base);
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-full);
    background: var(--color-primary-pale);
    transition: var(--transition-all);
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
}

.see-more:hover {
    background: var(--color-primary);
    color: var(--text-inverse);
    transform: translateX(4px);
}

.deals-scroll-wrapper {
    overflow: hidden;
    position: relative;
    margin: 0 calc(-1 * var(--container-padding));
    padding: 0 var(--container-padding);
}

.deals-scroll {
    display: flex;
    gap: var(--gap-xl);
    overflow-x: auto;
    scroll-behavior: smooth;
    padding-bottom: var(--space-5);
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: var(--border-medium) var(--bg-subtle);
}

.deals-scroll::-webkit-scrollbar {
    height: 8px;
}

.deals-scroll::-webkit-scrollbar-track {
    background: var(--bg-subtle);
    border-radius: var(--radius-full);
}

.deals-scroll::-webkit-scrollbar-thumb {
    background: var(--border-medium);
    border-radius: var(--radius-full);
}

.deals-scroll::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
}

.deals-scroll > * {
    flex: 0 0 320px;
}

@media (max-width: 768px) {
    .deals-scroll > * {
        flex: 0 0 280px;
    }
}


/* =====================================================
   🔍 BROWSE SECTIONS - Compact Mobile-First
===================================================== */

.browse-section {
    margin-top: var(--space-8);
    margin-bottom: var(--space-8);
    padding: var(--space-6) 0;
}

.browse-section .section-header {
    margin-bottom: var(--space-5);
    text-align: center;
}

.browse-section .section-header h2 {
    font-size: 1.5rem;
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0 0 var(--space-2);
}

.browse-section .section-header p {
    font-size: var(--font-size-base);
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
}

/* Mobile: 3 columns */
.browse-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-3);
}

.browse-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: var(--space-3);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    text-decoration: none;
    transition: var(--transition-all);
    border: 1px solid var(--border-light);
    position: relative;
}

.browse-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--gradient-primary);
    transform: scaleX(0);
    transform-origin: left;
    transition: var(--transition-transform);
}

.browse-card:hover {
    border-color: var(--color-primary);
    transform: translateY(-3px);
    box-shadow: var(--shadow-md);
}

.browse-card:hover::before {
    transform: scaleX(1);
}

/* Small icons */
.browse-icon {
    width: 48px;
    height: 48px;
    margin-bottom: var(--space-2);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-lg);
    background: var(--bg-subtle);
    transition: var(--transition-transform);
}

.browse-card:hover .browse-icon {
    transform: scale(1.1);
}

.browse-icon img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.browse-emoji {
    font-size: 32px;
    line-height: 1;
}

.browse-store-logo {
    width: 56px;
    height: 56px;
    margin-bottom: var(--space-2);
    border-radius: var(--radius-md);
    overflow: hidden;
    background: white;
    padding: var(--space-1);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
}

.browse-store-logo img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.browse-store-fallback {
    width: 56px;
    height: 56px;
    margin-bottom: var(--space-2);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.125rem;
    font-weight: var(--font-weight-bold);
    color: white;
    background: var(--gradient-primary);
    border-radius: var(--radius-md);
}

.browse-name {
    font-size: 0.813rem;
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin-bottom: var(--space-1);
    line-height: 1.2;
}

.browse-count {
    font-size: 0.688rem;
    color: var(--text-secondary);
}

.browse-meta {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-top: var(--space-1);
}

.browse-cashback {
    font-size: 0.688rem;
    color: var(--color-success);
    font-weight: var(--font-weight-semibold);
}

/* 📱 TABLET (600px+) */
@media (min-width: 600px) {
    .browse-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--space-4);
    }
    
    .browse-card {
        padding: var(--space-4);
    }
    
    .browse-icon {
        width: 56px;
        height: 56px;
        margin-bottom: var(--space-3);
    }
    
    .browse-emoji {
        font-size: 36px;
    }
    
    .browse-store-logo,
    .browse-store-fallback {
        width: 64px;
        height: 64px;
    }
    
    .browse-name {
        font-size: 0.875rem;
    }
    
    .browse-count {
        font-size: 0.75rem;
    }
}

/* 💻 DESKTOP (1024px+) */
@media (min-width: 1024px) {
    .browse-section {
        margin-top: var(--space-10);
        margin-bottom: var(--space-10);
        padding: var(--space-8) 0;
    }
    
    .browse-grid {
        grid-template-columns: repeat(6, 1fr);
        gap: var(--space-5);
    }
    
    .browse-card {
        padding: var(--space-5);
    }
    
    .browse-icon {
        width: 64px;
        height: 64px;
    }
    
    .browse-emoji {
        font-size: 40px;
    }
    
    .browse-store-logo,
    .browse-store-fallback {
        width: 72px;
        height: 72px;
    }
    
    .browse-name {
        font-size: 0.938rem;
    }
    
    .browse-count {
        font-size: 0.813rem;
    }
}

/* 🖥️ LARGE (1280px+) */
@media (min-width: 1280px) {
    .browse-icon {
        width: 72px;
        height: 72px;
    }
    
    .browse-store-logo,
    .browse-store-fallback {
        width: 80px;
        height: 80px;
    }
    
    .browse-name {
        font-size: 1rem;
    }
}



/* =====================================================
   🔍 NO DEALS MESSAGE - Empty State
===================================================== */

.no-deals-message {
    text-align: center;
    padding: var(--space-16) var(--space-8);
    background: var(--bg-surface);
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-sm);
    margin: var(--space-8) 0;
}

.no-deals-message svg {
    width: 120px;
    height: 120px;
    margin-bottom: var(--space-6);
    color: var(--text-tertiary);
    opacity: 0.5;
}

.no-deals-message h3 {
    font-size: var(--font-h3);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin-bottom: var(--space-3);
}

.no-deals-message p {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    margin-bottom: var(--space-6);
    line-height: var(--line-height-relaxed);
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
}


/* =====================================================
   📖 PAGINATION - Compact Horizontal
===================================================== */

.archive-pagination {
    margin-top: var(--space-8);
    margin-bottom: var(--space-6);
}

.pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-1);
    flex-wrap: wrap;
}

.pagination .page-numbers {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 36px;
    height: 36px;
    padding: 0 var(--space-2);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    text-decoration: none;
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-sm);
    transition: var(--transition-all);
}

.pagination a.page-numbers:hover {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
    transform: translateY(-1px);
}

.pagination .page-numbers.current {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
    box-shadow: var(--shadow-sm);
}

.pagination .page-numbers.dots {
    border: none;
    pointer-events: none;
    color: var(--text-tertiary);
    min-width: 24px;
}

/* Prev/Next with icons */
.pagination .page-numbers.prev,
.pagination .page-numbers.next {
    padding: 0 var(--space-3);
}

/* 📱 MOBILE */
@media (max-width: 480px) {
    .archive-pagination {
        margin-top: var(--space-6);
    }
    
    .pagination {
        gap: 4px;
    }
    
    .pagination .page-numbers {
        min-width: 32px;
        height: 32px;
        font-size: 12px;
    }
    
    .pagination .page-numbers.prev,
    .pagination .page-numbers.next {
        padding: 0 var(--space-2);
        font-size: 11px;
    }
}



/* =====================================================
   🍞 BREADCRUMBS - Horizontal Navigation Trail (Always)
===================================================== */

.breadcrumbs,
.archive-breadcrumb {
    display: flex !important; /* 🔥 Always horizontal */
    align-items: center;
    gap: var(--space-1);
    flex-wrap: nowrap; /* 🔥 Keep on one line */
    overflow-x: auto; /* 🔥 Scroll if too long */
    overflow-y: hidden;
    margin-bottom: var(--space-4);
    font-size: var(--font-size-sm);
    padding: var(--space-2) var(--space-3);
    background: var(--bg-subtle);
    border-radius: var(--radius-md);
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Hide scrollbar */
}

/* Hide scrollbar */
.breadcrumbs::-webkit-scrollbar,
.archive-breadcrumb::-webkit-scrollbar {
    display: none;
}

.breadcrumb-item {
    display: inline-flex !important;
    align-items: center;
    gap: var(--space-1);
    flex-shrink: 0; /* 🔥 Don't shrink items */
}

.breadcrumb-item a {
    color: var(--text-secondary);
    text-decoration: none;
    transition: var(--transition-colors);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    white-space: nowrap; /* 🔥 Keep text on one line */
}

.breadcrumb-item a:hover {
    color: var(--color-primary);
    background: var(--bg-surface-hover);
}

.breadcrumb-item.active {
    color: var(--text-primary);
    font-weight: var(--font-weight-semibold);
    white-space: nowrap;
}

.breadcrumb-separator {
    color: var(--text-tertiary);
    font-size: 12px;
    display: inline-block;
    padding: 0 2px;
    flex-shrink: 0; /* 🔥 Keep separators visible */
}

/* 📱 MOBILE - Compact but All Items Visible */
@media (max-width: 768px) {
    .breadcrumbs,
    .archive-breadcrumb {
        padding: var(--space-1) var(--space-2);
        font-size: var(--font-size-xs);
        gap: 2px;
        margin-bottom: var(--space-3);
    }
    
    .breadcrumb-item a {
        padding: 2px 4px;
        font-size: 11px;
    }
    
    .breadcrumb-item.active {
        font-size: 11px;
    }
    
    .breadcrumb-separator {
        font-size: 10px;
        padding: 0 1px;
    }
}

/* Very small phones - Even more compact */
@media (max-width: 480px) {
    .breadcrumbs,
    .archive-breadcrumb {
        padding: 6px 8px;
        font-size: 10px;
    }
    
    .breadcrumb-item a,
    .breadcrumb-item.active {
        font-size: 10px;
        padding: 1px 3px;
    }
}
/* =====================================================
   🎯 SINGLE DEAL PAGE - PERFECT LAYOUT
   Desktop: 2 columns | Mobile: Simple stack
===================================================== */

.single-deal-page {
    padding: var(--space-8) 0;
}

.deal-breadcrumb-simple {
    margin-bottom: var(--space-6);
}

/* =====================================================
   DESKTOP: TWO COLUMN LAYOUT
===================================================== */

.single-deal-grid {
    display: grid;
    grid-template-columns: 1fr 400px;
    gap: var(--space-8);
    margin-bottom: var(--space-10);
}

/* LEFT COLUMN */
.deal-left-column {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
}

/* Featured Image */
.deal-featured-image {
    position: relative;
    border-radius: var(--radius-xl);
    overflow: hidden;
    background: var(--bg-subtle);
    box-shadow: var(--shadow-lg);
}

.deal-main-image {
    width: 100%;
    height: auto;
    display: block;
}

.deal-no-image {
    aspect-ratio: 16/9;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    color: var(--text-tertiary);
    gap: var(--space-4);
}

.deal-no-image svg {
    width: 80px;
    height: 80px;
    opacity: 0.4;
}

.deal-discount-badge {
    position: absolute;
    top: 16px;
    left: 16px;
    background: linear-gradient(135deg, #ff3d00 0%, #ff6b35 100%);
    color: white;
    padding: 10px 18px;
    border-radius: var(--radius-full);
    font-size: 18px;
    font-weight: var(--font-weight-black);
    z-index: 2;
}

.deal-expired-badge {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.92);
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 10;
}

.deal-expired-badge svg {
    width: 48px;
    height: 48px;
    margin-bottom: var(--space-3);
}

.deal-expired-badge p {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    margin: 0;
}

/* Description Section */
.deal-description-section {
    background: var(--bg-surface);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
}

/* Terms Section */
.deal-terms-section {
    background: var(--bg-surface);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
}

.section-title {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin-bottom: var(--space-4);
    padding-bottom: var(--space-3);
    border-bottom: 2px solid var(--border-light);
}

.section-title svg {
    color: var(--color-primary);
    width: 24px;
    height: 24px;
}

.deal-content,
.terms-content {
    line-height: 1.8;
    color: var(--text-primary);
    font-size: var(--font-size-base);
}

.terms-content {
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
}

.terms-content ul {
    padding-left: 20px;
    margin: 12px 0;
}

.terms-content li {
    margin-bottom: 8px;
}

/* Share Section - Horizontal */
.deal-social-share {
    background: var(--bg-surface);
    border-radius: var(--radius-xl);
    padding: var(--space-5);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
}

.share-title {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    color: var(--text-secondary);
    margin-bottom: var(--space-3);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Force horizontal share buttons */
.deal-social-share > *:not(.share-title) {
    display: flex !important;
    flex-direction: row !important;
    gap: 12px !important;
    flex-wrap: wrap !important;
}

.deal-social-share a {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    border: 2px solid var(--border-medium);
    background: white;
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

/* RIGHT SIDEBAR */
.deal-right-sidebar {
    position: sticky;
    top: calc(var(--header-height) + 20px);
    display: flex;
    flex-direction: column;
    gap: var(--space-5);
    align-self: flex-start;
}

/* =====================================================
   🏪 DEAL STORE BADGE - Premium Store Info Card
===================================================== */

.deal-store-badge {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-4);
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border: 2px solid var(--border-light);
    border-radius: var(--radius-xl);
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
    transition: all 0.3s;
}

.deal-store-badge:hover {
    border-color: var(--color-primary);
    box-shadow: 0 4px 16px rgba(0, 137, 123, 0.15);
    transform: translateY(-2px);
}

.store-logo {
    width: 56px;
    height: 56px;
    border-radius: var(--radius-lg);
    padding: 8px;
    background: white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    flex-shrink: 0;
}

.store-logo img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.store-info {
    flex: 1;
    min-width: 0;
}

.store-label {
    display: block;
    font-size: 11px;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: var(--font-weight-semibold);
    margin-bottom: 4px;
}

.store-name {
    font-size: 18px;
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0 0 6px;
    line-height: 1.2;
}

.store-cashback {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 10px;
    background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
    color: #15803d;
    border-radius: var(--radius-full);
    font-size: 12px;
    font-weight: var(--font-weight-bold);
}

.store-cashback svg {
    width: 12px;
    height: 12px;
}

/* =====================================================
   📌 DEAL TITLE - Prominent Heading
===================================================== */

.deal-title {
    font-size: 26px;
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    line-height: 1.3;
    margin: 0 0 var(--space-5);
    padding-bottom: var(--space-4);
    border-bottom: 2px solid var(--border-light);
}

/* =====================================================
   💰 DEAL PRICE SECTION - Premium Gradient Card
===================================================== */

.deal-price-section {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border: 2px solid #bbf7d0;
    border-radius: var(--radius-xl);
    padding: var(--space-5);
    box-shadow: 0 4px 16px rgba(34, 197, 94, 0.15);
    position: relative;
    overflow: hidden;
}

.deal-price-section::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, transparent 70%);
    animation: shimmer 3s ease-in-out infinite;
}

@keyframes shimmer {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(180deg); }
}

.price-main {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: baseline;
    gap: var(--space-1);
    margin-bottom: var(--space-3);
}

.currency {
    font-size: 24px;
    font-weight: var(--font-weight-bold);
    color: #15803d;
}

.price-main .currency + * {
    font-size: 42px;
    font-weight: var(--font-weight-black);
    color: #15803d;
    line-height: 1;
}

.price-comparison {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex-wrap: wrap;
}

.price-old {
    font-size: 18px;
    color: #6b7280;
    text-decoration: line-through;
    opacity: 0.7;
}

.price-save {
    display: inline-flex;
    align-items: center;
    padding: 6px 14px;
    background: #15803d;
    color: white;
    border-radius: var(--radius-full);
    font-size: 14px;
    font-weight: var(--font-weight-bold);
    box-shadow: 0 2px 8px rgba(21, 128, 61, 0.3);
}

/* =====================================================
   ⏰ COUNTDOWN TIMER - Horizontal Premium Design
===================================================== */

.deal-countdown {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 2px solid #fbbf24;
    border-radius: var(--radius-xl);
    padding: var(--space-4);
    box-shadow: 0 4px 16px rgba(251, 191, 36, 0.2);
}

.countdown-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    font-size: 13px;
    color: #92400e;
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: var(--space-3);
}

.countdown-label svg {
    width: 16px;
    height: 16px;
}

.countdown-timer {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
}

.countdown-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-width: 60px;
    padding: var(--space-2);
    background: white;
    border-radius: var(--radius-lg);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.countdown-value {
    font-size: 24px;
    font-weight: var(--font-weight-black);
    color: #92400e;
    line-height: 1;
    margin-bottom: 4px;
}

.countdown-unit {
    font-size: 10px;
    color: #78350f;
    text-transform: uppercase;
    font-weight: var(--font-weight-semibold);
    letter-spacing: 0.5px;
}

.countdown-separator {
    font-size: 20px;
    font-weight: var(--font-weight-bold);
    color: #92400e;
    line-height: 1;
}

/* =====================================================
   🎫 DEAL COUPON BOX - Eye-Catching Premium Design
===================================================== */

.deal-coupon-box {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    border: 3px dashed #3b82f6;
    border-radius: var(--radius-xl);
    padding: var(--space-5);
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.2);
    position: relative;
    overflow: hidden;
}

.deal-coupon-box::after {
    content: '🎟️';
    position: absolute;
    top: -20px;
    right: -20px;
    font-size: 120px;
    opacity: 0.1;
    transform: rotate(15deg);
}

.coupon-label {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: 13px;
    color: #1e40af;
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: var(--space-3);
}

.coupon-label svg {
    width: 16px;
    height: 16px;
}

.coupon-code-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    gap: var(--space-2);
    background: white;
    padding: 16px 20px;
    border-radius: var(--radius-lg);
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
}

.coupon-code-text {
    flex: 1;
    font-size: 26px;
    font-weight: var(--font-weight-black);
    color: #1e40af;
    font-family: 'Courier New', monospace;
    letter-spacing: 3px;
    text-align: center;
}

.copy-coupon-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 16px;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: var(--font-weight-bold);
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
}

.copy-coupon-btn:hover {
    background: #2563eb;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

.copy-icon {
    width: 16px;
    height: 16px;
}

/* =====================================================
   🎯 CTA BUTTON - Prominent Deal Button
===================================================== */

.btn-deal-cta {
    width: 100%;
    padding: 18px;
    background: var(--gradient-primary);
    color: white;
    border: none;
    border-radius: var(--radius-xl);
    font-size: 18px;
    font-weight: var(--font-weight-bold);
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 6px 20px rgba(0, 137, 123, 0.3);
    min-height: 56px;
}

.btn-deal-cta:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 24px rgba(0, 137, 123, 0.4);
}

.btn-deal-cta svg {
    width: 20px;
    height: 20px;
}

.btn-disabled {
    background: linear-gradient(135deg, #9ca3af 0%, #6b7280 100%);
    cursor: not-allowed;
    opacity: 0.6;
}

.btn-disabled:hover {
    transform: none;
    box-shadow: none;
}

/* =====================================================
   🏷️ DEAL META INFO - Premium Tags
===================================================== */

.deal-meta-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    padding: var(--space-5);
    background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%);
    border-radius: var(--radius-xl);
    border: 1px solid var(--border-light);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    background: white;
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-light);
    transition: all 0.2s;
}

.meta-item:hover {
    border-color: var(--color-primary);
    box-shadow: 0 2px 8px rgba(0, 137, 123, 0.1);
}

.meta-label {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    color: var(--text-tertiary);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    flex-shrink: 0;
}

.meta-label svg {
    width: 14px;
    height: 14px;
    color: var(--color-primary);
}

.meta-value {
    font-size: 14px;
    color: var(--text-primary);
    font-weight: var(--font-weight-semibold);
}

.meta-value a {
    color: var(--color-primary);
    text-decoration: none;
    transition: color 0.2s;
}

.meta-value a:hover {
    color: var(--color-primary-dark);
    text-decoration: underline;
}

/* =====================================================
   📱 MOBILE RESPONSIVE FOR ALL SIDEBAR SECTIONS
===================================================== */

@media (max-width: 768px) {
    .deal-store-badge {
        padding: var(--space-3);
    }
    
    .store-logo {
        width: 48px;
        height: 48px;
    }
    
    .store-name {
        font-size: 16px;
    }
    
    .deal-title {
        font-size: 22px;
    }
    
    .deal-price-section {
        padding: var(--space-4);
    }
    
    .price-main .currency + * {
        font-size: 32px;
    }
    
    .price-old {
        font-size: 16px;
    }
    
    .price-save {
        font-size: 13px;
        padding: 5px 12px;
    }
    
    .deal-countdown {
        padding: var(--space-3);
    }
    
    .countdown-item {
        min-width: 50px;
        padding: var(--space-1);
    }
    
    .countdown-value {
        font-size: 20px;
    }
    
    .countdown-unit {
        font-size: 9px;
    }
    
    .countdown-separator {
        font-size: 16px;
    }
    
    .deal-coupon-box {
        padding: var(--space-4);
    }
    
    .coupon-code-text {
        font-size: 22px;
        letter-spacing: 2px;
    }
    
    .copy-coupon-btn {
        padding: 8px 14px;
        font-size: 13px;
    }
    
    .btn-deal-cta {
        padding: 16px;
        font-size: 16px;
        min-height: 52px;
    }
    
    .deal-meta-info {
        padding: var(--space-4);
    }
    
    .meta-item {
        padding: var(--space-2);
    }
    
    .meta-label {
        font-size: 11px;
    }
    
    .meta-value {
        font-size: 13px;
    }
}

@media (max-width: 480px) {
    .countdown-timer {
        gap: 4px;
    }
    
    .countdown-item {
        min-width: 45px;
    }
    
    .countdown-value {
        font-size: 18px;
    }
    
    .coupon-code-wrapper {
        flex-direction: column;
        text-align: center;
    }
    
    .copy-coupon-btn {
        width: 100%;
    }
}


/* Related Deals */
.related-deals-section,
.store-deals-section {
    margin-top: var(--space-12);
    padding-top: var(--space-10);
    border-top: 2px solid var(--border-light);
}

.section-title-main {
    font-size: 28px;
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin-bottom: var(--space-6);
}

.related-deals-grid,
.store-deals-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
}

/* =====================================================
   📱 MOBILE RESPONSIVE - PRODUCTION READY
===================================================== */

@media (max-width: 768px) {
    .single-deal-page {
        padding: 0 0 var(--space-6);
    }
    
    .single-deal-grid {
        display: flex !important;
        flex-direction: column !important;
        gap: 0;
    }
    
    .deal-featured-image {
        order: 1;
        border-radius: 0;
        margin-bottom: var(--space-5);
        margin-left: calc(-1 * var(--container-padding));
        margin-right: calc(-1 * var(--container-padding));
        width: calc(100% + 2 * var(--container-padding));
    }
    
    .deal-left-column {
        display: flex !important;
        flex-direction: column !important;
    }
    
    .deal-description-section {
        order: 2;
        padding: var(--space-4);
        margin-bottom: var(--space-4);
    }
    
    .deal-right-sidebar {
        order: 3;
        position: static;
        padding: 0 var(--space-4);
        gap: var(--space-4);
        margin-bottom: var(--space-4);
    }
    
    .deal-terms-section {
        order: 4;
        padding: var(--space-4);
        margin-bottom: var(--space-4);
    }
    
    .deal-social-share {
        order: 5;
        padding: var(--space-4);
        margin-bottom: var(--space-4);
    }
    
    .section-title {
        font-size: var(--font-size-lg);
    }
    
    .deal-social-share > *:not(.share-title) {
        display: flex !important;
        flex-direction: row !important;
        gap: 10px !important;
    }
    
    .deal-social-share a {
        width: 44px !important;
        height: 44px !important;
    }
    
    .related-deals-section,
    .store-deals-section {
        margin-top: var(--space-10);
        padding-top: var(--space-8);
    }
    
    .related-deals-grid,
    .store-deals-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }
}

@media (max-width: 480px) {
    .deal-description-section,
    .deal-terms-section,
    .deal-social-share {
        padding: var(--space-3);
    }
    
    .deal-right-sidebar {
        padding: 0 var(--space-3);
    }
    
    .deal-social-share a {
        width: 40px !important;
        height: 40px !important;
    }
}



/* =====================================================
   ♿ ACCESSIBILITY ENHANCEMENTS
===================================================== */

@media (prefers-reduced-motion: reduce) {
    .browse-card,
    .pagination a,
    .filter-chip,
    .deals-scroll {
        transition: none;
    }
}


/* END OF PAGE.CSS - PRODUCTION COMPLETE ✅ */

echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\css\variables.css === 
/**
 * ARR ZONE Design System - CSS Variables v7.0 PRODUCTION
 * 🏆 World-Class Design Token System
 * 
 * PHILOSOPHY:
 * - Compact density with maximum readability (CouponDunia-inspired)
 * - Accessible color contrast (WCAG AA compliant)
 * - Semantic naming for maintainability
 * - Mobile-first responsive approach
 * - Performance optimized (reduced shadows, faster transitions)
 * 
 * @package ARRZONE
 * @version 7.0 PRODUCTION
 * @designer World-Class UI/UX Architect
 */

:root {
    /* =====================================================
       🎨 BRAND COLORS - Primary Identity
       Enhanced for better contrast and vibrancy
    ===================================================== */
    
    /* Primary (Teal) - Trust & Action */
    --color-primary: #00897B;              /* Main teal - WCAG AA compliant */
    --color-primary-hover: #00695C;        /* Hover state - darker for accessibility */
    --color-primary-active: #004D40;       /* Active state - maximum contrast */
    --color-primary-light: #4DB6AC;        /* Light teal - accents */
    --color-primary-pale: #E0F2F1;         /* Very light - backgrounds */
    --color-primary-dark: #00796B;         /* NEW: Dark variant for better contrast */
    
    /* Secondary (Coral/Orange) - Urgency & Sales */
    --color-secondary: #FF6F61;            /* Hot deals - eye-catching */
    --color-secondary-hover: #E64A19;      /* Hover state */
    --color-secondary-active: #D84315;     /* Active state */
    --color-secondary-light: #FFAB91;      /* Light variant */
    --color-secondary-pale: #FFE0DD;       /* Very light backgrounds */
    --color-secondary-dark: #FF5252;       /* NEW: Darker variant */
    
    /* Accent (Purple) - Premium & Featured */
    --color-accent: #9C27B0;               /* NEW: Premium/featured items */
    --color-accent-hover: #7B1FA2;         /* NEW: Hover state */
    --color-accent-light: #CE93D8;         /* NEW: Light variant */
    --color-accent-pale: #F3E5F5;          /* NEW: Very light */
    
    
    /* =====================================================
       🌈 FUNCTIONAL COLORS - Purpose-Driven
       WCAG AA compliant for accessibility
    ===================================================== */
    
    /* Status & Feedback */
    --color-success: #2E7D32;              /* Success - DARKER for better contrast */
    --color-success-bg: #E8F5E9;           /* Success background */
    --color-success-light: #4CAF50;        /* Lighter success for badges */
    
    --color-warning: #F57C00;              /* Warning - DARKER for readability */
    --color-warning-bg: #FFF8E1;           /* Warning background */
    --color-warning-light: #FFC107;        /* Lighter warning */
    
    --color-error: #C62828;                /* Error - DARKER for contrast */
    --color-error-bg: #FFEBEE;             /* Error background */
    --color-error-light: #F44336;          /* Lighter error */
    
    --color-info: #1565C0;                 /* Info - DARKER for readability */
    --color-info-bg: #E3F2FD;              /* Info background */
    --color-info-light: #2196F3;           /* Lighter info */
    
    /* Deal-Specific Colors - Enhanced vibrancy */
    --color-deal-hot: #FF3D00;             /* 🔥 Hot deals - MORE VIBRANT */
    --color-deal-trending: #FF9800;        /* ⬆️ Trending deals */
    --color-deal-featured: #9C27B0;        /* ⭐ Featured deals */
    --color-deal-expired: #757575;         /* ❌ Expired deals - better contrast */
    --color-cashback: #2E7D32;             /* 💰 Cashback - matches success */
    --color-discount: #D32F2F;             /* % Discount badge - STRONGER */
    
    /* NEW: Social Media Colors */
    --color-facebook: #1877F2;
    --color-twitter: #1DA1F2;
    --color-instagram: #E4405F;
    --color-whatsapp: #25D366;
    --color-telegram: #0088CC;
    
    
    /* =====================================================
       🎨 NEUTRAL COLORS - Backgrounds & Surfaces
       Optimized for layering and depth
    ===================================================== */
    
    /* Backgrounds */
    --bg-page: #F5F7FA;                    /* Page bg - SLIGHTLY COOLER */
    --bg-surface: #FFFFFF;                 /* Cards, modals */
    --bg-surface-hover: #FAFBFC;           /* Hover state */
    --bg-subtle: #EDF0F4;                  /* Subtle backgrounds */
    --bg-muted: #E4E7EB;                   /* Muted elements */
    --bg-overlay: rgba(0, 0, 0, 0.6);      /* Dark overlays - STRONGER */
    --bg-overlay-light: rgba(255, 255, 255, 0.95); /* Light overlays */
    
    /* NEW: Gradient Backgrounds */
    --bg-gradient-light: linear-gradient(to bottom, #FFFFFF, #F5F7FA);
    --bg-gradient-primary: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
    --bg-gradient-hero: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    
    
    /* =====================================================
       ✏️ TEXT COLORS - Hierarchy & Contrast
       WCAG AA compliant contrast ratios
    ===================================================== */
    
    --text-primary: #1A1A1A;               /* Headings - DARKER for better contrast */
    --text-secondary: #4A5568;             /* Subheadings - IMPROVED contrast */
    --text-tertiary: #718096;              /* Captions - IMPROVED */
    --text-muted: #A0AEC0;                 /* Very subtle text */
    --text-inverse: #FFFFFF;               /* Text on dark backgrounds */
    --text-link: var(--color-primary);     /* Links */
    --text-link-hover: var(--color-primary-dark); /* Link hover */
    --text-disabled: #CBD5E0;              /* NEW: Disabled text */
    
    
    /* =====================================================
       📐 BORDERS & DIVIDERS
       Subtle yet clear separation
    ===================================================== */
    
    --border-light: #E8EBED;               /* Very subtle - ADJUSTED */
    --border-default: #DFE3E8;             /* Standard - IMPROVED visibility */
    --border-medium: #C1C9D2;              /* Stronger borders */
    --border-dark: #8B95A5;                /* Dark borders */
    --border-input: #CBD5E0;               /* Input fields */
    --border-input-hover: #A0AEC0;         /* NEW: Input hover */
    --border-input-focus: var(--color-primary); /* Focused input */
    --border-input-error: var(--color-error);   /* Error state */
    
    
    /* =====================================================
       🎭 SHADOWS & ELEVATION - Refined & Compact
       Optimized for performance and subtlety
    ===================================================== */
    
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);    /* Minimal */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);    /* Small cards */
    --shadow-md: 0 2px 6px rgba(0, 0, 0, 0.10);    /* Standard */
    --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.12);   /* Modals */
    --shadow-xl: 0 8px 20px rgba(0, 0, 0, 0.15);   /* Maximum depth */
    --shadow-hover: 0 4px 16px rgba(0, 137, 123, 0.20); /* Primary color hover */
    --shadow-focus: 0 0 0 3px rgba(0, 137, 123, 0.15);  /* Focus ring */
    --shadow-inner: inset 0 1px 3px rgba(0, 0, 0, 0.08); /* Inner shadow */
    
    /* NEW: Colored Shadows for depth */
    --shadow-primary: 0 4px 16px rgba(0, 137, 123, 0.25);
    --shadow-secondary: 0 4px 16px rgba(255, 111, 97, 0.25);
    --shadow-success: 0 4px 16px rgba(46, 125, 50, 0.20);
    
    
    /* =====================================================
       🌈 GRADIENTS - Brand & Decorative
       Smooth and vibrant gradients
    ===================================================== */
    
    --gradient-primary: linear-gradient(135deg, #00897B 0%, #004D40 100%);
    --gradient-secondary: linear-gradient(135deg, #FF6F61 0%, #D84315 100%);
    --gradient-hero: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-deal-hot: linear-gradient(135deg, #FF3D00 0%, #D32F2F 100%);
    --gradient-success: linear-gradient(135deg, #2E7D32 0%, #1B5E20 100%);
    --gradient-overlay: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.7) 100%);
    
    /* NEW: Shimmer Gradient for loading states */
    --gradient-shimmer: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.4) 50%, 
        transparent 100%
    );
    
    
    /* =====================================================
       ✒️ TYPOGRAPHY - Optimized for Readability
       Compact but highly legible hierarchy
    ===================================================== */
    
    /* Font Families */
    --font-primary: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-display: 'Poppins', 'Inter', var(--font-primary); /* Fallback to Inter */
    --font-mono: 'SF Mono', 'Roboto Mono', 'Courier New', monospace;
    
    /* Font Sizes - Readable & Compact Balance */
    --font-size-xs: 11px;      /* Tiny labels */
    --font-size-sm: 13px;      /* Small text */
    --font-size-base: 15px;    /* Body text - OPTIMAL */
    --font-size-md: 16px;      /* Emphasized body */
    --font-size-lg: 18px;      /* Large text */
    --font-size-xl: 20px;      /* Subheadings */
    --font-size-2xl: 24px;     /* Section titles */
    --font-size-3xl: 28px;     /* Page titles */
    --font-size-4xl: 32px;     /* Hero text */
    --font-size-5xl: 40px;     /* Extra large */
    
    /* Responsive Headings - Fluid typography */
    --font-h1: clamp(28px, 5vw, 40px);     
    --font-h2: clamp(24px, 4vw, 32px);     
    --font-h3: clamp(20px, 3vw, 26px);     
    --font-h4: clamp(18px, 2.5vw, 22px);   
    --font-h5: clamp(16px, 2vw, 18px);     
    --font-h6: 15px;                       
    
    /* Special Sizes */
    --font-price-huge: clamp(32px, 6vw, 48px);     
    --font-price-large: clamp(26px, 4vw, 36px);    
    --font-discount-badge: clamp(16px, 3vw, 22px); 
    
    /* Font Weights */
    --font-weight-light: 300;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --font-weight-black: 900;
    
    /* Line Heights - Optimized for readability */
    --line-height-tight: 1.25;     
    --line-height-snug: 1.375;     
    --line-height-normal: 1.5;     
    --line-height-relaxed: 1.625;  
    --line-height-loose: 1.75;     
    
    /* Letter Spacing */
    --letter-spacing-tight: -0.02em;
    --letter-spacing-normal: 0;
    --letter-spacing-wide: 0.025em;
    --letter-spacing-wider: 0.05em;
    --letter-spacing-widest: 0.1em; /* NEW: For uppercase labels */
    
    
    /* =====================================================
       📏 SPACING SCALE - Compact 4px Grid System
       Optimized for dense layouts
    ===================================================== */
    
    --space-0: 0;
    --space-1: 4px;       
    --space-2: 8px;       
    --space-3: 12px;      
    --space-4: 16px;      
    --space-5: 20px;      
    --space-6: 24px;      
    --space-7: 28px;      
    --space-8: 32px;      
    --space-10: 40px;     
    --space-12: 48px;     
    --space-16: 64px;     
    --space-20: 80px;     
    --space-24: 96px;     
    
    
    /* =====================================================
       📐 LAYOUT & CONTAINERS - Responsive Widths
    ===================================================== */
    
    /* Container Widths */
    --container-max: 1400px;              
    --container-wide: 1600px;             
    --container-narrow: 900px;            
    --container-xs: 700px;                
    --container-padding: 16px;            
    --container-padding-mobile: 12px;     
    
    /* Grid & Gap Sizes */
    --gap-xs: 8px;        
    --gap-sm: 12px;       
    --gap-md: 16px;       
    --gap-lg: 20px;       
    --gap-xl: 24px;       
    --gap-2xl: 32px;      
    
    /* Column Counts */
    --cols-mobile: 1;
    --cols-tablet: 2;
    --cols-desktop: 3;
    --cols-wide: 4;
    --cols-extra-wide: 5;
    
    
    /* =====================================================
       🧱 BORDER RADIUS - Smooth Corners
    ===================================================== */
    
    --radius-none: 0;
    --radius-sm: 4px;      
    --radius-md: 8px;      
    --radius-lg: 12px;     
    --radius-xl: 16px;     
    --radius-2xl: 20px;    
    --radius-full: 9999px;
    --radius-circle: 50%;
    
    
    /* =====================================================
       🎯 COMPONENT SIZES - Buttons, Inputs, Badges
    ===================================================== */
    
    /* Button Sizes */
    --btn-height-sm: 32px;         
    --btn-height-md: 40px;         
    --btn-height-lg: 48px;         
    --btn-padding-sm: 8px 16px;    
    --btn-padding-md: 12px 24px;   
    --btn-padding-lg: 16px 32px;   
    
    /* Input Sizes */
    --input-height-sm: 36px;       
    --input-height-md: 44px;       
    --input-height-lg: 52px;       
    --input-padding: 12px 16px;    
    --input-padding-sm: 8px 12px;  
    
    /* Badge Sizes */
    --badge-padding-sm: 4px 8px;   
    --badge-padding-md: 6px 12px;  
    --badge-padding-lg: 8px 16px;  
    
    /* Icon Sizes */
    --icon-xs: 12px;
    --icon-sm: 16px;
    --icon-md: 20px;
    --icon-lg: 24px;
    --icon-xl: 32px;
    --icon-2xl: 40px;
    
    
    /* =====================================================
       ⏱️ ANIMATIONS & TRANSITIONS - Smooth & Snappy
    ===================================================== */
    
    /* Durations */
    --duration-instant: 100ms;      
    --duration-fast: 200ms;        
    --duration-normal: 300ms;      
    --duration-slow: 400ms;        
    --duration-slower: 600ms;      
    
    /* Easing Functions */
    --ease-linear: linear;
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* NEW: Smooth ease */
    
    /* Common Transitions */
    --transition-all: all var(--duration-normal) var(--ease-in-out);
    --transition-transform: transform var(--duration-normal) var(--ease-out);
    --transition-colors: background-color var(--duration-normal) ease, 
                         color var(--duration-normal) ease, 
                         border-color var(--duration-normal) ease;
    --transition-opacity: opacity var(--duration-normal) ease;
    --transition-shadow: box-shadow var(--duration-normal) ease;
    
    /* Transform Effects */
    --transform-lift-sm: translateY(-2px);
    --transform-lift-md: translateY(-4px);    
    --transform-lift-lg: translateY(-8px);    
    --transform-scale-sm: scale(1.02);
    --transform-scale-md: scale(1.05);        
    --transform-scale-lg: scale(1.08);        
    
    
    /* =====================================================
       📚 Z-INDEX LAYERS - Stacking Order
    ===================================================== */
    
    --z-base: 1;
    --z-raised: 10;
    --z-dropdown: 100;
    --z-sticky: 200;
    --z-fixed: 300;
    --z-modal-backdrop: 400;
    --z-modal: 500;
    --z-popover: 600;
    --z-tooltip: 700;
    --z-toast: 800;
    --z-max: 9999;
    
    
    /* =====================================================
       📱 BREAKPOINTS - Responsive Design
    ===================================================== */
    
    --breakpoint-xs: 480px;
    --breakpoint-sm: 640px;
    --breakpoint-md: 768px;
    --breakpoint-lg: 1024px;
    --breakpoint-xl: 1280px;
    --breakpoint-2xl: 1536px;
}


/* =====================================================
   🎨 SEMANTIC ALIASES - Component-Specific Tokens
   These reference the base tokens for better readability
===================================================== */

:root {
    /* Section Spacing */
    --section-spacing: var(--space-12);     /* 48px between sections */
    --section-spacing-sm: var(--space-10);  /* 40px for tight */
    --section-spacing-lg: var(--space-16);  /* 64px for loose */
    
    /* Card Spacing */
    --card-padding: var(--space-4);         /* 16px inside cards */
    --card-padding-sm: var(--space-3);      /* 12px for small cards */
    --card-padding-lg: var(--space-6);      /* 24px for large cards */
    --card-gap: var(--space-3);             /* 12px between card elements */
    
    /* Header/Footer */
    --header-height: 70px;                  
    --header-height-mobile: 60px;           /* NEW: Mobile header */
    --header-padding: var(--space-4) 0;     
    --footer-padding: var(--space-16) 0;    
    
    /* Deal Cards - Critical components */
    --deal-card-width: 280px;               
    --deal-card-width-mobile: 260px;        /* NEW: Mobile width */
    --deal-card-padding: var(--space-4);    
    --deal-card-radius: var(--radius-lg);   
    --deal-card-image-height: 180px;        
    --deal-card-gap: var(--space-3);        
    
    /* Store Cards */
    --store-card-width: 120px;              
    --store-card-height: 140px;             
    --store-card-padding: var(--space-3);   
    --store-logo-size: 60px;                
    
    /* NEW: Category Cards */
    --category-card-padding: var(--space-4);
    --category-icon-size: 48px;
}


/* =====================================================
   🌙 DARK MODE SUPPORT (Future-Ready)
===================================================== */

@media (prefers-color-scheme: dark) {
    :root {
        /* Override with dark mode colors when implementing */
        /* Uncommented structure ready for dark mode */
        /*
        --bg-page: #0F1419;
        --bg-surface: #1C2128;
        --bg-surface-hover: #252C35;
        --text-primary: #E6EDF3;
        --text-secondary: #8B949E;
        --border-default: #30363D;
        */
    }
}


/* =====================================================
   🎯 PRINT STYLES (Optimization)
===================================================== */

@media print {
    :root {
        /* Simplified colors for printing */
        --shadow-sm: none;
        --shadow-md: none;
        --shadow-lg: none;
        --shadow-xl: none;
        --gradient-primary: none;
        --gradient-secondary: none;
    }
}


/* END OF VARIABLES.CSS - PRODUCTION READY ✅ */
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\js\admin-media-uploader.js === 
/**
 * Admin Media Uploader - Enhanced for All Taxonomies
 * Handles media uploads for:
 * - Stores (logo, banner)
 * - Categories (icon image, banner)
 * - Deal Types (icon image, banner)
 * 
 * @package ARRZONE
 * @version 4.0 - Enhanced
 */

(function($) {
    'use strict';

    // Check if WordPress media library is loaded
    if (typeof wp === 'undefined' || typeof wp.media === 'undefined') {
        console.error('WordPress media library not loaded');
        return;
    }

    // =====================================================
    // SECTION 1: STORE TAXONOMY UPLOADERS
    // =====================================================

    /**
     * Initialize Store Logo Uploader
     */
    function initStoreLogoUpload() {
        let storeLogoFrame;
        
        const uploadButton = $('#store_logo_upload, .store-logo-upload-btn');
        const removeButton = $('.store-logo-remove-btn');
        const logoInput = $('#store_logo_id');
        const logoPreview = $('.store-logo-preview');

        if (uploadButton.length === 0) return;

        // Upload button click
        uploadButton.on('click', function(e) {
            e.preventDefault();

            // If media frame already exists, reopen it
            if (storeLogoFrame) {
                storeLogoFrame.open();
                return;
            }

            // Create new media frame
            storeLogoFrame = wp.media({
                title: 'Select Store Logo',
                button: {
                    text: 'Use this image'
                },
                multiple: false,
                library: {
                    type: 'image'
                }
            });

            // When image is selected
            storeLogoFrame.on('select', function() {
                const attachment = storeLogoFrame.state().get('selection').first().toJSON();
                
                // Set logo ID in hidden input
                logoInput.val(attachment.id);
                
                // Show preview
                logoPreview.html('<img src="' + attachment.url + '" style="max-width: 150px; height: auto; border: 2px solid #ddd; border-radius: 8px; padding: 5px;">');
                
                // Show remove button
                removeButton.show();
            });

            // Open media frame
            storeLogoFrame.open();
        });

        // Remove button click
        removeButton.on('click', function(e) {
            e.preventDefault();
            
            // Clear input and preview
            logoInput.val('');
            logoPreview.html('');
            
            // Hide remove button
            $(this).hide();
        });

        // Show remove button if logo exists on page load
        if (logoInput.val()) {
            removeButton.show();
        }
    }

    /**
     * Initialize Store Banner Uploader
     */
    function initStoreBannerUpload() {
        let storeBannerFrame;
        
        const uploadButton = $('#store_banner_upload, .store-banner-upload-btn');
        const removeButton = $('.store-banner-remove-btn');
        const bannerInput = $('#store_banner_id');
        const bannerPreview = $('.store-banner-preview');

        if (uploadButton.length === 0) return;

        // Upload button click
        uploadButton.on('click', function(e) {
            e.preventDefault();

            if (storeBannerFrame) {
                storeBannerFrame.open();
                return;
            }

            storeBannerFrame = wp.media({
                title: 'Select Store Banner',
                button: {
                    text: 'Use this image'
                },
                multiple: false,
                library: {
                    type: 'image'
                }
            });

            storeBannerFrame.on('select', function() {
                const attachment = storeBannerFrame.state().get('selection').first().toJSON();
                
                bannerInput.val(attachment.id);
                bannerPreview.html('<img src="' + attachment.url + '" style="max-width: 400px; height: auto; border: 2px solid #ddd; border-radius: 8px;">');
                removeButton.show();
            });

            storeBannerFrame.open();
        });

        removeButton.on('click', function(e) {
            e.preventDefault();
            bannerInput.val('');
            bannerPreview.html('');
            $(this).hide();
        });

        if (bannerInput.val()) {
            removeButton.show();
        }
    }

    // =====================================================
    // SECTION 2: CATEGORY TAXONOMY UPLOADERS
    // =====================================================

    /**
     * Initialize Category Icon Image Uploader
     */
    function initCategoryIconImageUpload() {
        let categoryIconFrame;
        
        const uploadButton = $('.category-icon-upload-btn');
        const removeButton = $('.category-icon-remove-btn');
        const imageInput = $('#category_icon_image_id');
        const imagePreview = $('.category-icon-preview');

        if (uploadButton.length === 0) return;

        uploadButton.on('click', function(e) {
            e.preventDefault();

            if (categoryIconFrame) {
                categoryIconFrame.open();
                return;
            }

            categoryIconFrame = wp.media({
                title: 'Select Category Icon Image',
                button: {
                    text: 'Use this image'
                },
                multiple: false,
                library: {
                    type: 'image'
                }
            });

            categoryIconFrame.on('select', function() {
                const attachment = categoryIconFrame.state().get('selection').first().toJSON();
                
                imageInput.val(attachment.id);
                imagePreview.html('<img src="' + attachment.url + '" style="width: 100px; height: 100px; object-fit: contain; border: 2px solid #ddd; border-radius: 8px; padding: 5px;">');
                removeButton.show();
            });

            categoryIconFrame.open();
        });

        removeButton.on('click', function(e) {
            e.preventDefault();
            imageInput.val('');
            imagePreview.html('');
            $(this).hide();
        });

        if (imageInput.val()) {
            removeButton.show();
        }
    }

    /**
     * Initialize Category Banner Uploader
     */
    function initCategoryBannerUpload() {
        let categoryBannerFrame;
        
        const uploadButton = $('.category-banner-upload-btn');
        const removeButton = $('.category-banner-remove-btn');
        const bannerInput = $('#category_banner_id');
        const bannerPreview = $('.category-banner-preview');

        if (uploadButton.length === 0) return;

        uploadButton.on('click', function(e) {
            e.preventDefault();

            if (categoryBannerFrame) {
                categoryBannerFrame.open();
                return;
            }

            categoryBannerFrame = wp.media({
                title: 'Select Category Banner',
                button: {
                    text: 'Use this image'
                },
                multiple: false,
                library: {
                    type: 'image'
                }
            });

            categoryBannerFrame.on('select', function() {
                const attachment = categoryBannerFrame.state().get('selection').first().toJSON();
                
                bannerInput.val(attachment.id);
                bannerPreview.html('<img src="' + attachment.url + '" style="max-width: 400px; height: auto; border: 2px solid #ddd; border-radius: 8px;">');
                removeButton.show();
            });

            categoryBannerFrame.open();
        });

        removeButton.on('click', function(e) {
            e.preventDefault();
            bannerInput.val('');
            bannerPreview.html('');
            $(this).hide();
        });

        if (bannerInput.val()) {
            removeButton.show();
        }
    }

    // =====================================================
    // SECTION 3: DEAL TYPE TAXONOMY UPLOADERS
    // =====================================================

    /**
     * Initialize Deal Type Icon Image Uploader
     */
    function initDealTypeIconImageUpload() {
        let dealtypeIconFrame;
        
        const uploadButton = $('.dealtype-icon-upload-btn');
        const removeButton = $('.dealtype-icon-remove-btn');
        const imageInput = $('#dealtype_icon_image_id');
        const imagePreview = $('.dealtype-icon-preview');

        if (uploadButton.length === 0) return;

        uploadButton.on('click', function(e) {
            e.preventDefault();

            if (dealtypeIconFrame) {
                dealtypeIconFrame.open();
                return;
            }

            dealtypeIconFrame = wp.media({
                title: 'Select Deal Type Icon Image',
                button: {
                    text: 'Use this image'
                },
                multiple: false,
                library: {
                    type: 'image'
                }
            });

            dealtypeIconFrame.on('select', function() {
                const attachment = dealtypeIconFrame.state().get('selection').first().toJSON();
                
                imageInput.val(attachment.id);
                imagePreview.html('<img src="' + attachment.url + '" style="width: 100px; height: 100px; object-fit: contain; border: 2px solid #ddd; border-radius: 8px; padding: 5px;">');
                removeButton.show();
            });

            dealtypeIconFrame.open();
        });

        removeButton.on('click', function(e) {
            e.preventDefault();
            imageInput.val('');
            imagePreview.html('');
            $(this).hide();
        });

        if (imageInput.val()) {
            removeButton.show();
        }
    }

    /**
     * Initialize Deal Type Banner Uploader
     */
    function initDealTypeBannerUpload() {
        let dealtypeBannerFrame;
        
        const uploadButton = $('.dealtype-banner-upload-btn');
        const removeButton = $('.dealtype-banner-remove-btn');
        const bannerInput = $('#dealtype_banner_id');
        const bannerPreview = $('.dealtype-banner-preview');

        if (uploadButton.length === 0) return;

        uploadButton.on('click', function(e) {
            e.preventDefault();

            if (dealtypeBannerFrame) {
                dealtypeBannerFrame.open();
                return;
            }

            dealtypeBannerFrame = wp.media({
                title: 'Select Deal Type Banner',
                button: {
                    text: 'Use this image'
                },
                multiple: false,
                library: {
                    type: 'image'
                }
            });

            dealtypeBannerFrame.on('select', function() {
                const attachment = dealtypeBannerFrame.state().get('selection').first().toJSON();
                
                bannerInput.val(attachment.id);
                bannerPreview.html('<img src="' + attachment.url + '" style="max-width: 400px; height: auto; border: 2px solid #ddd; border-radius: 8px;">');
                removeButton.show();
            });

            dealtypeBannerFrame.open();
        });

        removeButton.on('click', function(e) {
            e.preventDefault();
            bannerInput.val('');
            bannerPreview.html('');
            $(this).hide();
        });

        if (bannerInput.val()) {
            removeButton.show();
        }
    }

    // =====================================================
    // INITIALIZATION
    // =====================================================

    /**
     * Initialize all uploaders when document is ready
     */
    $(document).ready(function() {
        // Store taxonomy
        initStoreLogoUpload();
        initStoreBannerUpload();
        
        // Category taxonomy
        initCategoryIconImageUpload();
        initCategoryBannerUpload();
        
        // Deal Type taxonomy
        initDealTypeIconImageUpload();
        initDealTypeBannerUpload();
    });

})(jQuery);
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\js\banner-slider.js === 
/**
 * Hero Banner Carousel - FIXED v2.0
 * Uses CSS active class (display: none/grid) approach
 * Matches homepage.css perfectly
 * 
 * @package DealsIndia
 * @version 2.0 - Production Ready
 */

(function() {
    'use strict';
    
    // Wait for DOM to be ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initCarousel);
    } else {
        initCarousel();
    }
    
    function initCarousel() {
        const carousel = document.querySelector('.hero-banners-carousel');
        
        if (!carousel) {
            return;
        }
        
        const slides = carousel.querySelectorAll('.hero-banners-slide');
        const prevBtn = carousel.querySelector('.carousel-arrow-prev');
        const nextBtn = carousel.querySelector('.carousel-arrow-next');
        const dotsContainer = carousel.querySelector('.carousel-dots');
        
        if (!slides || slides.length === 0) {
            return;
        }
        
        let currentIndex = 0;
        const totalSlides = slides.length;
        let autoPlayInterval;
        
        // Only initialize if more than 1 slide
        if (totalSlides <= 1) {
            if (prevBtn) prevBtn.style.display = 'none';
            if (nextBtn) nextBtn.style.display = 'none';
            if (dotsContainer) dotsContainer.style.display = 'none';
            return;
        }
        
        // Create dots dynamically
        function createDots() {
            if (!dotsContainer) return;
            
            dotsContainer.innerHTML = '';
            
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('button');
                dot.setAttribute('aria-label', 'Go to slide ' + (i + 1));
                dot.setAttribute('type', 'button');
                
                if (i === 0) {
                    dot.classList.add('active');
                }
                
                dot.addEventListener('click', function() {
                    goToSlide(i);
                });
                
                dotsContainer.appendChild(dot);
            }
        }
        
        // Update active dot
        function updateDots() {
            if (!dotsContainer) return;
            
            const dots = dotsContainer.querySelectorAll('button');
            dots.forEach(function(dot, index) {
                if (index === currentIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        // Show specific slide
        function goToSlide(index) {
            // Remove active class from all slides
            slides.forEach(function(slide) {
                slide.classList.remove('active');
            });
            
            // Add active class to current slide
            currentIndex = index;
            slides[currentIndex].classList.add('active');
            
            // Update dots
            updateDots();
            
            // Reset auto play timer
            resetAutoPlay();
        }
        
        // Next slide
        function nextSlide() {
            let nextIndex = currentIndex + 1;
            if (nextIndex >= totalSlides) {
                nextIndex = 0;
            }
            goToSlide(nextIndex);
        }
        
        // Previous slide
        function prevSlide() {
            let prevIndex = currentIndex - 1;
            if (prevIndex < 0) {
                prevIndex = totalSlides - 1;
            }
            goToSlide(prevIndex);
        }
        
        // Start auto play
        function startAutoPlay() {
            autoPlayInterval = setInterval(nextSlide, 5000); // 5 seconds
        }
        
        // Reset auto play
        function resetAutoPlay() {
            clearInterval(autoPlayInterval);
            startAutoPlay();
        }
        
        // Stop auto play
        function stopAutoPlay() {
            clearInterval(autoPlayInterval);
        }
        
        // Initialize carousel
        function init() {
            // Create dots
            createDots();
            
            // Arrow button events
            if (prevBtn) {
                prevBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    prevSlide();
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    nextSlide();
                });
            }
            
            // Pause on hover (desktop)
            carousel.addEventListener('mouseenter', stopAutoPlay);
            carousel.addEventListener('mouseleave', startAutoPlay);
            
            // Touch/swipe support (mobile)
            let touchStartX = 0;
            let touchEndX = 0;
            
            carousel.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
                stopAutoPlay();
            }, { passive: true });
            
            carousel.addEventListener('touchend', function(e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
                startAutoPlay();
            }, { passive: true });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = touchEndX - touchStartX;
                
                if (diff < -swipeThreshold) {
                    nextSlide(); // Swipe left
                } else if (diff > swipeThreshold) {
                    prevSlide(); // Swipe right
                }
            }
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (!carousel.matches(':hover')) return;
                
                if (e.key === 'ArrowLeft') {
                    prevSlide();
                } else if (e.key === 'ArrowRight') {
                    nextSlide();
                }
            });
            
            // Start auto play
            startAutoPlay();
        }
        
        // Run initialization
        init();
    }
})();
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\js\filter.js === 
/**
 * Deal Filters - Pure AJAX Implementation
 * Handles horizontal chips + sidebar filters
 * No page reload, instant results
 * 
 * @package ARRZONE
 * @version 4.0 - Fixed Variable Name + Added Mobile Toggle
 */

(function() {
    'use strict';
    
    // =====================================================
    // SAFETY CHECK - Ensure localized data exists
    // =====================================================
    if (typeof dealsindiaFilter === 'undefined') {
        console.error('ARRZONE Filter Error: dealsindiaFilter is not defined. Script loading issue.');
        return;
    }
    
    // =====================================================
    // CONFIGURATION
    // =====================================================
    const config = {
        ajaxUrl: dealsindiaFilter.ajaxUrl,
        nonce: dealsindiaFilter.nonce,
        containerSelector: '#dealsGridContainer',
        filtersSelector: '#dealFiltersSidebar',
        horizontalFiltersSelector: '#horizontalFilters',
        mobileToggleSelector: '#mobileFilterToggle',
        debounceDelay: 500
    };
    
    // =====================================================
    // ACTIVE FILTERS STATE
    // =====================================================
    let activeFilters = {
        stores: [],
        categories: [],
        dealTypes: [],
        sortBy: 'latest',
        priceMin: '',
        priceMax: '',
        discountMin: '0',
        status: '',
        context: {
            type: dealsindiaFilter.contextType || '',
            slug: dealsindiaFilter.contextSlug || ''
        }
    };
    
    // =====================================================
    // INITIALIZE ON DOM READY
    // =====================================================
    document.addEventListener('DOMContentLoaded', function() {
        initFilters();
        initFilterSections();
        initMobileToggle();
    });
    
    /**
     * Initialize all filter handlers
     */
    function initFilters() {
        // Get context from horizontal filters wrapper (fallback)
        const horizontalWrapper = document.querySelector(config.horizontalFiltersSelector);
        if (horizontalWrapper) {
            // Only update if not already set from PHP
            if (!activeFilters.context.type) {
                activeFilters.context.type = horizontalWrapper.dataset.contextType || '';
            }
            if (!activeFilters.context.slug) {
                activeFilters.context.slug = horizontalWrapper.dataset.contextSlug || '';
            }
        }
        
        // Horizontal filter chips (stores, categories)
        document.querySelectorAll('.filter-chip').forEach(chip => {
            chip.addEventListener('click', handleChipClick);
        });
        
        // Sidebar sort options
        document.querySelectorAll('.filter-radio[name="sortby"]').forEach(radio => {
            radio.addEventListener('change', handleSortChange);
        });
        
        // Sidebar deal type checkboxes
        document.querySelectorAll('.filter-section-deal-types .filter-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', handleDealTypeChange);
        });
        
        // Price range inputs
        const priceMin = document.getElementById('priceRangeMin');
        const priceMax = document.getElementById('priceRangeMax');
        if (priceMin && priceMax) {
            priceMin.addEventListener('input', debounce(handlePriceChange, config.debounceDelay));
            priceMax.addEventListener('input', debounce(handlePriceChange, config.debounceDelay));
        }
        
        // Discount select
        const discountSelect = document.getElementById('discountMin');
        if (discountSelect) {
            discountSelect.addEventListener('change', handleDiscountChange);
        }
        
        // Status select
        const statusSelect = document.getElementById('statusFilter');
        if (statusSelect) {
            statusSelect.addEventListener('change', handleStatusChange);
        }
        
        // Reset button
        const resetBtn = document.getElementById('filterResetBtn');
        if (resetBtn) {
            resetBtn.addEventListener('click', resetAllFilters);
        }
    }
    
    /**
     * Initialize filter section collapse/expand
     * Moved from inline script in filter-sidebar.php
     */
    function initFilterSections() {
        document.querySelectorAll('.filter-section-header').forEach(header => {
            header.addEventListener('click', function() {
                const section = this.parentElement;
                const content = section.querySelector('.filter-section-content');
                const isExpanded = this.getAttribute('aria-expanded') === 'true';
                
                this.setAttribute('aria-expanded', !isExpanded);
                
                if (content) {
                    content.style.display = isExpanded ? 'none' : 'block';
                }
                
                section.classList.toggle('active', !isExpanded);
            });
        });
    }
    
    /**
     * Initialize mobile filter toggle
     * NEW FUNCTIONALITY - Added for mobile UX
     */
    function initMobileToggle() {
        const mobileToggle = document.querySelector(config.mobileToggleSelector);
        const sidebar = document.querySelector(config.filtersSelector);
        
        if (!mobileToggle || !sidebar) return;
        
        mobileToggle.addEventListener('click', function() {
            sidebar.classList.toggle('mobile-open');
            document.body.classList.toggle('filter-sidebar-open');
            
            // Update button text
            const isOpen = sidebar.classList.contains('mobile-open');
            this.textContent = isOpen ? 'Close Filters' : 'Filters';
        });
        
        // Close sidebar when clicking outside (mobile only)
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768) {
                const isClickInsideSidebar = sidebar.contains(event.target);
                const isClickOnToggle = mobileToggle.contains(event.target);
                
                if (!isClickInsideSidebar && !isClickOnToggle && sidebar.classList.contains('mobile-open')) {
                    sidebar.classList.remove('mobile-open');
                    document.body.classList.remove('filter-sidebar-open');
                }
            }
        });
    }
    
    // =====================================================
    // EVENT HANDLERS
    // =====================================================
    
    /**
     * Handle horizontal chip click (stores, categories)
     */
    function handleChipClick(event) {
        event.preventDefault();
        const chip = event.currentTarget;
        const filterType = chip.dataset.filterType;
        const filterValue = chip.dataset.filterValue;
        
        // Toggle active state
        chip.classList.toggle('active');
        
        // Update active filters
        if (filterType === 'store') {
            toggleArrayValue(activeFilters.stores, filterValue);
        } else if (filterType === 'category') {
            toggleArrayValue(activeFilters.categories, filterValue);
        }
        
        // Trigger filter update
        updateDeals();
    }
    
    /**
     * Handle sort radio change
     */
    function handleSortChange(event) {
        activeFilters.sortBy = event.target.value;
        updateDeals();
    }
    
    /**
     * Handle deal type checkbox change
     */
    function handleDealTypeChange(event) {
        const value = event.target.value;
        toggleArrayValue(activeFilters.dealTypes, value);
        updateDeals();
    }
    
    /**
     * Handle price range change
     */
    function handlePriceChange() {
        const priceMin = document.getElementById('priceRangeMin');
        const priceMax = document.getElementById('priceRangeMax');
        
        activeFilters.priceMin = priceMin ? priceMin.value : '';
        activeFilters.priceMax = priceMax ? priceMax.value : '';
        
        updateDeals();
    }
    
    /**
     * Handle discount select change
     */
    function handleDiscountChange(event) {
        activeFilters.discountMin = event.target.value;
        updateDeals();
    }
    
    /**
     * Handle status select change
     */
    function handleStatusChange(event) {
        activeFilters.status = event.target.value;
        updateDeals();
    }
    
    /**
     * Reset all filters
     */
    function resetAllFilters() {
        // Reset state (preserve context)
        activeFilters = {
            stores: [],
            categories: [],
            dealTypes: [],
            sortBy: 'latest',
            priceMin: '',
            priceMax: '',
            discountMin: '0',
            status: '',
            context: activeFilters.context
        };
        
        // Reset UI - chips
        document.querySelectorAll('.filter-chip.active').forEach(chip => {
            chip.classList.remove('active');
        });
        
        // Reset UI - radio buttons
        document.querySelectorAll('.filter-radio[name="sortby"]').forEach(radio => {
            radio.checked = radio.value === 'latest';
        });
        
        // Reset UI - checkboxes
        document.querySelectorAll('.filter-checkbox:checked').forEach(checkbox => {
            checkbox.checked = false;
        });
        
        // Reset UI - inputs
        const priceMin = document.getElementById('priceRangeMin');
        const priceMax = document.getElementById('priceRangeMax');
        const discountSelect = document.getElementById('discountMin');
        const statusSelect = document.getElementById('statusFilter');
        
        if (priceMin) priceMin.value = '';
        if (priceMax) priceMax.value = '';
        if (discountSelect) discountSelect.value = '0';
        if (statusSelect) statusSelect.value = '';
        
        // Update deals
        updateDeals();
    }
    
    // =====================================================
    // AJAX FUNCTIONALITY
    // =====================================================
    
    /**
     * Send AJAX request to update deals
     */
    function updateDeals() {
        const container = document.querySelector(config.containerSelector);
        if (!container) {
            console.error('ARRZONE Filter Error: Deals container not found');
            return;
        }
        
        // Show loading state
        container.style.opacity = '0.5';
        container.style.pointerEvents = 'none';
        container.classList.add('loading');
        
        // Prepare data
        const data = new FormData();
        data.append('action', 'filter_deals');
        data.append('nonce', config.nonce);
        data.append('filters', JSON.stringify(activeFilters));
        
        // Send request
        fetch(config.ajaxUrl, {
            method: 'POST',
            body: data
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(result => {
            if (result.success) {
                container.innerHTML = result.data.html;
                updateDealCount(result.data.count);
            } else {
                console.error('Filter error:', result.data.message);
                showError(dealsindiaFilter.strings.ajaxError || 'Failed to load deals. Please try again.');
            }
        })
        .catch(error => {
            console.error('AJAX error:', error);
            showError('Network error. Please check your connection.');
        })
        .finally(() => {
            container.style.opacity = '1';
            container.style.pointerEvents = 'auto';
            container.classList.remove('loading');
        });
    }
    
    /**
     * Update deal count display
     */
    function updateDealCount(count) {
        const countElement = document.querySelector('.archive-count');
        if (countElement) {
            const dealText = count === 1 
                ? (dealsindiaFilter.strings.dealSingular || 'deal found')
                : (dealsindiaFilter.strings.dealPlural || 'deals found');
            countElement.textContent = `${count.toLocaleString()} ${dealText}`;
        }
    }
    
    /**
     * Show error message
     */
    function showError(message) {
        const container = document.querySelector(config.containerSelector);
        if (container) {
            container.innerHTML = `
                <div class="filter-error-message">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="10" stroke-width="2"/>
                        <line x1="12" y1="8" x2="12" y2="12" stroke-width="2"/>
                        <line x1="12" y1="16" x2="12.01" y2="16" stroke-width="2"/>
                    </svg>
                    <p>${message}</p>
                    <button onclick="location.reload()" class="btn btn-primary">Reload Page</button>
                </div>
            `;
        }
    }
    
    // =====================================================
    // UTILITY FUNCTIONS
    // =====================================================
    
    /**
     * Toggle value in array
     */
    function toggleArrayValue(array, value) {
        const index = array.indexOf(value);
        if (index > -1) {
            array.splice(index, 1);
        } else {
            array.push(value);
        }
    }
    
    /**
     * Debounce function for performance
     */
    function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }
    
    // =====================================================
    // EXPOSE PUBLIC API
    // =====================================================
    window.triggerFilterUpdate = updateDeals;
    
})();
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\js\flip-card.js === 
/**
 * Flip Card Functionality
 * Handles card flip animations and coupon copy
 * 
 * @package ARRZONE
 * @version 1.0
 */

(function() {
    'use strict';
    
    // Initialize on DOM ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initFlipCards);
    } else {
        initFlipCards();
    }
    
    function initFlipCards() {
        const cards = document.querySelectorAll('.cd-flip-card');
        
        cards.forEach(card => {
            // Click anywhere on card to flip (except buttons/links)
            card.addEventListener('click', function(e) {
                // Don't flip if clicking buttons or links
                if (e.target.closest('a, button')) {
                    return;
                }
                
                toggleFlip(this);
            });
            
            // Close button on back
            const closeBtn = card.querySelector('.cd-flip-back-btn');
            if (closeBtn) {
                closeBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    card.classList.remove('flipped');
                });
            }
        });
        
        // Auto-flip back after 15 seconds
        cards.forEach(card => {
            let flipTimeout;
            
            card.addEventListener('click', function() {
                clearTimeout(flipTimeout);
                
                if (this.classList.contains('flipped')) {
                    flipTimeout = setTimeout(() => {
                        this.classList.remove('flipped');
                    }, 15000); // 15 seconds
                }
            });
        });
    }
    
    function toggleFlip(card) {
        card.classList.toggle('flipped');
        
        // Track flip event (optional analytics)
        if (typeof gtag !== 'undefined') {
            const dealId = card.closest('[data-deal-id]')?.dataset.dealId;
            gtag('event', 'card_flip', {
                'deal_id': dealId
            });
        }
    }
    
    // Make function global for inline onclick
    window.copyCardCoupon = function(button) {
        const couponCode = button.dataset.coupon;
        
        if (!couponCode) {
            console.error('No coupon code found');
            return;
        }
        
        // Copy to clipboard
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(couponCode).then(() => {
                showCopySuccess(button);
            }).catch(err => {
                console.error('Clipboard API failed:', err);
                fallbackCopy(couponCode, button);
            });
        } else {
            fallbackCopy(couponCode, button);
        }
    };
    
    function fallbackCopy(text, button) {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.opacity = '0';
        textarea.style.left = '-9999px';
        document.body.appendChild(textarea);
        textarea.select();
        textarea.setSelectionRange(0, 99999); // For mobile
        
        try {
            const successful = document.execCommand('copy');
            if (successful) {
                showCopySuccess(button);
            } else {
                console.error('Failed to copy');
            }
        } catch (err) {
            console.error('Fallback copy failed:', err);
        }
        
        document.body.removeChild(textarea);
    }
    
    function showCopySuccess(button) {
        const originalHTML = button.innerHTML;
        button.classList.add('copied');
        button.innerHTML = '✓ Copied!';
        button.disabled = true;
        
        setTimeout(() => {
            button.classList.remove('copied');
            button.innerHTML = originalHTML;
            button.disabled = false;
        }, 2000);
        
        // Optional: Track copy event
        if (typeof gtag !== 'undefined') {
            gtag('event', 'coupon_copy', {
                'coupon_code': button.dataset.coupon
            });
        }
    }
    
    // Handle keyboard accessibility
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            const flippedCards = document.querySelectorAll('.cd-flip-card.flipped');
            flippedCards.forEach(card => {
                card.classList.remove('flipped');
            });
        }
    });
    
})();
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\assets\js\main.js === 
/**
 * Main JavaScript - Enhanced & Flicker-Free
 * Merges:
 * - main.js (Core functionality)
 * - click-tracker.js (Deal click analytics)
 * 
 * @package ARRZONE
 * @version 3.0 - Flicker-Free Sticky Header
 */

(function($) {
    'use strict';

    // =====================================================
// SECTION 1: SIMPLE STICKY HEADER (NO AUTO-HIDE)
// =====================================================

/**
 * Simple sticky header with shadow effect on scroll
 * NO AUTO-HIDE - Always visible, smooth shadow transition
 */
function initStickyHeader() {
    const header = document.querySelector('.site-header');
    if (!header) return;

    let ticking = false;

    function onScroll() {
        if (!ticking) {
            window.requestAnimationFrame(function() {
                updateHeader();
                ticking = false;
            });
            ticking = true;
        }
    }

    function updateHeader() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

        // Add scrolled class if scrolled down more than 10px
        if (scrollTop > 10) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    }

    // Attach scroll listener
    window.addEventListener('scroll', onScroll, { passive: true });
    
    // Run once on load
    updateHeader();
}

    // =====================================================
    // SECTION 2: MOBILE MENU
    // =====================================================

    /**
     * Initialize mobile menu toggle
     */
    function initMobileMenu() {
        const menuToggle = document.querySelector('.mobile-menu-toggle');
        const mobileMenu = document.querySelector('.mobile-menu');
        const menuOverlay = document.querySelector('.menu-overlay');
        const body = document.body;

        if (!menuToggle || !mobileMenu || !menuOverlay) return;

        const closeMenu = () => {
            menuToggle.classList.remove('active');
            mobileMenu.classList.remove('active');
            menuOverlay.classList.remove('active');
            body.classList.remove('menu-open');
        };

        // Toggle menu
        menuToggle.addEventListener('click', function() {
            const isActive = this.classList.contains('active');
            
            if (isActive) {
                closeMenu();
            } else {
                this.classList.add('active');
                mobileMenu.classList.add('active');
                menuOverlay.classList.add('active');
                body.classList.add('menu-open');
            }
        });

        // Close menu when clicking overlay
        menuOverlay.addEventListener('click', closeMenu);

        // Close menu when clicking close button inside menu
        const closeBtn = mobileMenu.querySelector('.mobile-menu-close');

        if (closeBtn) {
            closeBtn.addEventListener('click', closeMenu);
        }
    }

    // =====================================================
    // SECTION 3: SEARCH TOGGLE
    // =====================================================

    /**
     * Initialize search form toggle
     */
    function initSearchToggle() {
        const searchToggle = document.querySelector('.search-toggle');
        const searchForm = document.querySelector('.search-form');

        if (!searchToggle || !searchForm) return;

        searchToggle.addEventListener('click', function() {
            searchForm.classList.toggle('active');
        });

        // Close search when clicking outside
        document.addEventListener('click', function(e) {
            if (!searchToggle.contains(e.target) && !searchForm.contains(e.target)) {
                searchForm.classList.remove('active');
            }
        });
    }

    // =====================================================
    // SECTION 4: DEAL CLICK TRACKING
    // =====================================================

    /**
     * Track deal clicks for analytics
     */
    function initDealClickTracking() {
        $(document).on('click', '.cd-shop-now-btn, .deal-affiliate-link', function(e) {
            const dealId = $(this).closest('[data-deal-id]').data('deal-id');
            
            if (!dealId) return;

            // Send AJAX request to track click
            $.ajax({
                url: dealsindia.ajaxUrl || ajaxurl,
                type: 'POST',
                data: {
                    action: 'dealsindia_track_click',
                    deal_id: dealId,
                    nonce: dealsindia.nonce || ''
                },
                success: function(response) {
                    console.log('Click tracked:', dealId);
                }
            });
        });
    }

    // =====================================================
    // SECTION 5: COUPON CODE COPY
    // =====================================================

    /**
     * Copy coupon code to clipboard
     */
    function initCouponCopy() {
        $(document).on('click', '#copyCouponBtn, .copy-coupon-btn-enhanced', function(e) {
            e.preventDefault();
            
            const button = $(this);
            const couponCode = $('#couponCode').text() || button.data('coupon');
            
            if (!couponCode) return;

            // Copy to clipboard
            if (navigator.clipboard) {
                navigator.clipboard.writeText(couponCode).then(function() {
                    showCopySuccess(button);
                }).catch(function() {
                    fallbackCopy(couponCode, button);
                });
            } else {
                fallbackCopy(couponCode, button);
            }
        });
    }

    /**
     * Fallback copy method for older browsers
     */
    function fallbackCopy(text, button) {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.opacity = '0';
        document.body.appendChild(textarea);
        textarea.select();
        
        try {
            document.execCommand('copy');
            showCopySuccess(button);
        } catch (err) {
            console.error('Copy failed:', err);
        }
        
        document.body.removeChild(textarea);
    }

    /**
     * Show copy success feedback
     */
    function showCopySuccess(button) {
        const originalHtml = button.html();
        
        button.html('✓ Copied!').addClass('copied').prop('disabled', true);
        
        setTimeout(function() {
            button.html(originalHtml).removeClass('copied').prop('disabled', false);
        }, 2000);
    }

    // =====================================================
    // SECTION 6: COUNTDOWN TIMER (Single Deal Page)
    // =====================================================

    /**
     * Initialize countdown timer
     */
    function initCountdownTimer() {
        const countdown = document.getElementById('dealCountdown');
        if (!countdown) return;

        const expiryDate = countdown.dataset.expiry;
        if (!expiryDate) return;

        const endDate = new Date(expiryDate).getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = endDate - now;

            if (distance < 0) {
                countdown.innerHTML = '<div class="countdown-expired">Deal Expired</div>';
                clearInterval(countdownInterval);
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
        }

        updateCountdown();
        const countdownInterval = setInterval(updateCountdown, 1000);
    }

    // =====================================================
    // SECTION 7: SMOOTH SCROLL TO TOP
    // =====================================================

    /**
     * Scroll to top button
     */
    function initScrollToTop() {
        const scrollBtn = document.getElementById('scrollToTop');
        if (!scrollBtn) return;

        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                scrollBtn.classList.add('visible');
            } else {
                scrollBtn.classList.remove('visible');
            }
        }, { passive: true });

        scrollBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }

    // =====================================================
    // INITIALIZATION
    // =====================================================

    /**
     * Initialize all functions when DOM is ready
     */
    $(document).ready(function() {
        initStickyHeader();
        initMobileMenu();
        initSearchToggle();
        initDealClickTracking();
        initCouponCopy();
        initCountdownTimer();
        initScrollToTop();

        console.log('ARRZONE Main JS Loaded');
    });

})(jQuery);
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\admin\admin-setup.php === 
<?php
if (!defined('ABSPATH')) exit; // Exit if accessed directly

/**
 * Admin Setup - Consolidated Admin Functions
 * 
 * Merges:
 * - admin-columns.php (Custom admin columns)
 * - analytics-widget.php (Dashboard widget)
 * - cache-manager.php (Cache management)
 * - newsletter-admin.php (Newsletter management)
 * 
 * NO INLINE STYLES - Uses WordPress native admin classes
 * 
 * @package ARRZone
 * @version 1.0
 */

// =====================================================
// SECTION 1: CUSTOM ADMIN COLUMNS
// =====================================================

/**
 * Add custom columns to Deals admin list
 */
function arrzone_deals_admin_columns($columns) {
    $new_columns = array();
    
    // Keep checkbox and title
    $new_columns['cb'] = $columns['cb'];
    $new_columns['title'] = $columns['title'];
    
    // Add custom columns
    $new_columns['deal_image'] = __('Image', 'dealsindia');
    $new_columns['deal_price'] = __('Price', 'dealsindia');
    $new_columns['deal_discount'] = __('Discount', 'dealsindia');
    $new_columns['deal_store'] = __('Store', 'dealsindia');
    $new_columns['deal_category'] = __('Category', 'dealsindia');
    $new_columns['deal_type'] = __('Type', 'dealsindia');
    $new_columns['deal_expiry'] = __('Expiry', 'dealsindia');
    $new_columns['deal_status'] = __('Status', 'dealsindia');
    
    // Keep date
    $new_columns['date'] = $columns['date'];
    
    return $new_columns;
}
add_filter('manage_deals_posts_columns', 'arrzone_deals_admin_columns');

/**
 * Populate custom admin columns
 */
function arrzone_deals_admin_column_content($column, $post_id) {
    switch ($column) {
        case 'deal_image':
            if (has_post_thumbnail($post_id)) {
                echo get_the_post_thumbnail($post_id, array(60, 60));
            } else {
                echo '—';
            }
            break;
            
        case 'deal_price':
            $sale_price = get_post_meta($post_id, 'deal_sale_price', true);
            $original_price = get_post_meta($post_id, 'deal_original_price', true);
            
            if ($sale_price) {
                echo '<strong>₹' . number_format($sale_price) . '</strong>';
                if ($original_price && $original_price > $sale_price) {
                    echo '<br><del>₹' . number_format($original_price) . '</del>';
                }
            } else {
                echo '—';
            }
            break;
            
        case 'deal_discount':
            $sale_price = get_post_meta($post_id, 'deal_sale_price', true);
            $original_price = get_post_meta($post_id, 'deal_original_price', true);
            
            if ($original_price && $sale_price && $original_price > $sale_price) {
                $discount = round((($original_price - $sale_price) / $original_price) * 100);
                echo '<span class="button button-small">' . $discount . '% OFF</span>';
            } else {
                echo '—';
            }
            break;
            
        case 'deal_store':
            $stores = get_the_terms($post_id, 'store');
            if ($stores && !is_wp_error($stores)) {
                $store_names = array();
                foreach ($stores as $store) {
                    $store_names[] = '<a href="' . esc_url(admin_url('edit.php?post_type=deals&store=' . $store->slug)) . '">' . esc_html($store->name) . '</a>';
                }
                echo implode(', ', $store_names);
            } else {
                echo '—';
            }
            break;
            
        case 'deal_category':
            $categories = get_the_terms($post_id, 'deal_category');
            if ($categories && !is_wp_error($categories)) {
                $cat_names = array();
                foreach ($categories as $cat) {
                    $cat_names[] = '<a href="' . esc_url(admin_url('edit.php?post_type=deals&deal_category=' . $cat->slug)) . '">' . esc_html($cat->name) . '</a>';
                }
                echo implode(', ', $cat_names);
            } else {
                echo '—';
            }
            break;
            
        case 'deal_type':
            $types = get_the_terms($post_id, 'deal_type');
            if ($types && !is_wp_error($types)) {
                $type_names = array();
                foreach ($types as $type) {
                    // Extract emoji if present
                    $name_parts = explode(' ', $type->name, 2);
                    $display_name = isset($name_parts[1]) ? $name_parts[0] . ' ' . $name_parts[1] : $type->name;
                    $type_names[] = '<span class="button button-small">' . esc_html($display_name) . '</span>';
                }
                echo implode(' ', $type_names);
            } else {
                echo '—';
            }
            break;
            
        case 'deal_expiry':
            $expiry_date = get_post_meta($post_id, 'deal_expiry_date', true);
            if ($expiry_date) {
                $expiry_timestamp = strtotime($expiry_date);
                $current_timestamp = current_time('timestamp');
                $is_expired = ($current_timestamp > $expiry_timestamp);
                
                if ($is_expired) {
                    echo '<span class="dashicons dashicons-no-alt"></span> <strong>Expired</strong><br>';
                    echo '<small>' . date_i18n(get_option('date_format'), $expiry_timestamp) . '</small>';
                } else {
                    $days_left = floor(($expiry_timestamp - $current_timestamp) / 86400);
                    if ($days_left > 7) {
                        echo '<span class="dashicons dashicons-yes-alt"></span> ' . $days_left . ' days';
                    } elseif ($days_left > 0) {
                        echo '<span class="dashicons dashicons-warning"></span> ' . $days_left . ' days';
                    } else {
                        echo '<span class="dashicons dashicons-clock"></span> Expires today!';
                    }
                    echo '<br><small>' . date_i18n(get_option('date_format'), $expiry_timestamp) . '</small>';
                }
            } else {
                echo 'No expiry';
            }
            break;
            
        case 'deal_status':
            $coupon_code = get_post_meta($post_id, 'deal_coupon_code', true);
            $affiliate_link = get_post_meta($post_id, 'deal_affiliate_link', true);
            
            if ($coupon_code) {
                echo '<span class="dashicons dashicons-tickets-alt"></span> Code<br>';
            }
            
            if ($affiliate_link) {
                echo '<span class="dashicons dashicons-admin-links"></span> Link';
            }
            
            if (!$coupon_code && !$affiliate_link) {
                echo '⚠️ Incomplete';
            }
            break;
    }
}
add_action('manage_deals_posts_custom_column', 'arrzone_deals_admin_column_content', 10, 2);

/**
 * Make custom columns sortable
 */
function arrzone_deals_sortable_columns($columns) {
    $columns['deal_expiry'] = 'deal_expiry_date';
    $columns['deal_price'] = 'deal_sale_price';
    return $columns;
}
add_filter('manage_edit-deals_sortable_columns', 'arrzone_deals_sortable_columns');

/**
 * Handle sorting by custom meta
 */
function arrzone_deals_orderby_custom($query) {
    if (!is_admin() || !$query->is_main_query()) {
        return;
    }
    
    $orderby = $query->get('orderby');
    
    if ('deal_expiry_date' === $orderby) {
        $query->set('meta_key', 'deal_expiry_date');
        $query->set('orderby', 'meta_value');
    }
    
    if ('deal_sale_price' === $orderby) {
        $query->set('meta_key', 'deal_sale_price');
        $query->set('orderby', 'meta_value_num');
    }
}
add_action('pre_get_posts', 'arrzone_deals_orderby_custom');

// =====================================================
// SECTION 2: DASHBOARD ANALYTICS WIDGET
// =====================================================

/**
 * Add analytics dashboard widget
 */
function arrzone_add_analytics_widget() {
    wp_add_dashboard_widget(
        'arrzone_analytics_widget',
        __('📊 ARRZone Analytics', 'dealsindia'),
        'arrzone_analytics_widget_content'
    );
}
add_action('wp_dashboard_setup', 'arrzone_add_analytics_widget');

/**
 * Analytics widget content - Uses WordPress native admin classes
 */
function arrzone_analytics_widget_content() {
    // Get counts
    $total_deals = wp_count_posts('deals')->publish;
    $total_giveaways = wp_count_posts('giveaway')->publish;
    $total_categories = wp_count_terms('deal_category', array('hide_empty' => false));
    $total_stores = wp_count_terms('store', array('hide_empty' => false));
    
    // Get expired deals count
    $expired_deals_query = new WP_Query(array(
        'post_type' => 'deals',
        'post_status' => 'publish',
        'posts_per_page' => -1,
        'meta_query' => array(
            array(
                'key' => 'deal_expiry_date',
                'value' => current_time('Y-m-d'),
                'compare' => '<',
                'type' => 'DATE'
            )
        ),
        'fields' => 'ids'
    ));
    $expired_count = $expired_deals_query->found_posts;
    
    // Get deals expiring soon (next 7 days)
    $expiring_soon_query = new WP_Query(array(
        'post_type' => 'deals',
        'post_status' => 'publish',
        'posts_per_page' => -1,
        'meta_query' => array(
            array(
                'key' => 'deal_expiry_date',
                'value' => array(
                    current_time('Y-m-d'),
                    date('Y-m-d', strtotime('+7 days'))
                ),
                'compare' => 'BETWEEN',
                'type' => 'DATE'
            )
        ),
        'fields' => 'ids'
    ));
    $expiring_soon_count = $expiring_soon_query->found_posts;
    
    ?>
    <div class="arrzone-analytics-widget">
        <table class="widefat striped">
            <tbody>
                <tr>
                    <td><strong>🎟️ Total Deals</strong></td>
                    <td><span class="button button-primary button-large disabled"><?php echo number_format($total_deals); ?></span></td>
                </tr>
                <tr>
                    <td><strong>🎁 Giveaways</strong></td>
                    <td><span class="button button-primary button-large disabled"><?php echo number_format($total_giveaways); ?></span></td>
                </tr>
                <tr>
                    <td><strong>🏪 Stores</strong></td>
                    <td><span class="button button-primary button-large disabled"><?php echo number_format($total_stores); ?></span></td>
                </tr>
                <tr>
                    <td><strong>📂 Categories</strong></td>
                    <td><span class="button button-primary button-large disabled"><?php echo number_format($total_categories); ?></span></td>
                </tr>
            </tbody>
        </table>
        
        <?php if ($expired_count > 0 || $expiring_soon_count > 0) : ?>
        <hr>
        <h4>⚠️ Alerts</h4>
        
        <?php if ($expired_count > 0) : ?>
        <div class="notice notice-error inline">
            <p>
                <span class="dashicons dashicons-no-alt"></span>
                <strong><?php echo $expired_count; ?></strong> deal<?php echo $expired_count > 1 ? 's have' : ' has'; ?> expired
                <a href="<?php echo esc_url(admin_url('edit.php?post_type=deals&expired=1')); ?>" class="button button-small">View →</a>
            </p>
        </div>
        <?php endif; ?>
        
        <?php if ($expiring_soon_count > 0) : ?>
        <div class="notice notice-warning inline">
            <p>
                <span class="dashicons dashicons-warning"></span>
                <strong><?php echo $expiring_soon_count; ?></strong> deal<?php echo $expiring_soon_count > 1 ? 's are' : ' is'; ?> expiring soon
                <a href="<?php echo esc_url(admin_url('edit.php?post_type=deals&expiring_soon=1')); ?>" class="button button-small">View →</a>
            </p>
        </div>
        <?php endif; ?>
        <?php endif; ?>
        
        <p>
            <a href="<?php echo esc_url(admin_url('edit.php?post_type=deals')); ?>" class="button button-primary button-hero">
                Manage All Deals →
            </a>
        </p>
    </div>
    <?php
}

// =====================================================
// SECTION 3: CACHE MANAGEMENT
// =====================================================

/**
 * Clear all transient caches
 */
function arrzone_clear_all_caches() {
    global $wpdb;
    
    // Delete all ARRZone transients
    $wpdb->query("DELETE FROM {$wpdb->options} WHERE option_name LIKE '_transient_arrzone_%' OR option_name LIKE '_transient_timeout_arrzone_%'");
    
    // Clear object cache if available
    if (function_exists('wp_cache_flush')) {
        wp_cache_flush();
    }
    
    return true;
}

/**
 * Add cache clear button to admin bar
 */
function arrzone_admin_bar_cache_button($wp_admin_bar) {
    if (!current_user_can('manage_options')) {
        return;
    }
    
    $wp_admin_bar->add_node(array(
        'id' => 'arrzone-clear-cache',
        'title' => '🗑️ Clear Cache',
        'href' => wp_nonce_url(admin_url('admin-post.php?action=arrzone_clear_cache'), 'arrzone_clear_cache'),
        'meta' => array(
            'title' => __('Clear all ARRZone caches', 'dealsindia')
        )
    ));
}
add_action('admin_bar_menu', 'arrzone_admin_bar_cache_button', 999);

/**
 * Handle cache clear request
 */
function arrzone_handle_clear_cache() {
    if (!current_user_can('manage_options')) {
        wp_die(__('You do not have permission to clear cache.', 'dealsindia'));
    }
    
    check_admin_referer('arrzone_clear_cache');
    
    arrzone_clear_all_caches();
    
    wp_redirect(add_query_arg('cache_cleared', '1', wp_get_referer()));
    exit;
}
add_action('admin_post_arrzone_clear_cache', 'arrzone_handle_clear_cache');

/**
 * Show cache cleared notice
 */
function arrzone_cache_cleared_notice() {
    if (isset($_GET['cache_cleared']) && sanitize_text_field($_GET['cache_cleared']) == '1') {

        ?>
        <div class="notice notice-success is-dismissible">
            <p><strong>✅ <?php _e('Cache cleared successfully!', 'dealsindia'); ?></strong></p>
        </div>
        <?php
    }
}
add_action('admin_notices', 'arrzone_cache_cleared_notice');

/**
 * Auto-clear cache when deal is saved
 */
function arrzone_auto_clear_cache_on_save($post_id, $post, $update) {
    if ($post->post_type === 'deals' && $post->post_status === 'publish') {
        // Clear specific deal caches
        delete_transient('arrzone_hot_picks');
        delete_transient('arrzone_recent_deals');
        delete_transient('arrzone_featured_deals');
        
        // Clear category/store caches if they exist
        $categories = get_the_terms($post_id, 'deal_category');
        if ($categories && !is_wp_error($categories)) {
            foreach ($categories as $cat) {
                delete_transient('arrzone_category_deals_' . $cat->slug);
            }
        }
        
        $stores = get_the_terms($post_id, 'store');
        if ($stores && !is_wp_error($stores)) {
            foreach ($stores as $store) {
                delete_transient('arrzone_store_deals_' . $store->slug);
            }
        }
    }
}
add_action('save_post', 'arrzone_auto_clear_cache_on_save', 10, 3);

// =====================================================
// SECTION 4: NEWSLETTER ADMIN
// =====================================================

/**
 * Add newsletter subscribers custom post type (for admin tracking)
 */
function arrzone_register_newsletter_cpt() {
    register_post_type('newsletter_sub', array(
        'labels' => array(
            'name' => __('Newsletter Subscribers', 'dealsindia'),
            'singular_name' => __('Subscriber', 'dealsindia'),
            'add_new' => __('Add Subscriber', 'dealsindia'),
            'add_new_item' => __('Add New Subscriber', 'dealsindia'),
            'edit_item' => __('Edit Subscriber', 'dealsindia'),
            'view_item' => __('View Subscriber', 'dealsindia'),
            'search_items' => __('Search Subscribers', 'dealsindia'),
        ),
        'public' => false,
        'show_ui' => true,
        'show_in_menu' => true,
        'menu_icon' => 'dashicons-email',
        'capability_type' => 'post',
        'supports' => array('title', 'custom-fields'),
        'has_archive' => false,
        'rewrite' => false,
    ));
}
add_action('init', 'arrzone_register_newsletter_cpt');

/**
 * Custom columns for newsletter subscribers
 */
function arrzone_newsletter_admin_columns($columns) {
    return array(
        'cb' => $columns['cb'],
        'title' => __('Email Address', 'dealsindia'),
        'sub_date' => __('Subscribed On', 'dealsindia'),
        'sub_source' => __('Source', 'dealsindia'),
        'sub_status' => __('Status', 'dealsindia'),
    );
}
add_filter('manage_newsletter_sub_posts_columns', 'arrzone_newsletter_admin_columns');

/**
 * Populate newsletter admin columns
 */
function arrzone_newsletter_column_content($column, $post_id) {
    switch ($column) {
        case 'sub_date':
            echo get_the_date('M j, Y g:i A', $post_id);
            break;
            
        case 'sub_source':
            $source = get_post_meta($post_id, 'subscriber_source', true);
            echo $source ? esc_html(ucfirst($source)) : '—';
            break;
            
        case 'sub_status':
            $status = get_post_meta($post_id, 'subscriber_status', true);
            $status = $status ? $status : 'active';
            
            if ($status === 'active') {
                echo '<span class="button button-primary button-small disabled">✅ Active</span>';
            } else {
                echo '<span class="button disabled">❌ Unsubscribed</span>';
            }
            break;
    }
}
add_action('manage_newsletter_sub_posts_custom_column', 'arrzone_newsletter_column_content', 10, 2);

/**
 * Add export subscribers button
 */
function arrzone_export_subscribers_button() {
    $screen = get_current_screen();
    
    if ($screen->id === 'edit-newsletter_sub') {
        ?>
        <script>
        jQuery(document).ready(function($) {
            $('.wrap h1').after('<a href="<?php echo esc_url(wp_nonce_url(admin_url('admin-post.php?action=arrzone_export_subscribers'), 'arrzone_export_subscribers')); ?>" class="page-title-action">📥 Export to CSV</a>');
        });
        </script>
        <?php
    }
}
add_action('admin_head', 'arrzone_export_subscribers_button');

/**
 * Handle subscriber export
 */
function arrzone_handle_export_subscribers() {
    if (!current_user_can('manage_options')) {
        wp_die(__('You do not have permission to export subscribers.', 'dealsindia'));
    }
    
    check_admin_referer('arrzone_export_subscribers');
    
    $subscribers = get_posts(array(
        'post_type' => 'newsletter_sub',
        'posts_per_page' => -1,
        'post_status' => 'publish',
        'orderby' => 'date',
        'order' => 'DESC'
    ));
    
    header('Content-Type: text/csv; charset=utf-8');
    header('Content-Disposition: attachment; filename=arrzone-subscribers-' . date('Y-m-d') . '.csv');
    
    $output = fopen('php://output', 'w');
    fputcsv($output, array('Email', 'Subscribed Date', 'Source', 'Status'));
    
    foreach ($subscribers as $sub) {
        $email = $sub->post_title;
        $date = get_the_date('Y-m-d H:i:s', $sub->ID);
        $source = get_post_meta($sub->ID, 'subscriber_source', true);
        $status = get_post_meta($sub->ID, 'subscriber_status', true);
        $status = $status ? $status : 'active';
        
        fputcsv($output, array($email, $date, $source, $status));
    }
    
    fclose($output);
    exit;
}
add_action('admin_post_arrzone_export_subscribers', 'arrzone_handle_export_subscribers');

// =====================================================
// END OF ADMIN SETUP
// =====================================================
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\ajax\filter-handler.php === 
<?php
if (!defined('ABSPATH')) exit;

/**
 * Deal Filters AJAX Handler
 * Processes filter requests and returns filtered deals
 * 
 * WORKING VERSION - Simplified Sorting Approach
 * Uses pre_get_posts for complex sorting scenarios
 * 
 * @package ARRZONE
 * @version 7.0 - Simplified & Working
 */

// =====================================================
// AJAX ACTION HOOKS
// =====================================================
add_action('wp_ajax_filter_deals', 'arrzone_ajax_filter_deals');
add_action('wp_ajax_nopriv_filter_deals', 'arrzone_ajax_filter_deals');


/**
 * Main AJAX handler for deal filtering
 */
function arrzone_ajax_filter_deals() {
    // =====================================================
    // 1. SECURITY CHECK
    // =====================================================
    if (!isset($_POST['nonce']) || !wp_verify_nonce($_POST['nonce'], 'dealsindia_filter_nonce')) {
        wp_send_json_error(array(
            'message' => __('Security check failed', 'dealsindia')
        ));
        return;
    }
    
    // =====================================================
    // 2. GET AND VALIDATE FILTERS
    // =====================================================
    $filters_json = isset($_POST['filters']) ? stripslashes($_POST['filters']) : '{}';
    $filters = json_decode($filters_json, true);
    
    if (!is_array($filters)) {
        wp_send_json_error(array(
            'message' => __('Invalid filter data', 'dealsindia')
        ));
        return;
    }
    
    // =====================================================
    // 3. BUILD WP_QUERY ARGUMENTS
    // =====================================================
    $query_args = array(
        'post_type' => 'deals',
        'post_status' => 'publish',
        'posts_per_page' => 20,
        'paged' => 1,
    );
    
    // =====================================================
    // 4. TAXONOMY QUERY
    // =====================================================
    $tax_query = array('relation' => 'AND');
    $has_taxonomy_filters = false;
    
    // Context
    if (!empty($filters['context']['type']) && !empty($filters['context']['slug'])) {
        $context_type = sanitize_text_field($filters['context']['type']);
        $context_slug = sanitize_text_field($filters['context']['slug']);
        
        $tax_query[] = array(
            'taxonomy' => $context_type,
            'field' => 'slug',
            'terms' => $context_slug,
        );
        $has_taxonomy_filters = true;
    }
    
    // Stores
    if (!empty($filters['stores']) && is_array($filters['stores'])) {
        $stores = array_map('sanitize_text_field', $filters['stores']);
        $tax_query[] = array(
            'taxonomy' => 'store',
            'field' => 'slug',
            'terms' => $stores,
            'operator' => 'IN',
        );
        $has_taxonomy_filters = true;
    }
    
    // Categories
    if (!empty($filters['categories']) && is_array($filters['categories'])) {
        $categories = array_map('sanitize_text_field', $filters['categories']);
        $tax_query[] = array(
            'taxonomy' => 'deal-category',
            'field' => 'slug',
            'terms' => $categories,
            'operator' => 'IN',
        );
        $has_taxonomy_filters = true;
    }
    
    // Deal types
    if (!empty($filters['dealTypes']) && is_array($filters['dealTypes'])) {
        $deal_types = array_map('sanitize_text_field', $filters['dealTypes']);
        $tax_query[] = array(
            'taxonomy' => 'deal-type',
            'field' => 'slug',
            'terms' => $deal_types,
            'operator' => 'IN',
        );
        $has_taxonomy_filters = true;
    }
    
    if ($has_taxonomy_filters) {
        $query_args['tax_query'] = $tax_query;
    }
    
    // =====================================================
    // 5. META QUERY (FILTERING ONLY)
    // =====================================================
    $meta_query = array('relation' => 'AND');
    $has_meta_filters = false;
    
    // Price filter
    if (!empty($filters['priceMin']) || !empty($filters['priceMax'])) {
        $price_min = !empty($filters['priceMin']) ? floatval($filters['priceMin']) : 0;
        $price_max = !empty($filters['priceMax']) ? floatval($filters['priceMax']) : 999999;
        
        $meta_query[] = array(
            'key' => 'deal_price',
            'value' => array($price_min, $price_max),
            'type' => 'NUMERIC',
            'compare' => 'BETWEEN',
        );
        $has_meta_filters = true;
    }
    
    // Discount filter
    if (!empty($filters['discountMin']) && intval($filters['discountMin']) > 0) {
        $meta_query[] = array(
            'key' => 'deal_discount_percentage',
            'value' => intval($filters['discountMin']),
            'type' => 'NUMERIC',
            'compare' => '>=',
        );
        $has_meta_filters = true;
    }
    
    // Status filter
    if (!empty($filters['status'])) {
        $today = current_time('Y-m-d');
        
        if ($filters['status'] === 'active') {
            $meta_query[] = array(
                'relation' => 'OR',
                array(
                    'key' => 'deal_expiry_date',
                    'value' => $today,
                    'compare' => '>=',
                    'type' => 'DATE',
                ),
                array(
                    'key' => 'deal_expiry_date',
                    'compare' => 'NOT EXISTS',
                ),
            );
            $has_meta_filters = true;
        } elseif ($filters['status'] === 'ending_soon') {
            $week_from_now = date('Y-m-d', strtotime('+7 days'));
            $meta_query[] = array(
                'key' => 'deal_expiry_date',
                'value' => array($today, $week_from_now),
                'compare' => 'BETWEEN',
                'type' => 'DATE',
            );
            $has_meta_filters = true;
        }
    }
    
    if ($has_meta_filters) {
        $query_args['meta_query'] = $meta_query;
    }
    
    // =====================================================
    // 6. SORTING - SIMPLIFIED WORKING VERSION
    // =====================================================
    $sort_by = isset($filters['sortBy']) ? sanitize_text_field($filters['sortBy']) : 'latest';
    
    switch ($sort_by) {
        case 'popular':
        case 'discount':
        case 'price_low':
        case 'price_high':
            // Store sort type for later SQL manipulation
            $query_args['arrzone_custom_sort'] = $sort_by;
            $query_args['orderby'] = 'date';
            $query_args['order'] = 'DESC';
            break;
            
        case 'latest':
        default:
            $query_args['orderby'] = 'date';
            $query_args['order'] = 'DESC';
            break;
    }
    
    // =====================================================
    // 7. EXECUTE QUERY WITH CUSTOM SORTING
    // =====================================================
    add_filter('posts_orderby', 'arrzone_custom_deal_sorting', 10, 2);
    $deals_query = new WP_Query($query_args);
    remove_filter('posts_orderby', 'arrzone_custom_deal_sorting', 10);
    
    // =====================================================
    // 8. GENERATE HTML OUTPUT
    // =====================================================
    ob_start();
    
    if ($deals_query->have_posts()) {
        while ($deals_query->have_posts()) {
            $deals_query->the_post();
            get_template_part('template-parts/deal-card');
        }
        wp_reset_postdata();
    } else {
        ?>
        <div class="no-deals-message">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="12" r="10" stroke-width="2"/>
                <line x1="15" y1="9" x2="9" y2="15" stroke-width="2"/>
                <line x1="9" y1="9" x2="15" y2="15" stroke-width="2"/>
            </svg>
            <h3><?php esc_html_e('No Deals Found', 'dealsindia'); ?></h3>
            <p><?php esc_html_e('Try adjusting your filters to see more results.', 'dealsindia'); ?></p>
        </div>
        <?php
    }
    
    $html = ob_get_clean();
    
    // =====================================================
    // 9. SEND SUCCESS RESPONSE
    // =====================================================
    wp_send_json_success(array(
        'html' => $html,
        'count' => $deals_query->found_posts,
        'max_pages' => $deals_query->max_num_pages,
    ));
}


/**
 * Custom sorting function using SQL
 * Handles price/discount/popular sorting properly
 */
function arrzone_custom_deal_sorting($orderby, $query) {
    // Only apply to our AJAX queries
    if (!isset($query->query_vars['arrzone_custom_sort'])) {
        return $orderby;
    }
    
    global $wpdb;
    $sort_type = $query->query_vars['arrzone_custom_sort'];
    
    switch ($sort_type) {
        case 'price_low':
            // Sort by price ASC, NULL values last
            $orderby = "
                CAST((
                    SELECT meta_value 
                    FROM {$wpdb->postmeta} 
                    WHERE {$wpdb->postmeta}.post_id = {$wpdb->posts}.ID 
                    AND {$wpdb->postmeta}.meta_key = 'deal_price'
                    LIMIT 1
                ) AS DECIMAL) ASC,
                {$wpdb->posts}.post_date DESC
            ";
            break;
            
        case 'price_high':
            // Sort by price DESC, NULL values last
            $orderby = "
                CAST((
                    SELECT meta_value 
                    FROM {$wpdb->postmeta} 
                    WHERE {$wpdb->postmeta}.post_id = {$wpdb->posts}.ID 
                    AND {$wpdb->postmeta}.meta_key = 'deal_price'
                    LIMIT 1
                ) AS DECIMAL) DESC,
                {$wpdb->posts}.post_date DESC
            ";
            break;
            
        case 'discount':
            // Sort by discount DESC, NULL values last
            $orderby = "
                CAST((
                    SELECT meta_value 
                    FROM {$wpdb->postmeta} 
                    WHERE {$wpdb->postmeta}.post_id = {$wpdb->posts}.ID 
                    AND {$wpdb->postmeta}.meta_key = 'deal_discount_percentage'
                    LIMIT 1
                ) AS DECIMAL) DESC,
                {$wpdb->posts}.post_date DESC
            ";
            break;
            
        case 'popular':
            // Sort by views DESC, NULL values last
            $orderby = "
                CAST((
                    SELECT meta_value 
                    FROM {$wpdb->postmeta} 
                    WHERE {$wpdb->postmeta}.post_id = {$wpdb->posts}.ID 
                    AND {$wpdb->postmeta}.meta_key = 'deal_views'
                    LIMIT 1
                ) AS DECIMAL) DESC,
                {$wpdb->posts}.post_date DESC
            ";
            break;
    }
    
    return $orderby;
}
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\helpers\deal-helpers.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Deal Helpers - Consolidated
 * 
 * Merges:
 * - deal-type-helpers.php (Deal type functions)
 * - expiry-helpers.php (Expiry/countdown logic)
 * - card-content-generator.php (Deal card content generation)
 * 
 * @package ARRZone
 * @version 1.0
 */

// Exit if accessed directly
if (!defined('ABSPATH')) {
    exit;
}

// =====================================================
// SECTION 1: DEAL TYPE FUNCTIONS
// =====================================================

/**
 * Get deal type emoji
 */
function dealsindia_get_deal_type_emoji($term_id) {
    $term = get_term($term_id, 'deal_type');
    if (!$term || is_wp_error($term)) {
        return '';
    }
    
    // Parse emoji from name (e.g., "🎟️ Coupons")
    $name_parts = explode(' ', $term->name, 2);
    if (mb_strlen($name_parts[0]) === 1 || preg_match('/[\x{1F600}-\x{1F64F}]/u', $name_parts[0])) {
        return $name_parts[0];
    }
    
    return '';
}

/**
 * Get deal type name without emoji
 */
function dealsindia_get_deal_type_name($term_id) {
    $term = get_term($term_id, 'deal_type');
    if (!$term || is_wp_error($term)) {
        return '';
    }
    
    $name_parts = explode(' ', $term->name, 2);
    return isset($name_parts[1]) ? $name_parts[1] : $term->name;
}

/**
 * Check if deal has specific type
 */
function dealsindia_has_deal_type($deal_id, $type_slug) {
    $types = get_the_terms($deal_id, 'deal_type');
    if (!$types || is_wp_error($types)) {
        return false;
    }
    
    foreach ($types as $type) {
        if ($type->slug === $type_slug) {
            return true;
        }
    }
    
    return false;
}

// =====================================================
// SECTION 2: EXPIRY & COUNTDOWN FUNCTIONS
// =====================================================

/**
 * Check if deal is expired
 */
function dealsindia_is_deal_expired($deal_id) {
    $expiry_date = get_post_meta($deal_id, 'deal_expiry_date', true);
    if (empty($expiry_date)) {
        return false;
    }
    
    return (current_time('timestamp') > strtotime($expiry_date));
}

/**
 * Get time remaining for deal
 */
function dealsindia_get_time_remaining($deal_id) {
    $expiry_date = get_post_meta($deal_id, 'deal_expiry_date', true);
    if (empty($expiry_date)) {
        return __('No expiry', 'dealsindia');
    }
    
    $expiry_timestamp = strtotime($expiry_date);
    $current_timestamp = current_time('timestamp');
    
    if ($current_timestamp > $expiry_timestamp) {
        return __('Expired', 'dealsindia');
    }
    
    $difference = $expiry_timestamp - $current_timestamp;
    $days = floor($difference / 86400);
    $hours = floor(($difference % 86400) / 3600);
    
    if ($days > 0) {
        return sprintf(__('%d days left', 'dealsindia'), $days);
    }
    
    if ($hours > 0) {
        return sprintf(__('%d hours left', 'dealsindia'), $hours);
    }
    
    return __('Ending soon', 'dealsindia');
}

/**
 * Get expiry status with styling
 */
function dealsindia_get_expiry_status($deal_id) {
    $expiry_date = get_post_meta($deal_id, 'deal_expiry_date', true);
    if (empty($expiry_date)) {
        return '';
    }
    
    $expiry_timestamp = strtotime($expiry_date);
    $current_timestamp = current_time('timestamp');
    $difference = $expiry_timestamp - $current_timestamp;
    $days_left = floor($difference / 86400);
    
    if ($current_timestamp > $expiry_timestamp) {
        return '<span class="expiry-status expired">Expired</span>';
    }
    
    if ($days_left <= 1) {
        return '<span class="expiry-status expiring-soon">Expiring soon</span>';
    }
    
    if ($days_left <= 7) {
        return '<span class="expiry-status expiring-this-week">' . $days_left . ' days left</span>';
    }
    
    return '<span class="expiry-status active">' . $days_left . ' days left</span>';
}

/**
 * Format expiry date for display
 */
function dealsindia_format_expiry_date($deal_id) {
    $expiry_date = get_post_meta($deal_id, 'deal_expiry_date', true);
    if (empty($expiry_date)) {
        return __('No expiry', 'dealsindia');
    }
    
    return date_i18n(get_option('date_format'), strtotime($expiry_date));
}

// =====================================================
// SECTION 3: DEAL CARD CONTENT GENERATION
// =====================================================

/**
 * Generate deal discount percentage
 */
function dealsindia_get_deal_discount($deal_id) {
    $original_price = get_post_meta($deal_id, 'deal_original_price', true);
    $sale_price = get_post_meta($deal_id, 'deal_sale_price', true);
    
    if (!$original_price || !$sale_price || $original_price <= $sale_price) {
        return 0;
    }
    
    return round((($original_price - $sale_price) / $original_price) * 100);
}

/**
 * Generate deal price display HTML
 */
function dealsindia_get_price_html($deal_id) {
    $sale_price = get_post_meta($deal_id, 'deal_sale_price', true);
    $original_price = get_post_meta($deal_id, 'deal_original_price', true);
    
    if (!$sale_price) {
        return '';
    }
    
    $html = '<div class="deal-prices">';
    $html .= '<span class="sale-price">₹' . number_format($sale_price) . '</span>';
    
    if ($original_price && $original_price > $sale_price) {
        $html .= ' <del class="original-price">₹' . number_format($original_price) . '</del>';
    }
    
    $html .= '</div>';
    
    return $html;
}

/**
 * Get deal badge HTML
 */
function dealsindia_get_deal_badge($deal_id) {
    $badge_text = get_post_meta($deal_id, 'deal_badge', true);
    
    if (empty($badge_text)) {
        return '';
    }
    
    return '<span class="deal-badge">' . esc_html($badge_text) . '</span>';
}

/**
 * Get deal store logo
 */
function dealsindia_get_store_logo($deal_id, $size = 'thumbnail') {
    $stores = get_the_terms($deal_id, 'store');
    
    if (!$stores || is_wp_error($stores)) {
        return '';
    }
    
    $store = array_shift($stores);
    $logo = get_term_meta($store->term_id, 'store_logo', true);
    
    if (!$logo) {
        return '';
    }
    
    return '<img src="' . esc_url($logo) . '" alt="' . esc_attr($store->name) . '" class="store-logo">';
}

/**
 * Generate full deal card content
 */
function dealsindia_generate_deal_card_content($deal_id) {
    $discount = dealsindia_get_deal_discount($deal_id);
    $prices = dealsindia_get_price_html($deal_id);
    $badge = dealsindia_get_deal_badge($deal_id);
    $expiry = dealsindia_get_expiry_status($deal_id);
    $store_logo = dealsindia_get_store_logo($deal_id);
    
    return array(
        'discount' => $discount,
        'prices' => $prices,
        'badge' => $badge,
        'expiry' => $expiry,
        'store_logo' => $store_logo
    );
}

// =====================================================
// END OF DEAL HELPERS
// =====================================================
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\helpers\template-helpers.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Template Helpers - Consolidated & Enhanced
 * 
 * Merges:
 * - breadcrumb-helpers.php (Breadcrumb navigation)
 * - search-helpers.php (Search functionality)
 * - social-share.php (Social sharing buttons)
 * - template-helpers.php (General template functions)
 * - menu-helpers.php (Navigation fallback)
 * 
 * @package ARRZONE
 * @version 2.0 - Production Ready
 */

// Exit if accessed directly
if (!defined('ABSPATH')) {
    exit;
}

// =====================================================
// SECTION 1: NAVIGATION & MENU FUNCTIONS (NEW)
// =====================================================

/**
 * Fallback Menu for Primary Navigation
 * Shows when no menu is assigned to primary location
 * Automatically generates menu from post types and taxonomies
 */
function dealsindia_fallback_menu() {
    echo '<ul>';
    
    // Home Link
    echo '<li><a href="' . esc_url(home_url('/')) . '">' . esc_html__('Home', 'dealsindia') . '</a></li>';
    
    // Deals Archive Link
    $deals_link = get_post_type_archive_link('deals');
    if ($deals_link) {
        echo '<li><a href="' . esc_url($deals_link) . '">' . esc_html__('Deals', 'dealsindia') . '</a></li>';
    }
    
    // Categories Dropdown
    $categories = get_terms(array(
        'taxonomy'   => 'deal-category',
        'number'     => 5,
        'hide_empty' => true,
        'orderby'    => 'count',
        'order'      => 'DESC'
    ));
    
    if (!empty($categories) && !is_wp_error($categories)) {
        echo '<li class="menu-item-has-children">';
        echo '<a href="#">' . esc_html__('Categories', 'dealsindia') . '</a>';
        echo '<ul class="sub-menu">';
        foreach ($categories as $category) {
            echo '<li><a href="' . esc_url(get_term_link($category)) . '">' . esc_html($category->name) . '</a></li>';
        }
        echo '</ul>';
        echo '</li>';
    }
    
    // Stores Dropdown
    $stores = get_terms(array(
        'taxonomy'   => 'store',
        'number'     => 5,
        'hide_empty' => true,
        'orderby'    => 'count',
        'order'      => 'DESC'
    ));
    
    if (!empty($stores) && !is_wp_error($stores)) {
        echo '<li class="menu-item-has-children">';
        echo '<a href="#">' . esc_html__('Stores', 'dealsindia') . '</a>';
        echo '<ul class="sub-menu">';
        foreach ($stores as $store) {
            echo '<li><a href="' . esc_url(get_term_link($store)) . '">' . esc_html($store->name) . '</a></li>';
        }
        echo '</ul>';
        echo '</li>';
    }
    
    // Giveaways Link (if post type exists)
    $giveaways_link = get_post_type_archive_link('giveaway');
    if ($giveaways_link) {
        echo '<li><a href="' . esc_url($giveaways_link) . '">' . esc_html__('Giveaways', 'dealsindia') . '</a></li>';
    }
    
    echo '</ul>';
}

/**
 * Check if menu has items
 */
function dealsindia_has_menu_items($location) {
    $locations = get_nav_menu_locations();
    if (isset($locations[$location])) {
        $menu = wp_get_nav_menu_object($locations[$location]);
        if ($menu && wp_get_nav_menu_items($menu->term_id)) {
            return true;
        }
    }
    return false;
}

// =====================================================
// SECTION 2: BREADCRUMB FUNCTIONS
// =====================================================

/**
 * Display breadcrumb navigation
 * Enhanced with schema.org markup for SEO
 */
function dealsindia_breadcrumb() {
    if (is_front_page()) {
        return;
    }
    
    $breadcrumb = array();
    $breadcrumb[] = '<a href="' . esc_url(home_url('/')) . '">' . esc_html__('Home', 'dealsindia') . '</a>';
    
    if (is_singular('deals')) {
        $breadcrumb[] = '<a href="' . esc_url(get_post_type_archive_link('deals')) . '">' . esc_html__('Deals', 'dealsindia') . '</a>';
        
        $categories = get_the_terms(get_the_ID(), 'deal-category');
        if ($categories && !is_wp_error($categories)) {
            $category = array_shift($categories);
            $breadcrumb[] = '<a href="' . esc_url(get_term_link($category)) . '">' . esc_html($category->name) . '</a>';
        }
        
        $breadcrumb[] = '<span>' . esc_html(get_the_title()) . '</span>';
    }
    elseif (is_singular('giveaway')) {
        $breadcrumb[] = '<a href="' . esc_url(get_post_type_archive_link('giveaway')) . '">' . esc_html__('Giveaways', 'dealsindia') . '</a>';
        $breadcrumb[] = '<span>' . esc_html(get_the_title()) . '</span>';
    }
    elseif (is_post_type_archive('deals')) {
        $breadcrumb[] = '<span>' . esc_html__('All Deals', 'dealsindia') . '</span>';
    }
    elseif (is_tax('deal-category')) {
        $term = get_queried_object();
        $breadcrumb[] = '<a href="' . esc_url(get_post_type_archive_link('deals')) . '">' . esc_html__('Deals', 'dealsindia') . '</a>';
        $breadcrumb[] = '<span>' . esc_html($term->name) . '</span>';
    }
    elseif (is_tax('store')) {
        $term = get_queried_object();
        $breadcrumb[] = '<a href="' . esc_url(home_url('/stores/')) . '">' . esc_html__('Stores', 'dealsindia') . '</a>';
        $breadcrumb[] = '<span>' . esc_html($term->name) . '</span>';
    }
    elseif (is_tax('deal-type')) {
        $term = get_queried_object();
        $breadcrumb[] = '<a href="' . esc_url(get_post_type_archive_link('deals')) . '">' . esc_html__('Deals', 'dealsindia') . '</a>';
        $breadcrumb[] = '<span>' . esc_html($term->name) . '</span>';
    }
    elseif (is_page()) {
        $breadcrumb[] = '<span>' . esc_html(get_the_title()) . '</span>';
    }
    elseif (is_search()) {
        $breadcrumb[] = '<span>' . sprintf(esc_html__('Search Results for: %s', 'dealsindia'), esc_html(get_search_query())) . '</span>';
    }
    elseif (is_404()) {
        $breadcrumb[] = '<span>' . esc_html__('Page Not Found', 'dealsindia') . '</span>';
    }
    
    echo '<nav class="breadcrumb" aria-label="' . esc_attr__('Breadcrumb', 'dealsindia') . '" itemscope itemtype="https://schema.org/BreadcrumbList">';
    echo '<ol class="breadcrumb-list">';
    
    foreach ($breadcrumb as $index => $crumb) {
        $position = $index + 1;
        $is_last = ($index === count($breadcrumb) - 1);
        
        echo '<li class="breadcrumb-item' . ($is_last ? ' active' : '') . '" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">';
        echo $crumb;
        echo '<meta itemprop="position" content="' . esc_attr($position) . '">';
        echo '</li>';
    }
    
    echo '</ol>';
    echo '</nav>';
}

/**
 * Get breadcrumb array (for structured data)
 */
function dealsindia_get_breadcrumb_array() {
    $breadcrumb = array(
        array(
            'name' => __('Home', 'dealsindia'),
            'url' => home_url('/')
        )
    );
    
    if (is_singular('deals')) {
        $breadcrumb[] = array(
            'name' => __('Deals', 'dealsindia'),
            'url' => get_post_type_archive_link('deals')
        );
        
        $categories = get_the_terms(get_the_ID(), 'deal-category');
        if ($categories && !is_wp_error($categories)) {
            $category = array_shift($categories);
            $breadcrumb[] = array(
                'name' => $category->name,
                'url' => get_term_link($category)
            );
        }
        
        $breadcrumb[] = array(
            'name' => get_the_title(),
            'url' => get_permalink()
        );
    }
    
    return $breadcrumb;
}

// =====================================================
// SECTION 3: SEARCH FUNCTIONS
// =====================================================

/**
 * Custom search query for deals
 * Enhanced with meta query support
 */
function dealsindia_search_deals($search_query, $args = array()) {
    $default_args = array(
        'post_type' => 'deals',
        'post_status' => 'publish',
        's' => sanitize_text_field($search_query),
        'posts_per_page' => 20,
        'orderby' => 'relevance',
        'order' => 'DESC'
    );
    
    $args = wp_parse_args($args, $default_args);
    
    return new WP_Query($args);
}

/**
 * Search autocomplete suggestions
 * AJAX-ready function for live search
 */
function dealsindia_get_search_suggestions($query) {
    $query = sanitize_text_field($query);
    $suggestions = array();
    
    // Search deals
    $deals = get_posts(array(
        'post_type' => 'deals',
        'posts_per_page' => 5,
        's' => $query,
        'post_status' => 'publish'
    ));
    
    foreach ($deals as $deal) {
        $suggestions[] = array(
            'title' => $deal->post_title,
            'url' => get_permalink($deal->ID),
            'type' => 'deal',
            'thumbnail' => get_the_post_thumbnail_url($deal->ID, 'thumbnail')
        );
    }
    
    // Search categories
    $categories = get_terms(array(
        'taxonomy' => 'deal-category',
        'name__like' => $query,
        'number' => 3,
        'hide_empty' => true
    ));
    
    if (!is_wp_error($categories)) {
        foreach ($categories as $category) {
            $suggestions[] = array(
                'title' => $category->name,
                'url' => get_term_link($category),
                'type' => 'category',
                'count' => $category->count
            );
        }
    }
    
    // Search stores
    $stores = get_terms(array(
        'taxonomy' => 'store',
        'name__like' => $query,
        'number' => 3,
        'hide_empty' => true
    ));
    
    if (!is_wp_error($stores)) {
        foreach ($stores as $store) {
            $logo = get_term_meta($store->term_id, 'store_logo', true);
            $suggestions[] = array(
                'title' => $store->name,
                'url' => get_term_link($store),
                'type' => 'store',
                'logo' => $logo,
                'count' => $store->count
            );
        }
    }
    
    return $suggestions;
}

/**
 * Highlight search terms in content
 * Useful for search results pages
 */
function dealsindia_highlight_search_terms($text, $search_query) {
    if (empty($search_query)) {
        return $text;
    }
    
    $words = explode(' ', $search_query);
    
    foreach ($words as $word) {
        $word = trim($word);
        if (strlen($word) < 3) continue;
        
        $text = preg_replace(
            '/\b(' . preg_quote($word, '/') . ')\b/i',
            '<mark>$1</mark>',
            $text
        );
    }
    
    return $text;
}

// =====================================================
// SECTION 4: SOCIAL SHARE FUNCTIONS
// =====================================================

/**
 * Display social share buttons
 * Enhanced with more platforms and analytics tracking
 */
function dealsindia_social_share_buttons($args = array()) {
    global $post;
    if (!$post) return;
    
    $defaults = array(
        'title' => get_the_title(),
        'url' => get_permalink(),
        'show_label' => true,
        'platforms' => array('facebook', 'twitter', 'whatsapp', 'telegram', 'linkedin')
    );
    
    $args = wp_parse_args($args, $defaults);
    
    $url = urlencode($args['url']);
    $title = urlencode($args['title']);
    
    echo '<div class="social-share-buttons">';
    
    if ($args['show_label']) {
        echo '<span class="share-label">' . esc_html__('Share:', 'dealsindia') . '</span>';
    }
    
    // Facebook
    if (in_array('facebook', $args['platforms'])) {
        echo '<a href="https://www.facebook.com/sharer/sharer.php?u=' . $url . '" target="_blank" rel="noopener noreferrer" class="share-btn share-facebook" aria-label="' . esc_attr__('Share on Facebook', 'dealsindia') . '" onclick="dealsindia_track_share(\'facebook\')">';
        echo '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>';
        echo '</a>';
    }
    
    // Twitter
    if (in_array('twitter', $args['platforms'])) {
        echo '<a href="https://twitter.com/intent/tweet?url=' . $url . '&text=' . $title . '" target="_blank" rel="noopener noreferrer" class="share-btn share-twitter" aria-label="' . esc_attr__('Share on Twitter', 'dealsindia') . '" onclick="dealsindia_track_share(\'twitter\')">';
        echo '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>';
        echo '</a>';
    }
    
    // WhatsApp
    if (in_array('whatsapp', $args['platforms'])) {
        echo '<a href="https://api.whatsapp.com/send?text=' . $title . '%20' . $url . '" target="_blank" rel="noopener noreferrer" class="share-btn share-whatsapp" aria-label="' . esc_attr__('Share on WhatsApp', 'dealsindia') . '" onclick="dealsindia_track_share(\'whatsapp\')">';
        echo '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>';
        echo '</a>';
    }
    
    // Telegram
    if (in_array('telegram', $args['platforms'])) {
        echo '<a href="https://t.me/share/url?url=' . $url . '&text=' . $title . '" target="_blank" rel="noopener noreferrer" class="share-btn share-telegram" aria-label="' . esc_attr__('Share on Telegram', 'dealsindia') . '" onclick="dealsindia_track_share(\'telegram\')">';
        echo '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>';
        echo '</a>';
    }
    
    // LinkedIn
    if (in_array('linkedin', $args['platforms'])) {
        echo '<a href="https://www.linkedin.com/sharing/share-offsite/?url=' . $url . '" target="_blank" rel="noopener noreferrer" class="share-btn share-linkedin" aria-label="' . esc_attr__('Share on LinkedIn', 'dealsindia') . '" onclick="dealsindia_track_share(\'linkedin\')">';
        echo '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>';
        echo '</a>';
    }
    
    echo '</div>';
}

/**
 * Get share count
 */
function dealsindia_get_share_count($post_id) {
    $count = get_post_meta($post_id, 'share_count', true);
    return $count ? intval($count) : 0;
}

/**
 * Increment share count
 */
function dealsindia_increment_share_count($post_id) {
    $count = dealsindia_get_share_count($post_id);
    update_post_meta($post_id, 'share_count', $count + 1);
}

// =====================================================
// SECTION 5: GENERAL TEMPLATE FUNCTIONS
// =====================================================

/**
 * Get customizer value with fallback
 */
function dealsindia_get_option($option_name, $default = '') {
    return get_theme_mod($option_name, $default);
}

/**
 * Display featured image with fallback placeholder
 */
function dealsindia_post_thumbnail($size = 'large', $class = '', $post_id = null) {
    if (!$post_id) {
        $post_id = get_the_ID();
    }
    
    if (has_post_thumbnail($post_id)) {
        echo get_the_post_thumbnail($post_id, $size, array('class' => $class));
    } else {
        echo '<div class="no-image-placeholder ' . esc_attr($class) . '">';
        echo '<svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">';
        echo '<rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>';
        echo '<circle cx="8.5" cy="8.5" r="1.5"/>';
        echo '<polyline points="21 15 16 10 5 21"/>';
        echo '</svg>';
        echo '</div>';
    }
}

/**
 * Get reading time estimate
 */
function dealsindia_reading_time($post_id = null) {
    if (!$post_id) {
        $post_id = get_the_ID();
    }
    
    $content = get_post_field('post_content', $post_id);
    $word_count = str_word_count(strip_tags($content));
    $minutes = max(1, ceil($word_count / 200));
    
    return sprintf(_n('%d min read', '%d mins read', $minutes, 'dealsindia'), $minutes);
}

/**
 * Pagination for archives with enhanced styling
 */
function dealsindia_pagination() {
    global $wp_query;
    
    if ($wp_query->max_num_pages <= 1) {
        return;
    }
    
    $current_page = max(1, get_query_var('paged'));
    
    echo '<nav class="pagination" aria-label="' . esc_attr__('Pagination', 'dealsindia') . '" role="navigation">';
    
    echo paginate_links(array(
        'base'      => str_replace(999999999, '%#%', esc_url(get_pagenum_link(999999999))),
        'format'    => '?paged=%#%',
        'current'   => $current_page,
        'total'     => $wp_query->max_num_pages,
        'prev_text' => '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="15 18 9 12 15 6"></polyline></svg> ' . esc_html__('Previous', 'dealsindia'),
        'next_text' => esc_html__('Next', 'dealsindia') . ' <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="9 18 15 12 9 6"></polyline></svg>',
        'type'      => 'list',
        'mid_size'  => 2,
        'end_size'  => 1,
    ));
    
    echo '</nav>';
}

/**
 * Truncate text with proper word boundary
 */
function dealsindia_truncate_text($text, $length = 150, $more = '...') {
    $text = strip_tags($text);
    
    if (strlen($text) <= $length) {
        return $text;
    }
    
    $text = substr($text, 0, $length);
    $last_space = strrpos($text, ' ');
    
    if ($last_space !== false) {
        $text = substr($text, 0, $last_space);
    }
    
    return trim($text) . $more;
}

/**
 * Format price with currency
 */
function dealsindia_format_price($price, $currency = '₹') {
    if (empty($price)) {
        return '';
    }
    
    // Remove any non-numeric characters except dot and comma
    $price = preg_replace('/[^0-9.,]/', '', $price);
    
    // Convert to float
    $price = floatval(str_replace(',', '', $price));
    
    // Format with Indian number system
    return $currency . number_format($price, 0, '.', ',');
}

/**
 * Calculate discount percentage
 */
function dealsindia_calculate_discount($original_price, $sale_price) {
    if (empty($original_price) || empty($sale_price)) {
        return 0;
    }
    
    $original = floatval($original_price);
    $sale = floatval($sale_price);
    
    if ($original <= 0) {
        return 0;
    }
    
    $discount = (($original - $sale) / $original) * 100;
    return round($discount);
}

/**
 * Time ago function
 */
function dealsindia_time_ago($time) {
    $time_difference = time() - $time;
    
    if ($time_difference < 1) {
        return __('just now', 'dealsindia');
    }
    
    $condition = array(
        12 * 30 * 24 * 60 * 60 =>  __('year', 'dealsindia'),
        30 * 24 * 60 * 60       =>  __('month', 'dealsindia'),
        24 * 60 * 60            =>  __('day', 'dealsindia'),
        60 * 60                 =>  __('hour', 'dealsindia'),
        60                      =>  __('minute', 'dealsindia'),
        1                       =>  __('second', 'dealsindia')
    );
    
    foreach ($condition as $secs => $str) {
        $d = $time_difference / $secs;
        
        if ($d >= 1) {
            $t = round($d);
            return sprintf(_n('%s %s ago', '%s %ss ago', $t, 'dealsindia'), $t, $str);
        }
    }
}

/**
 * Get view count for posts
 */
function dealsindia_get_view_count($post_id) {
    $count = get_post_meta($post_id, 'post_views_count', true);
    return $count ? intval($count) : 0;
}

/**
 * Increment view count
 */
function dealsindia_set_view_count($post_id) {
    $count = dealsindia_get_view_count($post_id);
    $count++;
    update_post_meta($post_id, 'post_views_count', $count);
}

/**
 * Format view count for display
 */
function dealsindia_format_view_count($count) {
    if ($count >= 1000000) {
        return round($count / 1000000, 1) . 'M';
    } elseif ($count >= 1000) {
        return round($count / 1000, 1) . 'K';
    }
    return $count;
}

// =====================================================
// END OF TEMPLATE HELPERS
// =====================================================
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\helpers\utilities.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Utilities - Consolidated (Deduplicated)
 * 
 * Merges:
 * - text-helpers.php (Text manipulation)
 * - performance-helpers.php (Caching & optimization)
 * - newsletter-handler.php (Newsletter subscriptions)
 * - color-helpers.php (Color manipulation)
 * - analytics-tracker.php (Click tracking & analytics)
 * 
 * @package ARRZONE
 * @version 2.0 - Deduplicated
 */

// Exit if accessed directly
if (!defined('ABSPATH')) {
    exit;
}

// =====================================================
// SECTION 1: TEXT MANIPULATION FUNCTIONS
// =====================================================

/**
 * Sanitize and format text for display
 */
function dealsindia_sanitize_text($text) {
    return wp_kses_post(wpautop($text));
}

/**
 * Excerpt with custom length
 */
function dealsindia_custom_excerpt($text, $length = 100) {
    if (strlen($text) <= $length) {
        return $text;
    }
    
    $text = strip_tags($text);
    $text = substr($text, 0, $length);
    $last_space = strrpos($text, ' ');
    
    if ($last_space !== false) {
        $text = substr($text, 0, $last_space);
    }
    
    return $text . '...';
}

/**
 * Convert to title case
 */
function dealsindia_title_case($string) {
    return ucwords(strtolower($string));
}

/**
 * Remove special characters from string
 */
function dealsindia_clean_string($string) {
    $string = preg_replace('/[^A-Za-z0-9\s-]/', '', $string);
    $string = preg_replace('/\s+/', ' ', $string);
    return trim($string);
}

/**
 * Slugify text
 */
function dealsindia_slugify($text) {
    $text = preg_replace('~[^\pL\d]+~u', '-', $text);
    $text = iconv('utf-8', 'us-ascii//TRANSLIT', $text);
    $text = preg_replace('~[^-\w]+~', '', $text);
    $text = trim($text, '-');
    $text = preg_replace('~-+~', '-', $text);
    $text = strtolower($text);
    
    return empty($text) ? 'n-a' : $text;
}

/**
 * Extract first paragraph from content
 */
function dealsindia_first_paragraph($content) {
    $content = wpautop($content);
    $paragraphs = explode('</p>', $content);
    
    if (!empty($paragraphs[0])) {
        return $paragraphs[0] . '</p>';
    }
    
    return $content;
}

// =====================================================
// SECTION 2: PERFORMANCE & CACHING FUNCTIONS
// =====================================================

/**
 * Get cached query results
 */
function dealsindia_get_cached_query($cache_key, $callback, $expiration = 3600) {
    $cached = get_transient($cache_key);
    
    if (false !== $cached) {
        return $cached;
    }
    
    $result = call_user_func($callback);
    set_transient($cache_key, $result, $expiration);
    
    return $result;
}

/**
 * Get cached expired deal IDs
 */
function dealsindia_get_cached_expired_ids() {
    $cache_key = 'dealsindia_expired_ids';
    $cached = get_transient($cache_key);
    
    if (false !== $cached) {
        return $cached;
    }
    
    global $wpdb;
    
    // Query all expired deal IDs
    $expired_ids = $wpdb->get_col($wpdb->prepare(
        "SELECT post_id FROM {$wpdb->postmeta} 
        WHERE meta_key = 'deal_expiry_date' 
        AND meta_value < %s",
        current_time('Y-m-d')
    ));
    
    // Cache for 1 hour
    set_transient($cache_key, $expired_ids, 3600);
    
    return $expired_ids ? $expired_ids : array();
}

/**
 * Clear specific cache
 */
function dealsindia_clear_cache($cache_key) {
    return delete_transient($cache_key);
}

/**
 * Clear all theme caches
 */
function dealsindia_clear_all_caches() {
    global $wpdb;
    
    $wpdb->query(
        "DELETE FROM {$wpdb->options} 
        WHERE option_name LIKE '_transient_dealsindia_%' 
        OR option_name LIKE '_transient_timeout_dealsindia_%'"
    );
    
    if (function_exists('wp_cache_flush')) {
        wp_cache_flush();
    }
    
    return true;
}

/**
 * Get cached deals query
 */
function dealsindia_get_cached_deals($args = array(), $cache_time = 1800) {
    $cache_key = 'dealsindia_deals_' . md5(serialize($args));
    
    return dealsindia_get_cached_query($cache_key, function() use ($args) {
        return new WP_Query($args);
    }, $cache_time);
}

/**
 * Optimize images on upload
 */
function dealsindia_optimize_image($file) {
    if (!function_exists('wp_get_image_editor')) {
        return $file;
    }
    
    $editor = wp_get_image_editor($file);
    
    if (!is_wp_error($editor)) {
        $editor->set_quality(85);
        $editor->save($file);
    }
    
    return $file;
}
add_filter('wp_handle_upload', 'dealsindia_optimize_image');

/**
 * Lazy load images
 */
function dealsindia_add_lazy_loading($content) {
    if (is_feed() || is_preview()) {
        return $content;
    }
    
    $content = preg_replace(
        '/<img(.*?)src=/i',
        '<img$1loading="lazy" src=',
        $content
    );
    
    return $content;
}
add_filter('the_content', 'dealsindia_add_lazy_loading');

// =====================================================
// SECTION 3: NEWSLETTER FUNCTIONS
// =====================================================

/**
 * Process newsletter subscription
 */
function dealsindia_process_newsletter_subscription() {
    if (!isset($_POST['dealsindia_newsletter_nonce']) || 
        !wp_verify_nonce($_POST['dealsindia_newsletter_nonce'], 'dealsindia_newsletter')) {
        wp_send_json_error(array('message' => __('Security check failed', 'dealsindia')));
    }
    
    $email = sanitize_email($_POST['email']);
    
    if (!is_email($email)) {
        wp_send_json_error(array('message' => __('Invalid email address', 'dealsindia')));
    }
    
    // Check if already subscribed
    $existing = get_posts(array(
        'post_type' => 'newsletter_sub',
        'title' => $email,
        'posts_per_page' => 1
    ));
    
    if (!empty($existing)) {
        wp_send_json_error(array('message' => __('You are already subscribed!', 'dealsindia')));
    }
    
    // Create subscriber post
    $subscriber_id = wp_insert_post(array(
        'post_type' => 'newsletter_sub',
        'post_title' => $email,
        'post_status' => 'publish'
    ));
    
    if ($subscriber_id) {
        update_post_meta($subscriber_id, 'subscriber_source', sanitize_text_field($_POST['source'] ?? 'footer'));
        update_post_meta($subscriber_id, 'subscriber_status', 'active');
        update_post_meta($subscriber_id, 'subscriber_ip', dealsindia_get_user_ip());
        
        wp_send_json_success(array('message' => __('Successfully subscribed!', 'dealsindia')));
    } else {
        wp_send_json_error(array('message' => __('Subscription failed. Please try again.', 'dealsindia')));
    }
}
add_action('wp_ajax_dealsindia_newsletter', 'dealsindia_process_newsletter_subscription');
add_action('wp_ajax_nopriv_dealsindia_newsletter', 'dealsindia_process_newsletter_subscription');

/**
 * Unsubscribe from newsletter
 */
function dealsindia_unsubscribe_newsletter($email) {
    $subscriber = get_posts(array(
        'post_type' => 'newsletter_sub',
        'title' => $email,
        'posts_per_page' => 1
    ));
    
    if (!empty($subscriber)) {
        update_post_meta($subscriber[0]->ID, 'subscriber_status', 'unsubscribed');
        return true;
    }
    
    return false;
}

/**
 * Get subscriber count
 */
function dealsindia_get_subscriber_count() {
    $count = wp_count_posts('newsletter_sub');
    return isset($count->publish) ? $count->publish : 0;
}

/**
 * Get user IP address
 */
function dealsindia_get_user_ip() {
    if (!empty($_SERVER['HTTP_CLIENT_IP'])) {
        $ip = $_SERVER['HTTP_CLIENT_IP'];
    } elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {
        $ip = $_SERVER['HTTP_X_FORWARDED_FOR'];
    } else {
        $ip = $_SERVER['REMOTE_ADDR'];
    }
    
    return sanitize_text_field($ip);
}

// =====================================================
// SECTION 4: COLOR MANIPULATION FUNCTIONS
// =====================================================

/**
 * Convert hex to RGB
 */
function dealsindia_hex_to_rgb($hex) {
    $hex = str_replace('#', '', $hex);
    
    if (strlen($hex) == 3) {
        $r = hexdec(substr($hex, 0, 1) . substr($hex, 0, 1));
        $g = hexdec(substr($hex, 1, 1) . substr($hex, 1, 1));
        $b = hexdec(substr($hex, 2, 1) . substr($hex, 2, 1));
    } else {
        $r = hexdec(substr($hex, 0, 2));
        $g = hexdec(substr($hex, 2, 2));
        $b = hexdec(substr($hex, 4, 2));
    }
    
    return array($r, $g, $b);
}

/**
 * Lighten color
 */
function dealsindia_lighten_color($hex, $percent) {
    $rgb = dealsindia_hex_to_rgb($hex);
    
    $r = min(255, $rgb[0] + ($percent / 100) * 255);
    $g = min(255, $rgb[1] + ($percent / 100) * 255);
    $b = min(255, $rgb[2] + ($percent / 100) * 255);
    
    return sprintf("#%02x%02x%02x", $r, $g, $b);
}

/**
 * Darken color
 */
function dealsindia_darken_color($hex, $percent) {
    $rgb = dealsindia_hex_to_rgb($hex);
    
    $r = max(0, $rgb[0] - ($percent / 100) * 255);
    $g = max(0, $rgb[1] - ($percent / 100) * 255);
    $b = max(0, $rgb[2] - ($percent / 100) * 255);
    
    return sprintf("#%02x%02x%02x", $r, $g, $b);
}

/**
 * Get contrasting text color (black or white)
 */
function dealsindia_get_contrast_color($hex) {
    $rgb = dealsindia_hex_to_rgb($hex);
    $brightness = (($rgb[0] * 299) + ($rgb[1] * 587) + ($rgb[2] * 114)) / 1000;
    
    return ($brightness > 155) ? '#000000' : '#ffffff';
}

// =====================================================
// SECTION 5: ANALYTICS & TRACKING FUNCTIONS
// =====================================================

/**
 * Track deal click
 */
function dealsindia_track_deal_click() {
    if (!isset($_POST['deal_id']) || !isset($_POST['nonce'])) {
        wp_send_json_error();
    }
    
    if (!wp_verify_nonce($_POST['nonce'], 'dealsindia_click_nonce')) {
        wp_send_json_error();
    }
    
    $deal_id = intval($_POST['deal_id']);
    $clicks = get_post_meta($deal_id, 'deal_clicks', true);
    $clicks = $clicks ? intval($clicks) : 0;
    
    update_post_meta($deal_id, 'deal_clicks', $clicks + 1);
    
    // Track click in database (optional - for detailed analytics)
    dealsindia_log_click($deal_id);
    
    wp_send_json_success(array('clicks' => $clicks + 1));
}
add_action('wp_ajax_dealsindia_track_click', 'dealsindia_track_deal_click');
add_action('wp_ajax_nopriv_dealsindia_track_click', 'dealsindia_track_deal_click');

/**
 * Log click to database (optional)
 */
function dealsindia_log_click($deal_id) {
    global $wpdb;
    $table_name = $wpdb->prefix . 'dealsindia_clicks';
    
    // Create table if not exists (run once on theme activation)
    $charset_collate = $wpdb->get_charset_collate();
    $sql = "CREATE TABLE IF NOT EXISTS $table_name (
        id bigint(20) NOT NULL AUTO_INCREMENT,
        deal_id bigint(20) NOT NULL,
        user_ip varchar(100) DEFAULT '' NOT NULL,
        click_date datetime DEFAULT '0000-00-00 00:00:00' NOT NULL,
        PRIMARY KEY  (id)
    ) $charset_collate;";
    
    require_once(ABSPATH . 'wp-admin/includes/upgrade.php');
    dbDelta($sql);
    
    // Insert click record
    $wpdb->insert(
        $table_name,
        array(
            'deal_id' => $deal_id,
            'user_ip' => dealsindia_get_user_ip(),
            'click_date' => current_time('mysql')
        ),
        array('%d', '%s', '%s')
    );
}

/**
 * Get deal click count
 */
function dealsindia_get_click_count($deal_id) {
    $clicks = get_post_meta($deal_id, 'deal_clicks', true);
    return $clicks ? intval($clicks) : 0;
}

/**
 * Get popular deals (by clicks)
 */
function dealsindia_get_popular_deals($limit = 10) {
    $args = array(
        'post_type' => 'deals',
        'posts_per_page' => $limit,
        'meta_key' => 'deal_clicks',
        'orderby' => 'meta_value_num',
        'order' => 'DESC'
    );
    
    return new WP_Query($args);
}

/**
 * Track page views
 */
function dealsindia_track_page_view() {
    if (!is_singular('deals')) {
        return;
    }
    
    $post_id = get_the_ID();
    $views = get_post_meta($post_id, 'deal_views', true);
    $views = $views ? intval($views) : 0;
    
    update_post_meta($post_id, 'deal_views', $views + 1);
}
add_action('wp_head', 'dealsindia_track_page_view');

/**
 * Format analytics numbers (1000 = 1K, 1000000 = 1M)
 * NOTE: Different from dealsindia_format_view_count() which is in template-helpers.php
 * This is a general formatter for any number, not just view counts
 */
function dealsindia_format_number($number) {
    if ($number >= 1000000) {
        return round($number / 1000000, 1) . 'M';
    } elseif ($number >= 1000) {
        return round($number / 1000, 1) . 'K';
    }
    
    return $number;
}

// =====================================================
// END OF UTILITIES
// =====================================================
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\meta-boxes\banner-meta.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Hero Banner Meta Box
 * Custom fields for Hero Banner post type
 */

/**
 * Add Banner Meta Box
 */
add_action('add_meta_boxes', 'dealsindia_add_banner_meta_box');
function dealsindia_add_banner_meta_box() {
    add_meta_box(
        'banner_details',
        __('Banner Details', 'dealsindia'),
        'dealsindia_banner_meta_box_callback',
        'hero_banner',
        'normal',
        'high'
    );
}

/**
 * Meta Box HTML
 */
function dealsindia_banner_meta_box_callback($post) {
    wp_nonce_field('dealsindia_save_banner_meta', 'dealsindia_banner_meta_nonce');
    
    // Get existing values
    $heading = get_post_meta($post->ID, 'banner_heading', true);
    $subheading = get_post_meta($post->ID, 'banner_subheading', true);
    $store_name = get_post_meta($post->ID, 'banner_store', true);
    $bg_color = get_post_meta($post->ID, 'banner_bg_color', true) ?: '#667eea';
    $cashback_text = get_post_meta($post->ID, 'banner_cashback', true);
    $button_text = get_post_meta($post->ID, 'banner_button_text', true);
    $button_link = get_post_meta($post->ID, 'banner_button_link', true);
    ?>
    
    <style>
        .banner-meta-row { margin-bottom: 15px; }
        .banner-meta-row label { display: inline-block; width: 150px; font-weight: 600; }
        .banner-meta-row input[type="text"],
        .banner-meta-row input[type="url"] { width: 400px; padding: 8px; }
    </style>
    
    <div class="banner-meta-row">
        <label for="banner_store"><?php _e('Store Name', 'dealsindia'); ?></label>
        <input type="text" id="banner_store" name="banner_store" value="<?php echo esc_attr($store_name); ?>" placeholder="Amazon">
    </div>
    
    <div class="banner-meta-row">
        <label for="banner_heading"><?php _e('Main Heading', 'dealsindia'); ?></label>
        <input type="text" id="banner_heading" name="banner_heading" value="<?php echo esc_attr($heading); ?>" placeholder="Upto 70% Off">
    </div>
    
    <div class="banner-meta-row">
        <label for="banner_subheading"><?php _e('Subheading', 'dealsindia'); ?></label>
        <input type="text" id="banner_subheading" name="banner_subheading" value="<?php echo esc_attr($subheading); ?>" placeholder="Electronics & Gadgets">
    </div>
    
    <div class="banner-meta-row">
        <label for="banner_bg_color"><?php _e('Background Color', 'dealsindia'); ?></label>
        <input type="text" id="banner_bg_color" name="banner_bg_color" value="<?php echo esc_attr($bg_color); ?>" class="color-picker">
    </div>
    
    <div class="banner-meta-row">
        <label for="banner_cashback"><?php _e('Cashback Text', 'dealsindia'); ?></label>
        <input type="text" id="banner_cashback" name="banner_cashback" value="<?php echo esc_attr($cashback_text); ?>" placeholder="Upto 3% Cashback">
    </div>
    
    <div class="banner-meta-row">
        <label for="banner_button_text"><?php _e('Button Text', 'dealsindia'); ?></label>
        <input type="text" id="banner_button_text" name="banner_button_text" value="<?php echo esc_attr($button_text); ?>" placeholder="Shop Now">
    </div>
    
    <div class="banner-meta-row">
        <label for="banner_button_link"><?php _e('Button Link', 'dealsindia'); ?></label>
        <input type="url" id="banner_button_link" name="banner_button_link" value="<?php echo esc_attr($button_link); ?>" placeholder="https://example.com">
    </div>
    
    <script>
        jQuery(document).ready(function($){
            $('.color-picker').wpColorPicker();
        });
    </script>
    <?php
}

/**
 * Save Meta Box Data
 */
add_action('save_post', 'dealsindia_save_banner_meta');
function dealsindia_save_banner_meta($post_id) {
    
    if (!isset($_POST['dealsindia_banner_meta_nonce'])) return;
    if (!wp_verify_nonce($_POST['dealsindia_banner_meta_nonce'], 'dealsindia_save_banner_meta')) return;
    if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) return;
    if (!current_user_can('edit_post', $post_id)) return;
    
    $fields = array('banner_heading', 'banner_subheading', 'banner_store', 'banner_bg_color', 
                    'banner_cashback', 'banner_button_text', 'banner_button_link');
    
    foreach ($fields as $field) {
        if (isset($_POST[$field])) {
            $value = $field === 'banner_button_link' ? esc_url_raw($_POST[$field]) : sanitize_text_field($_POST[$field]);
            update_post_meta($post_id, $field, $value);
        }
    }
}
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\meta-boxes\deal-meta.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Deal Meta Box - Minimal Smart Edition
 * Only 2 optional new fields, rest auto-generated
 * 
 * @package ARRZONE
 * @version 5.0
 */

// Add Deal Meta Box
function dealsindia_add_deal_meta_box() {
    add_meta_box(
        'deal_details',
        __('💰 Deal Details', 'dealsindia'),
        'dealsindia_deal_meta_box_callback',
        'deals',
        'normal',
        'high'
    );
}
add_action('add_meta_boxes', 'dealsindia_add_deal_meta_box');

// Meta Box Callback
function dealsindia_deal_meta_box_callback($post) {
    wp_nonce_field('dealsindia_save_deal_meta', 'dealsindia_deal_meta_nonce');
    
    // Get existing values
    $deal_price = get_post_meta($post->ID, 'deal_price', true);
    $deal_original_price = get_post_meta($post->ID, 'deal_original_price', true);
    $deal_discount_percentage = get_post_meta($post->ID, 'deal_discount_percentage', true);
    $deal_url = get_post_meta($post->ID, 'deal_url', true);
    $coupon_code = get_post_meta($post->ID, 'coupon_code', true);
    $is_featured = get_post_meta($post->ID, 'is_featured', true);
    $is_hot = get_post_meta($post->ID, 'is_hot', true);
    $deal_expiry_date = get_post_meta($post->ID, 'deal_expiry_date', true);
    $show_when_expired = get_post_meta($post->ID, 'show_when_expired', true);
    
    // NEW: Only 2 optional fields
    $cashback_percent = get_post_meta($post->ID, 'cashback_percent', true);
    $custom_back_content = get_post_meta($post->ID, 'custom_back_content', true);
    ?>
    
    <style>
        .deal-meta-hint {
            background: #e8f5e9;
            padding: 10px;
            margin: 10px 0;
            border-left: 4px solid #4caf50;
            border-radius: 4px;
        }
        .deal-meta-hint strong { color: #2e7d32; }
    </style>
    
    <div class="deal-meta-hint">
        💡 <strong>Smart Card System:</strong> Card back content auto-generates from post excerpt. 
        Add custom info only if needed!
    </div>
    
    <table class="form-table">
        
        <!-- Deal URL -->
        <tr>
            <th><label for="deal_url"><?php _e('Deal/Affiliate URL', 'dealsindia'); ?> <span style="color:red;">*</span></label></th>
            <td>
                <input type="url" id="deal_url" name="deal_url" 
                       value="<?php echo esc_url($deal_url); ?>" 
                       class="large-text" 
                       placeholder="https://example.com/product" 
                       required />
                <p class="description"><?php _e('Your affiliate link', 'dealsindia'); ?></p>
            </td>
        </tr>
        
        <!-- Coupon Code -->
        <tr>
            <th><label for="coupon_code"><?php _e('Coupon Code', 'dealsindia'); ?></label></th>
            <td>
                <input type="text" id="coupon_code" name="coupon_code" 
                       value="<?php echo esc_attr($coupon_code); ?>" 
                       class="regular-text" 
                       placeholder="SAVE20" 
                       style="text-transform:uppercase;" />
                <p class="description"><?php _e('Leave empty if no coupon. Shows half-covered on card, reveals on flip.', 'dealsindia'); ?></p>
            </td>
        </tr>
        
        <!-- Original Price -->
        <tr>
            <th><label for="deal_original_price"><?php _e('Original Price (₹)', 'dealsindia'); ?></label></th>
            <td>
                <input type="number" id="deal_original_price" name="deal_original_price" 
                       value="<?php echo esc_attr($deal_original_price); ?>" 
                       class="regular-text" 
                       step="0.01" 
                       placeholder="999.00" />
            </td>
        </tr>
        
        <!-- Deal Price -->
        <tr>
            <th><label for="deal_price"><?php _e('Deal Price (₹)', 'dealsindia'); ?> <span style="color:red;">*</span></label></th>
            <td>
                <input type="number" id="deal_price" name="deal_price" 
                       value="<?php echo esc_attr($deal_price); ?>" 
                       class="regular-text" 
                       step="0.01" 
                       placeholder="499.00" 
                       required />
            </td>
        </tr>
        
        <!-- Discount Percentage -->
        <tr>
            <th><label for="deal_discount_percentage"><?php _e('Discount %', 'dealsindia'); ?></label></th>
            <td>
                <input type="number" id="deal_discount_percentage" name="deal_discount_percentage" 
                       value="<?php echo esc_attr($deal_discount_percentage); ?>" 
                       class="small-text" 
                       min="0" 
                       max="100" 
                       readonly 
                       style="background:#f0f0f0;" />
                <span>% (Auto-calculated)</span>
            </td>
        </tr>
        
        <!-- NEW: Cashback (Optional) -->
        <tr>
            <th><label for="cashback_percent"><?php _e('💰 Extra Cashback', 'dealsindia'); ?></label></th>
            <td>
                <input type="number" id="cashback_percent" name="cashback_percent" 
                       value="<?php echo esc_attr($cashback_percent); ?>" 
                       class="small-text" 
                       step="0.1" 
                       placeholder="5.5" />
                <span>%</span>
                <p class="description"><?php _e('Optional: Extra cashback % (e.g., "Extra 5% cashback")', 'dealsindia'); ?></p>
            </td>
        </tr>
        
        <!-- Expiry Date -->
        <tr>
            <th><label for="deal_expiry_date"><?php _e('Expiry Date', 'dealsindia'); ?></label></th>
            <td>
                <input type="datetime-local" id="deal_expiry_date" name="deal_expiry_date" 
                       value="<?php echo esc_attr($deal_expiry_date); ?>" 
                       class="regular-text" />
                <p class="description"><?php _e('Leave empty if no expiry', 'dealsindia'); ?></p>
            </td>
        </tr>
        
        <!-- Show When Expired -->
        <tr>
            <th><label for="show_when_expired"><?php _e('Show When Expired', 'dealsindia'); ?></label></th>
            <td>
                <label>
                    <input type="checkbox" id="show_when_expired" name="show_when_expired" value="1" 
                           <?php checked($show_when_expired, '1'); ?> />
                    <?php _e('Display with EXPIRED badge after expiry', 'dealsindia'); ?>
                </label>
            </td>
        </tr>
        
        <!-- Featured Deal -->
        <tr>
            <th><label for="is_featured"><?php _e('Featured Deal ⭐', 'dealsindia'); ?></label></th>
            <td>
                <label>
                    <input type="checkbox" id="is_featured" name="is_featured" value="1" 
                           <?php checked($is_featured, '1'); ?> />
                    <?php _e('Mark as featured', 'dealsindia'); ?>
                </label>
            </td>
        </tr>
        
        <!-- Hot Deal -->
        <tr>
            <th><label for="is_hot"><?php _e('Hot Deal 🔥', 'dealsindia'); ?></label></th>
            <td>
                <label>
                    <input type="checkbox" id="is_hot" name="is_hot" value="1" 
                           <?php checked($is_hot, '1'); ?> />
                    <?php _e('Mark as trending', 'dealsindia'); ?>
                </label>
            </td>
        </tr>
        
        <!-- NEW: Custom Back Content (Optional) -->
        <tr style="background:#fffef0; border-top:2px solid #ffc107;">
            <th colspan="2" style="padding:15px;">
                <h3 style="margin:0; color:#f57c00;">📋 Flip Card Back Content (Optional)</h3>
            </th>
        </tr>
        <tr style="background:#fffef0;">
            <th><label for="custom_back_content"><?php _e('Custom Card Info', 'dealsindia'); ?></label></th>
            <td>
                <textarea id="custom_back_content" name="custom_back_content" 
                          rows="4" 
                          class="large-text" 
                          placeholder="Leave empty to auto-generate from post excerpt.&#10;&#10;Or add custom info here:&#10;• Product feature 1&#10;• Product feature 2&#10;• Why this is a great deal"><?php echo esc_textarea($custom_back_content); ?></textarea>
                <p class="description">
                    <strong>Auto-Generation:</strong> If empty, we use post excerpt + "How to Use" instructions based on deal type.<br>
                    <strong>Custom:</strong> Add specific details you want on card back.
                </p>
            </td>
        </tr>
        
    </table>
    
    <script>
    jQuery(document).ready(function($) {
        // Auto-calculate discount
        function calculateDiscount() {
            var original = parseFloat($('#deal_original_price').val());
            var deal = parseFloat($('#deal_price').val());
            
            if (original > 0 && deal > 0 && deal < original) {
                var discount = Math.round(((original - deal) / original) * 100);
                $('#deal_discount_percentage').val(discount);
            } else {
                $('#deal_discount_percentage').val('');
            }
        }
        
        $('#deal_original_price, #deal_price').on('input', calculateDiscount);
        
        // Auto-uppercase coupon
        $('#coupon_code').on('input', function() {
            this.value = this.value.toUpperCase();
        });
        
        calculateDiscount();
    });
    </script>
    
    <?php
}

// Save Deal Meta
function dealsindia_save_deal_meta($post_id) {
    if (!isset($_POST['dealsindia_deal_meta_nonce'])) return;
    if (!wp_verify_nonce($_POST['dealsindia_deal_meta_nonce'], 'dealsindia_save_deal_meta')) return;
    if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) return;
    if (!current_user_can('edit_post', $post_id)) return;

    // Save URL separately (needs special sanitization)
    if (isset($_POST['deal_url'])) {
        update_post_meta($post_id, 'deal_url', esc_url_raw($_POST['deal_url']));
    }

    // Save text fields
    $text_fields = array(
        'deal_price',
        'deal_original_price',
        'deal_discount_percentage',
        'coupon_code',
        'deal_expiry_date',
        'cashback_percent'
    );

    foreach ($text_fields as $field) {
        if (isset($_POST[$field])) {
            update_post_meta($post_id, $field, sanitize_text_field($_POST[$field]));
        }
    }
    
    // Save textarea separately
    if (isset($_POST['custom_back_content'])) {
        update_post_meta($post_id, 'custom_back_content', sanitize_textarea_field($_POST['custom_back_content']));
    }


    // Checkboxes
    update_post_meta($post_id, 'is_featured', isset($_POST['is_featured']) ? '1' : '0');
    update_post_meta($post_id, 'is_hot', isset($_POST['is_hot']) ? '1' : '0');
    update_post_meta($post_id, 'show_when_expired', isset($_POST['show_when_expired']) ? '1' : '0');
}
add_action('save_post', 'dealsindia_save_deal_meta');
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\meta-boxes\giveaway-meta.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Giveaway Meta Box
 * Custom fields for Giveaway post type
 */

/**
 * Add Giveaway Meta Box
 */
add_action('add_meta_boxes', 'dealsindia_add_giveaway_meta_box');
function dealsindia_add_giveaway_meta_box() {
    add_meta_box(
        'giveaway_details',
        __('Giveaway Details', 'dealsindia'),
        'dealsindia_giveaway_meta_box_callback',
        'giveaway',
        'normal',
        'high'
    );
}

/**
 * Meta Box HTML
 */
function dealsindia_giveaway_meta_box_callback($post) {
    wp_nonce_field('dealsindia_save_giveaway_meta', 'dealsindia_giveaway_meta_nonce');
    
    $prize = get_post_meta($post->ID, 'giveaway_prize', true);
    $bg_color = get_post_meta($post->ID, 'giveaway_bg_color', true) ?: '#f093fb';
    $button_text = get_post_meta($post->ID, 'giveaway_button_text', true);
    $button_link = get_post_meta($post->ID, 'giveaway_button_link', true);
    $is_active = get_post_meta($post->ID, 'giveaway_is_active', true);
    ?>
    
    <style>
        .giveaway-meta-row { margin-bottom: 15px; }
        .giveaway-meta-row label { display: inline-block; width: 150px; font-weight: 600; }
        .giveaway-meta-row input[type="text"],
        .giveaway-meta-row input[type="url"] { width: 400px; padding: 8px; }
    </style>
    
    <div class="giveaway-meta-row">
        <label for="giveaway_prize"><?php _e('Prize', 'dealsindia'); ?></label>
        <input type="text" id="giveaway_prize" name="giveaway_prize" value="<?php echo esc_attr($prize); ?>" placeholder="iPhone 14 Pro">
    </div>
    
    <div class="giveaway-meta-row">
        <label for="giveaway_bg_color"><?php _e('Background Color', 'dealsindia'); ?></label>
        <input type="text" id="giveaway_bg_color" name="giveaway_bg_color" value="<?php echo esc_attr($bg_color); ?>" class="color-picker">
    </div>
    
    <div class="giveaway-meta-row">
        <label for="giveaway_button_text"><?php _e('Button Text', 'dealsindia'); ?></label>
        <input type="text" id="giveaway_button_text" name="giveaway_button_text" value="<?php echo esc_attr($button_text); ?>" placeholder="Participate Now">
    </div>
    
    <div class="giveaway-meta-row">
        <label for="giveaway_button_link"><?php _e('Button Link', 'dealsindia'); ?></label>
        <input type="url" id="giveaway_button_link" name="giveaway_button_link" value="<?php echo esc_attr($button_link); ?>" placeholder="https://example.com">
    </div>
    
    <div class="giveaway-meta-row">
        <label>
            <input type="checkbox" name="giveaway_is_active" value="1" <?php checked($is_active, '1'); ?>>
            <?php _e('Show on Homepage', 'dealsindia'); ?>
        </label>
    </div>
    
    <script>
        jQuery(document).ready(function($){
            $('.color-picker').wpColorPicker();
        });
    </script>
    <?php
}

/**
 * Save Meta Box Data
 */
add_action('save_post', 'dealsindia_save_giveaway_meta');
function dealsindia_save_giveaway_meta($post_id) {
    
    if (!isset($_POST['dealsindia_giveaway_meta_nonce'])) return;
    if (!wp_verify_nonce($_POST['dealsindia_giveaway_meta_nonce'], 'dealsindia_save_giveaway_meta')) return;
    if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) return;
    if (!current_user_can('edit_post', $post_id)) return;
    
    $fields = array('giveaway_prize', 'giveaway_bg_color', 'giveaway_button_text', 'giveaway_button_link');
    
    foreach ($fields as $field) {
        if (isset($_POST[$field])) {
            $value = $field === 'giveaway_button_link' ? esc_url_raw($_POST[$field]) : sanitize_text_field($_POST[$field]);
            update_post_meta($post_id, $field, $value);
        }
    }
    
    $is_active = isset($_POST['giveaway_is_active']) ? '1' : '0';
    update_post_meta($post_id, 'giveaway_is_active', $is_active);
}
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\meta-boxes\step-meta.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Work Step Meta Box
 * 
 * @package DealsIndia
 * @version 2.0 - Added Icon Field
 */

function dealsindia_add_step_meta_box() {
    add_meta_box(
        'step_details',
        __('Step Details', 'dealsindia'),
        'dealsindia_step_meta_box_callback',
        'work_step',
        'normal',
        'high'
    );
}
add_action('add_meta_boxes', 'dealsindia_add_step_meta_box');

function dealsindia_step_meta_box_callback($post) {
    wp_nonce_field('dealsindia_save_step_meta', 'dealsindia_step_meta_nonce');
    
    $step_number = get_post_meta($post->ID, 'step_number', true);
    $step_icon = get_post_meta($post->ID, 'step_icon', true);
    ?>
    
    <table class="form-table">
        <tr>
            <th><label for="step_number"><?php _e('Step Number', 'dealsindia'); ?></label></th>
            <td>
                <input type="number" id="step_number" name="step_number" 
                       value="<?php echo esc_attr($step_number); ?>" 
                       min="1" max="10" class="small-text" />
                <p class="description"><?php _e('Enter the step order (1, 2, 3, etc.)', 'dealsindia'); ?></p>
            </td>
        </tr>
        
        <tr>
            <th><label for="step_icon"><?php _e('Step Icon', 'dealsindia'); ?></label></th>
            <td>
                <input type="text" id="step_icon" name="step_icon" 
                       value="<?php echo esc_attr($step_icon); ?>" 
                       class="regular-text" placeholder="🔍" />
                <p class="description">
                    <?php _e('Enter an emoji (🔍, 📋, 💰) or icon class (fa-search). Emojis recommended.', 'dealsindia'); ?>
                </p>
            </td>
        </tr>
    </table>
    
    <?php
}

function dealsindia_save_step_meta($post_id) {
    if (!isset($_POST['dealsindia_step_meta_nonce'])) {
        return;
    }
    if (!wp_verify_nonce($_POST['dealsindia_step_meta_nonce'], 'dealsindia_save_step_meta')) {
        return;
    }
    if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) {
        return;
    }
    if (!current_user_can('edit_post', $post_id)) {
        return;
    }

    // Save step number
    if (isset($_POST['step_number'])) {
        update_post_meta($post_id, 'step_number', absint($_POST['step_number']));
    }

    // Save step icon
    if (isset($_POST['step_icon'])) {
        update_post_meta($post_id, 'step_icon', sanitize_text_field($_POST['step_icon']));
    }
}
add_action('save_post', 'dealsindia_save_step_meta');
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\post-types\deals.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Deals Custom Post Type
 * Store-Based Permalink System - SEO Optimized
 * 
 * URL Structure: /deals/{store-slug}/{deal-slug}/
 * Example: /deals/amazon/get-50-off-electronics/
 * 
 * @package DealsIndia
 * @version 5.0 - Store-Based Permalinks
 */

if (!defined('ABSPATH')) exit;

/**
 * Register Deals Post Type with Store-Based Permalinks
 */
function dealsindia_register_deals_post_type() {
    
    $labels = array(
        'name'               => __('Deals', 'dealsindia'),
        'singular_name'      => __('Deal', 'dealsindia'),
        'menu_name'          => __('Deals', 'dealsindia'),
        'add_new'            => __('Add New Deal', 'dealsindia'),
        'add_new_item'       => __('Add New Deal', 'dealsindia'),
        'edit_item'          => __('Edit Deal', 'dealsindia'),
        'new_item'           => __('New Deal', 'dealsindia'),
        'view_item'          => __('View Deal', 'dealsindia'),
        'search_items'       => __('Search Deals', 'dealsindia'),
        'not_found'          => __('No deals found', 'dealsindia'),
        'not_found_in_trash' => __('No deals found in trash', 'dealsindia'),
    );
    
    $args = array(
        'labels'              => $labels,
        'public'              => true,
        'has_archive'         => 'deals',
        'publicly_queryable'  => true,
        'show_ui'             => true,
        'show_in_menu'        => true,
        'query_var'           => true,
        'rewrite'             => array(
            'slug'         => 'deals/%store%',
            'with_front'   => false,
            'hierarchical' => false,
        ),
        'capability_type'     => 'post',
        'hierarchical'        => false,
        'menu_position'       => 5,
        'menu_icon'           => 'dashicons-tag',
        'supports'            => array('title', 'editor', 'thumbnail', 'excerpt'),
        'show_in_rest'        => true,
    );
    
    register_post_type('deals', $args);
}
add_action('init', 'dealsindia_register_deals_post_type', 0);

/**
 * Replace %store% placeholder in deal permalinks
 * Creates URLs like: /deals/amazon/deal-name/
 */
function dealsindia_deal_permalink($permalink, $post, $leavename) {
    // Only process deals post type
    if ($post->post_type !== 'deals') {
        return $permalink;
    }
    
    // Check if placeholder exists
    if (strpos($permalink, '%store%') === false) {
        return $permalink;
    }
    
    // Get store terms
    $stores = get_the_terms($post->ID, 'store');
    
    if ($stores && !is_wp_error($stores)) {
        // Use first store
        $store = array_shift($stores);
        $permalink = str_replace('%store%', $store->slug, $permalink);
    } else {
        // Fallback if no store assigned
        $permalink = str_replace('%store%', 'uncategorized', $permalink);
    }
    
    return $permalink;
}
add_filter('post_type_link', 'dealsindia_deal_permalink', 10, 3);

/**
 * Add custom rewrite rules for store-based URLs
 * Ensures WordPress recognizes URLs like /deals/amazon/deal-slug/
 */
function dealsindia_deal_rewrite_rules() {
    // Get all stores
    $stores = get_terms(array(
        'taxonomy'   => 'store',
        'hide_empty' => false,
    ));
    
    if (!is_wp_error($stores) && !empty($stores)) {
        foreach ($stores as $store) {
            add_rewrite_rule(
                '^deals/' . $store->slug . '/([^/]+)/?$',
                'index.php?deals=$matches[1]',
                'top'
            );
        }
    }
    
    // Fallback rule for deals without store
    add_rewrite_rule(
        '^deals/uncategorized/([^/]+)/?$',
        'index.php?deals=$matches[1]',
        'top'
    );
}
add_action('init', 'dealsindia_deal_rewrite_rules', 20);

/**
 * Flush rewrite rules when stores are updated
 * This ensures new stores work immediately
 */
function dealsindia_flush_rewrite_on_store_change($term_id, $tt_id, $taxonomy) {
    if ($taxonomy === 'store') {
        flush_rewrite_rules();
    }
}
add_action('created_store', 'dealsindia_flush_rewrite_on_store_change', 10, 3);
add_action('edited_store', 'dealsindia_flush_rewrite_on_store_change', 10, 3);
add_action('delete_store', 'dealsindia_flush_rewrite_on_store_change', 10, 3);
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\post-types\giveaways.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Giveaways Custom Post Type
 * Registers Giveaways/Contests CPT for ARRZONE
 * 
 * @package ARRZONE
 * @version 2.0 - Fixed & Complete
 */

if (!defined('ABSPATH')) exit;

/**
 * Register Giveaways Post Type
 */
function arrzone_register_giveaway_post_type() {
    
    $labels = array(
        'name'                  => _x('Giveaways', 'Post Type General Name', 'arrzone'),
        'singular_name'         => _x('Giveaway', 'Post Type Singular Name', 'arrzone'),
        'menu_name'             => __('Giveaways', 'arrzone'),
        'name_admin_bar'        => __('Giveaway', 'arrzone'),
        'archives'              => __('Giveaway Archives', 'arrzone'),
        'attributes'            => __('Giveaway Attributes', 'arrzone'),
        'parent_item_colon'     => __('Parent Giveaway:', 'arrzone'),
        'all_items'             => __('All Giveaways', 'arrzone'),
        'add_new_item'          => __('Add New Giveaway', 'arrzone'),
        'add_new'               => __('Add New', 'arrzone'),
        'new_item'              => __('New Giveaway', 'arrzone'),
        'edit_item'             => __('Edit Giveaway', 'arrzone'),
        'update_item'           => __('Update Giveaway', 'arrzone'),
        'view_item'             => __('View Giveaway', 'arrzone'),
        'view_items'            => __('View Giveaways', 'arrzone'),
        'search_items'          => __('Search Giveaway', 'arrzone'),
        'not_found'             => __('No giveaways found', 'arrzone'),
        'not_found_in_trash'    => __('No giveaways found in Trash', 'arrzone'),
        'featured_image'        => __('Giveaway Image', 'arrzone'),
        'set_featured_image'    => __('Set giveaway image', 'arrzone'),
        'remove_featured_image' => __('Remove giveaway image', 'arrzone'),
        'use_featured_image'    => __('Use as giveaway image', 'arrzone'),
        'insert_into_item'      => __('Insert into giveaway', 'arrzone'),
        'uploaded_to_this_item' => __('Uploaded to this giveaway', 'arrzone'),
        'items_list'            => __('Giveaways list', 'arrzone'),
        'items_list_navigation' => __('Giveaways list navigation', 'arrzone'),
        'filter_items_list'     => __('Filter giveaways list', 'arrzone'),
    );
    
    $args = array(
        'label'               => __('Giveaway', 'arrzone'),
        'description'         => __('Contests and Giveaways', 'arrzone'),
        'labels'              => $labels,
        'supports'            => array('title', 'editor', 'thumbnail', 'excerpt', 'custom-fields', 'revisions'),
        'taxonomies'          => array(),
        'hierarchical'        => false,
        'public'              => true,
        'show_ui'             => true,
        'show_in_menu'        => true,
        'menu_position'       => 22,
        'menu_icon'           => 'dashicons-awards',
        'show_in_admin_bar'   => true,
        'show_in_nav_menus'   => true,
        'can_export'          => true,
        'has_archive'         => true,
        'exclude_from_search' => false,
        'publicly_queryable'  => true,
        'query_var'           => true,
        'rewrite'             => array(
            'slug'       => 'giveaway',
            'with_front' => false,
            'pages'      => true,
            'feeds'      => true,
        ),
        'capability_type'     => 'post',
        'show_in_rest'        => true,
        'rest_base'           => 'giveaways',
        'rest_controller_class' => 'WP_REST_Posts_Controller',
    );
    
    register_post_type('giveaway', $args);
}
add_action('init', 'arrzone_register_giveaway_post_type', 0);


/**
 * Add Giveaway Meta Boxes
 */
function arrzone_add_giveaway_meta_boxes() {
    add_meta_box(
        'giveaway_details',
        __('Giveaway Details', 'arrzone'),
        'arrzone_giveaway_details_callback',
        'giveaway',
        'normal',
        'high'
    );
}
add_action('add_meta_boxes', 'arrzone_add_giveaway_meta_boxes');


/**
 * Giveaway Meta Box Callback
 */
function arrzone_giveaway_details_callback($post) {
    wp_nonce_field('arrzone_save_giveaway_meta', 'arrzone_giveaway_nonce');
    
    $prize = get_post_meta($post->ID, 'giveaway_prize', true);
    $end_date = get_post_meta($post->ID, 'giveaway_end_date', true);
    $bg_color = get_post_meta($post->ID, 'giveaway_bg_color', true);
    $entry_url = get_post_meta($post->ID, 'giveaway_entry_url', true);
    $max_entries = get_post_meta($post->ID, 'giveaway_max_entries', true);
    $terms = get_post_meta($post->ID, 'giveaway_terms', true);
    ?>
    
    <table class="form-table">
        <tr>
            <th><label for="giveaway_prize"><?php _e('Prize', 'arrzone'); ?></label></th>
            <td>
                <input type="text" 
                       id="giveaway_prize" 
                       name="giveaway_prize" 
                       value="<?php echo esc_attr($prize); ?>" 
                       class="regular-text"
                       placeholder="<?php _e('e.g., iPhone 15 Pro Max', 'arrzone'); ?>">
                <p class="description"><?php _e('What will the winner receive?', 'arrzone'); ?></p>
            </td>
        </tr>
        
        <tr>
            <th><label for="giveaway_end_date"><?php _e('End Date', 'arrzone'); ?></label></th>
            <td>
                <input type="date" 
                       id="giveaway_end_date" 
                       name="giveaway_end_date" 
                       value="<?php echo esc_attr($end_date); ?>" 
                       class="regular-text">
                <p class="description"><?php _e('When does this giveaway end?', 'arrzone'); ?></p>
            </td>
        </tr>
        
        <tr>
            <th><label for="giveaway_bg_color"><?php _e('Background Color', 'arrzone'); ?></label></th>
            <td>
                <input type="color" 
                       id="giveaway_bg_color" 
                       name="giveaway_bg_color" 
                       value="<?php echo esc_attr($bg_color ? $bg_color : '#667eea'); ?>">
                <p class="description"><?php _e('Choose card background color for homepage display', 'arrzone'); ?></p>
            </td>
        </tr>
        
        <tr>
            <th><label for="giveaway_entry_url"><?php _e('Entry URL (Optional)', 'arrzone'); ?></label></th>
            <td>
                <input type="url" 
                       id="giveaway_entry_url" 
                       name="giveaway_entry_url" 
                       value="<?php echo esc_url($entry_url); ?>" 
                       class="regular-text"
                       placeholder="<?php _e('https://forms.google.com/...', 'arrzone'); ?>">
                <p class="description"><?php _e('External entry form URL (Google Forms, Typeform, etc.)', 'arrzone'); ?></p>
            </td>
        </tr>
        
        <tr>
            <th><label for="giveaway_max_entries"><?php _e('Max Entries (Optional)', 'arrzone'); ?></label></th>
            <td>
                <input type="number" 
                       id="giveaway_max_entries" 
                       name="giveaway_max_entries" 
                       value="<?php echo esc_attr($max_entries); ?>" 
                       class="small-text"
                       min="0"
                       placeholder="1000">
                <p class="description"><?php _e('Maximum number of entries allowed (leave empty for unlimited)', 'arrzone'); ?></p>
            </td>
        </tr>
        
        <tr>
            <th><label for="giveaway_terms"><?php _e('Terms & Conditions', 'arrzone'); ?></label></th>
            <td>
                <textarea id="giveaway_terms" 
                          name="giveaway_terms" 
                          rows="5" 
                          class="large-text"
                          placeholder="<?php _e('Enter terms and conditions here...', 'arrzone'); ?>"><?php echo esc_textarea($terms); ?></textarea>
                <p class="description"><?php _e('Important rules and eligibility requirements', 'arrzone'); ?></p>
            </td>
        </tr>
    </table>
    
    <?php
}


/**
 * Save Giveaway Meta Data
 */
function arrzone_save_giveaway_meta($post_id) {
    // Check nonce
    if (!isset($_POST['arrzone_giveaway_nonce']) || 
        !wp_verify_nonce($_POST['arrzone_giveaway_nonce'], 'arrzone_save_giveaway_meta')) {
        return;
    }
    
    // Check autosave
    if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) {
        return;
    }
    
    // Check permissions
    if (!current_user_can('edit_post', $post_id)) {
        return;
    }
    
    // Save fields
    $fields = array(
        'giveaway_prize'       => 'sanitize_text_field',
        'giveaway_end_date'    => 'sanitize_text_field',
        'giveaway_bg_color'    => 'sanitize_hex_color',
        'giveaway_entry_url'   => 'esc_url_raw',
        'giveaway_max_entries' => 'absint',
        'giveaway_terms'       => 'wp_kses_post',
    );
    
    foreach ($fields as $field => $sanitize) {
        if (isset($_POST[$field])) {
            update_post_meta($post_id, $field, $sanitize($_POST[$field]));
        }
    }
}
add_action('save_post_giveaway', 'arrzone_save_giveaway_meta');


/**
 * Add Custom Columns to Giveaways List
 */
function arrzone_giveaway_columns($columns) {
    $new_columns = array();
    
    foreach ($columns as $key => $value) {
        $new_columns[$key] = $value;
        
        if ($key === 'title') {
            $new_columns['prize'] = __('Prize', 'arrzone');
            $new_columns['end_date'] = __('End Date', 'arrzone');
            $new_columns['status'] = __('Status', 'arrzone');
        }
    }
    
    return $new_columns;
}
add_filter('manage_giveaway_posts_columns', 'arrzone_giveaway_columns');


/**
 * Populate Custom Columns
 */
function arrzone_giveaway_column_content($column, $post_id) {
    switch ($column) {
        case 'prize':
            $prize = get_post_meta($post_id, 'giveaway_prize', true);
            echo $prize ? esc_html($prize) : '—';
            break;
            
        case 'end_date':
            $end_date = get_post_meta($post_id, 'giveaway_end_date', true);
            if ($end_date) {
                echo esc_html(date('M d, Y', strtotime($end_date)));
            } else {
                echo '—';
            }
            break;
            
        case 'status':
            $end_date = get_post_meta($post_id, 'giveaway_end_date', true);
            if ($end_date) {
                $now = current_time('timestamp');
                $end = strtotime($end_date);
                
                if ($end < $now) {
                    echo '<span style="color: #dc3545; font-weight: bold;">⏰ Ended</span>';
                } else {
                    $days_left = floor(($end - $now) / (60 * 60 * 24));
                    echo '<span style="color: #28a745; font-weight: bold;">✅ Active (' . $days_left . ' days left)</span>';
                }
            } else {
                echo '<span style="color: #6c757d;">— No end date</span>';
            }
            break;
    }
}
add_action('manage_giveaway_posts_custom_column', 'arrzone_giveaway_column_content', 10, 2);


/**
 * Make Columns Sortable
 */
function arrzone_giveaway_sortable_columns($columns) {
    $columns['end_date'] = 'end_date';
    return $columns;
}
add_filter('manage_edit-giveaway_sortable_columns', 'arrzone_giveaway_sortable_columns');


/**
 * Flush Rewrite Rules on Activation
 */
function arrzone_giveaway_flush_rewrites() {
    arrzone_register_giveaway_post_type();
    flush_rewrite_rules();
}
register_activation_hook(__FILE__, 'arrzone_giveaway_flush_rewrites');
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\post-types\hero-banners.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Hero Banners Custom Post Type
 * Registers Hero Banner CPT for homepage slider
 */

if (!defined('ABSPATH')) exit;

/**
 * Register Hero Banners Post Type
 */
function dealsindia_register_hero_banner_post_type() {
    
    $labels = array(
        'name'               => __('Hero Banners', 'dealsindia'),
        'singular_name'      => __('Hero Banner', 'dealsindia'),
        'menu_name'          => __('Hero Banners', 'dealsindia'),
        'add_new'            => __('Add New Banner', 'dealsindia'),
        'add_new_item'       => __('Add New Banner', 'dealsindia'),
        'edit_item'          => __('Edit Banner', 'dealsindia'),
        'new_item'           => __('New Banner', 'dealsindia'),
        'view_item'          => __('View Banner', 'dealsindia'),
        'search_items'       => __('Search Banners', 'dealsindia'),
        'not_found'          => __('No banners found', 'dealsindia'),
        'not_found_in_trash' => __('No banners found in trash', 'dealsindia'),
    );
    
    $args = array(
        'labels'              => $labels,
        'public'              => false,
        'show_ui'             => true,
        'show_in_menu'        => true,
        'capability_type'     => 'post',
        'hierarchical'        => false,
        'menu_position'       => 20,
        'menu_icon'           => 'dashicons-images-alt2',
        'supports'            => array('title', 'thumbnail'), // ← THIS LINE ENABLES FEATURED IMAGE!
        'show_in_rest'        => true,
    );
    
    register_post_type('hero_banner', $args);
}
add_action('init', 'dealsindia_register_hero_banner_post_type');

/**
 * Ensure thumbnail support for theme (if not already added)
 */
add_action('after_setup_theme', 'dealsindia_banner_thumbnail_support');
function dealsindia_banner_thumbnail_support() {
    add_theme_support('post-thumbnails', array('hero_banner'));
}
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\post-types\money-earning.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Money Earning Tricks Custom Post Type
 * Register CPT for money earning tips and tricks
 * 
 * @package DealsIndia
 * @version 1.0
 */

if (!defined('ABSPATH')) exit;

/**
 * Register Money Earning Tricks Post Type
 */
function dealsindia_register_money_earning_cpt() {
    
    $labels = array(
        'name'               => __('Money Earning', 'dealsindia'),
        'singular_name'      => __('Money Trick', 'dealsindia'),
        'menu_name'          => __('Money Earning', 'dealsindia'),
        'add_new'            => __('Add New Trick', 'dealsindia'),
        'add_new_item'       => __('Add New Money Earning Trick', 'dealsindia'),
        'edit_item'          => __('Edit Money Trick', 'dealsindia'),
        'new_item'           => __('New Money Trick', 'dealsindia'),
        'view_item'          => __('View Money Trick', 'dealsindia'),
        'search_items'       => __('Search Money Tricks', 'dealsindia'),
        'not_found'          => __('No money earning tricks found', 'dealsindia'),
        'not_found_in_trash' => __('No money earning tricks found in trash', 'dealsindia'),
    );
    
    $args = array(
        'labels'              => $labels,
        'public'              => true,
        'has_archive'         => true,
        'publicly_queryable'  => true,
        'show_ui'             => true,
        'show_in_menu'        => true,
        'query_var'           => true,
        'rewrite'             => array('slug' => 'money-earning'),
        'capability_type'     => 'post',
        'hierarchical'        => false,
        'menu_position'       => 6,
        'menu_icon'           => 'dashicons-money-alt',
        'supports'            => array('title', 'editor', 'thumbnail', 'excerpt', 'comments'),
        'show_in_rest'        => true,
    );
    
    register_post_type('money_earning', $args);
}
add_action('init', 'dealsindia_register_money_earning_cpt');
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\post-types\work-steps.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Work Steps Custom Post Type
 * Registers "How It Works" steps CPT
 */

if (!defined('ABSPATH')) exit;

/**
 * Register Work Steps Post Type
 */
function dealsindia_register_work_steps_post_type() {
    
    $labels = array(
        'name'               => __('Work Steps', 'dealsindia'),
        'singular_name'      => __('Work Step', 'dealsindia'),
        'menu_name'          => __('How It Works', 'dealsindia'),
        'add_new'            => __('Add New Step', 'dealsindia'),
        'add_new_item'       => __('Add New Step', 'dealsindia'),
        'edit_item'          => __('Edit Step', 'dealsindia'),
        'new_item'           => __('New Step', 'dealsindia'),
        'view_item'          => __('View Step', 'dealsindia'),
        'search_items'       => __('Search Steps', 'dealsindia'),
        'not_found'          => __('No steps found', 'dealsindia'),
        'not_found_in_trash' => __('No steps found in trash', 'dealsindia'),
    );
    
    $args = array(
        'labels'              => $labels,
        'public'              => false,
        'show_ui'             => true,
        'show_in_menu'        => true,
        'capability_type'     => 'post',
        'hierarchical'        => false,
        'menu_position'       => 21,
        'menu_icon'           => 'dashicons-list-view',
        'supports'            => array('title', 'editor'),
        'show_in_rest'        => true,
    );
    
    register_post_type('work_step', $args);
}
add_action('init', 'dealsindia_register_work_steps_post_type');
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\queries\archive-sorting.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Archive Sorting
 * Handle store archive sorting
 */

if (!defined('ABSPATH')) exit;

/**
 * Modify store archive query for sorting
 */
add_action('pre_get_posts', 'dealsindia_store_archive_sorting');
function dealsindia_store_archive_sorting($query) {
    
    // Only on frontend, main query, and store taxonomy
    if (is_admin() || !$query->is_main_query() || !is_tax('store')) {
        return;
    }
    
    // Get sorting parameter
    $orderby = isset($_GET['orderby']) ? sanitize_text_field($_GET['orderby']) : 'date-desc';
    
    switch ($orderby) {
        case 'date-asc':
            $query->set('orderby', 'date');
            $query->set('order', 'ASC');
            break;
            
        case 'price-asc':
            $query->set('meta_key', 'sale_price');
            $query->set('orderby', 'meta_value_num');
            $query->set('order', 'ASC');
            break;
            
        case 'price-desc':
            $query->set('meta_key', 'sale_price');
            $query->set('orderby', 'meta_value_num');
            $query->set('order', 'DESC');
            break;
            
        case 'discount-desc':
            $query->set('orderby', 'date');
            $query->set('order', 'DESC');
            break;
            
        default: // date-desc
            $query->set('orderby', 'date');
            $query->set('order', 'DESC');
    }
}
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\queries\deal-queries.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Deal Queries
 * Custom queries for deals
 * 
 * @package DealsIndia
 * @version 5.0 - CLEAN (NO DUPLICATES)
 */

if (!defined('ABSPATH')) exit;

/**
 * Get hot picks (featured/hot deals)
 */
function dealsindia_get_hot_picks($limit = 10) {
    $cache_key = 'dealsindia_hot_picks_' . $limit;
    $cached = get_transient($cache_key);

    if (false !== $cached) {
        return $cached;
    }

    // 1. Try to get featured/hot picks first
    $args = array(
        'post_type' => 'deals',
        'posts_per_page' => $limit,
        'post_status' => 'publish',
        'meta_query' => array(
            'relation' => 'OR',
            array(
                'key' => 'is_hot',
                'value' => '1',
                'compare' => '='
            ),
            array(
                'key' => 'is_featured',
                'value' => '1',
                'compare' => '='
            )
        )
    );
    
    $args = dealsindia_exclude_expired_deals($args);
    $query = new WP_Query($args);

    // 2. If not enough results, fill with latest deals
    if ($query->post_count < $limit) {
        $hot_ids = wp_list_pluck($query->posts, 'ID');
        
        $fill_args = array(
            'post_type' => 'deals',
            'posts_per_page' => $limit - $query->post_count,
            'post_status' => 'publish',
            'orderby' => 'date',
            'order' => 'DESC',
            'post__not_in' => $hot_ids
        );
        
        $fill_args = dealsindia_exclude_expired_deals($fill_args);
        $fill_query = new WP_Query($fill_args);

        if ($fill_query->have_posts()) {
            foreach ($fill_query->posts as $post) {
                $query->posts[] = $post;
            }
            $query->post_count = count($query->posts);
        }
    }

    set_transient($cache_key, $query, 3600);
    return $query;
}

/**
 * Get work steps
 */
function dealsindia_get_work_steps() {
    $cache_key = 'dealsindia_work_steps';
    $cached = get_transient($cache_key);
    
    if (false !== $cached) {
        return $cached;
    }
    
    $args = array(
        'post_type' => 'work_step',
        'posts_per_page' => 3,
        'post_status' => 'publish',
        'orderby' => 'menu_order',
        'order' => 'ASC'
    );
    
    $query = new WP_Query($args);
    $posts = $query->posts;
    
    set_transient($cache_key, $posts, 86400);
    return $posts;
}

/**
 * Get hero banners
 */
function dealsindia_get_hero_banners($limit = 5) {
    $cache_key = 'dealsindia_hero_banners_' . $limit;
    $cached = get_transient($cache_key);
    
    if (false !== $cached) {
        return $cached;
    }
    
    $args = array(
        'post_type' => 'hero_banner',
        'posts_per_page' => $limit,
        'post_status' => 'publish',
        'orderby' => 'menu_order',
        'order' => 'ASC',
        'meta_query' => array(
            array(
                'key' => 'banner_active',
                'value' => '1',
                'compare' => '='
            )
        )
    );
    
    $query = new WP_Query($args);
    $posts = $query->posts;
    
    set_transient($cache_key, $posts, 3600);
    return $posts;
}

/**
 * Exclude expired deals from query args
 * Uses function from performance-helpers.php
 */
function dealsindia_exclude_expired_deals($args) {
    if (!isset($args['meta_query'])) {
        $args['meta_query'] = array();
    }
    
    // Get cached expired IDs (from performance-helpers.php)
    $expired_ids = dealsindia_get_cached_expired_ids();
    
    if (!empty($expired_ids)) {
        $args['post__not_in'] = isset($args['post__not_in']) 
            ? array_merge($args['post__not_in'], $expired_ids) 
            : $expired_ids;
    }
    
    return $args;
}

/**
 * Get IDs of expired deals
 */
function dealsindia_get_expired_deal_ids() {
    global $wpdb;
    
    $current_time = current_time('mysql');
    
    $query = "
        SELECT p.ID 
        FROM {$wpdb->posts} p
        INNER JOIN {$wpdb->postmeta} pm1 ON p.ID = pm1.post_id AND pm1.meta_key = 'deal_expiry_date'
        LEFT JOIN {$wpdb->postmeta} pm2 ON p.ID = pm2.post_id AND pm2.meta_key = 'show_when_expired'
        WHERE p.post_type = 'deals'
        AND p.post_status = 'publish'
        AND pm1.meta_value < %s
        AND (pm2.meta_value IS NULL OR pm2.meta_value != '1')
    ";
    
    $expired_ids = $wpdb->get_col($wpdb->prepare($query, $current_time));
    return $expired_ids;
}

// ❌ REMOVED: dealsindia_get_cached_expired_ids() 
// This function already exists in performance-helpers.php

/**
 * Modify main query to exclude expired deals
 */
function dealsindia_exclude_expired_from_archives($query) {
    if (is_admin() || !$query->is_main_query()) {
        return;
    }
    
    if (is_post_type_archive('deals') || is_tax('deal_category') || is_tax('store')) {
        $expired_ids = dealsindia_get_cached_expired_ids();
        
        if (!empty($expired_ids)) {
            $post__not_in = $query->get('post__not_in');
            $post__not_in = is_array($post__not_in) ? $post__not_in : array();
            $query->set('post__not_in', array_merge($post__not_in, $expired_ids));
        }
    }
}
add_action('pre_get_posts', 'dealsindia_exclude_expired_from_archives');

/**
 * Clear hot picks cache when deal is saved
 */
function dealsindia_clear_hot_picks_cache($post_id) {
    if (get_post_type($post_id) !== 'deals') {
        return;
    }
    
    // Clear all hot picks caches
    for ($i = 1; $i <= 20; $i++) {
        delete_transient('dealsindia_hot_picks_' . $i);
    }
}
add_action('save_post', 'dealsindia_clear_hot_picks_cache');
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\setup\enqueue-assets.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Enqueue Assets - Global CSS & JavaScript Loading
 * All CSS files load globally (site-wide) - no conditional loading
 * 
 * @package ARRZONE
 * @version 3.0 - Fixed with Filter Localization
 */

if (!defined('ABSPATH')) exit;

/**
 * Enqueue all theme styles and scripts
 */
function dealsindia_enqueue_assets() {
    $theme_uri = get_template_directory_uri();
    $version = wp_get_theme()->get('Version');

    // ========================================
    // 1. GOOGLE FONTS
    // ========================================
    wp_enqueue_style(
        'dealsindia-google-fonts',
        'https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&family=Roboto+Mono:wght@400;500&display=swap',
        array(),
        null
    );

    // ========================================
    // 2. VARIABLES - Design Tokens (Load First)
    // ========================================
    wp_enqueue_style(
        'dealsindia-variables',
        $theme_uri . '/assets/css/variables.css',
        array('dealsindia-google-fonts'),
        $version
    );

    // ========================================
    // 3. GLOBAL - Resets, Utilities, Typography
    // ========================================
    wp_enqueue_style(
        'dealsindia-global',
        $theme_uri . '/assets/css/global.css',
        array('dealsindia-variables'),
        $version
    );

    // ========================================
    // 4. LAYOUT - Header, Footer, Grid Structure
    // ========================================
    wp_enqueue_style(
        'dealsindia-layout',
        $theme_uri . '/assets/css/layout.css',
        array('dealsindia-global'),
        $version
    );

    // ========================================
    // 5. COMPONENTS - Buttons, Cards, Forms
    // ========================================
    wp_enqueue_style(
        'dealsindia-components',
        $theme_uri . '/assets/css/components.css',
        array('dealsindia-layout'),
        $version
    );

    // ========================================
    // 6. HOMEPAGE - Homepage Specific Styles (GLOBAL)
    // ========================================
    wp_enqueue_style(
        'dealsindia-homepage',
        $theme_uri . '/assets/css/homepage.css',
        array('dealsindia-components'),
        $version
    );

    // ========================================
    // 7. PAGE - Archive/Single Page Styles (GLOBAL)
    // ========================================
    wp_enqueue_style(
        'dealsindia-page',
        $theme_uri . '/assets/css/page.css',
        array('dealsindia-components'),
        $version
    );

    // ========================================
    // JAVASCRIPT FILES
    // ========================================
    
    // Main JS
    wp_enqueue_script(
        'dealsindia-main',
        $theme_uri . '/assets/js/main.js',
        array('jquery'),
        $version,
        true
    );

    // Flip Card JS
    wp_enqueue_script(
        'dealsindia-flip-card',
        $theme_uri . '/assets/js/flip-card.js',
        array('jquery'),
        $version,
        true
    );

    // Banner Slider JS (Homepage)
    if (is_front_page() || is_home()) {
        wp_enqueue_script(
            'dealsindia-banner-slider',
            $theme_uri . '/assets/js/banner-slider.js',
            array('jquery'),
            $version,
            true
        );
    }

    // ========================================
    // FILTER JS (Archive Pages) - WITH LOCALIZATION
    // ========================================
    if (is_post_type_archive('deals') || is_tax()) {
        wp_enqueue_script(
            'dealsindia-filter',
            $theme_uri . '/assets/js/filter.js',
            array('jquery'),
            $version,
            true
        );
        
        // Get current page context for pre-filtering
        $context_type = '';
        $context_slug = '';
        
        if (is_tax('store')) {
            $context_type = 'store';
            $context_slug = get_queried_object()->slug;
        } elseif (is_tax('deal-category')) {
            $context_type = 'deal-category';
            $context_slug = get_queried_object()->slug;
        } elseif (is_tax('deal-type')) {
            $context_type = 'deal-type';
            $context_slug = get_queried_object()->slug;
        }
        
        // Localize script with AJAX data and context
        wp_localize_script('dealsindia-filter', 'dealsindiaFilter', array(
            'ajaxUrl'     => admin_url('admin-ajax.php'),
            'nonce'       => wp_create_nonce('dealsindia_filter_nonce'),
            'contextType' => $context_type,
            'contextSlug' => $context_slug,
            'strings'     => array(
                'loading'       => __('Loading deals...', 'dealsindia'),
                'ajaxError'     => __('An error occurred while filtering deals. Please try again.', 'dealsindia'),
                'dealSingular'  => __('deal found', 'dealsindia'),
                'dealPlural'    => __('deals found', 'dealsindia'),
                'noDeals'       => __('No deals found', 'dealsindia'),
                'clearFilters'  => __('Clear All Filters', 'dealsindia'),
            )
        ));
    }

    // ========================================
    // PERFORMANCE OPTIMIZATIONS
    // ========================================
    
    // Defer non-critical scripts
    add_filter('script_loader_tag', 'dealsindia_defer_scripts', 10, 2);
}
add_action('wp_enqueue_scripts', 'dealsindia_enqueue_assets');

/**
 * Defer non-critical JavaScript
 */
function dealsindia_defer_scripts($tag, $handle) {
    $defer_scripts = array(
        'dealsindia-flip-card',
        'dealsindia-banner-slider'
    );

    if (in_array($handle, $defer_scripts)) {
        return str_replace(' src', ' defer src', $tag);
    }

    return $tag;
}

/**
 * Remove unnecessary WordPress assets
 */
function dealsindia_remove_bloat() {
    // Remove emoji scripts
    remove_action('wp_head', 'print_emoji_detection_script', 7);
    remove_action('wp_print_styles', 'print_emoji_styles');
    
    // Remove block library CSS (if not using Gutenberg blocks)
    wp_dequeue_style('wp-block-library');
    wp_dequeue_style('wp-block-library-theme');
}
add_action('wp_enqueue_scripts', 'dealsindia_remove_bloat', 100);

/**
 * Admin Scripts - Media Uploader & Color Picker
 */
function dealsindia_admin_scripts($hook) {
    // Only load on specific admin pages
    $allowed_hooks = array('edit-tags.php', 'term.php', 'post.php', 'post-new.php');
    
    if (!in_array($hook, $allowed_hooks)) {
        return;
    }
    
    // Enqueue WordPress media library
    wp_enqueue_media();
    
    // Enqueue color picker
    wp_enqueue_style('wp-color-picker');
    wp_enqueue_script('wp-color-picker');
    
    // Enqueue custom admin media uploader script
    wp_enqueue_script(
        'dealsindia-admin-media',
        get_template_directory_uri() . '/assets/js/admin-media-uploader.js',
        array('jquery', 'wp-color-picker'),
        filemtime(get_template_directory() . '/assets/js/admin-media-uploader.js'),
        true
    );
}
add_action('admin_enqueue_scripts', 'dealsindia_admin_scripts');
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\setup\theme-config.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Theme Configuration - WordPress Customizer Settings
 * 100% Dynamic - All theme elements controlled from admin
 * 
 * @package ARRZONE
 * @version 6.0 - Complete with All Sections
 */

if (!defined('ABSPATH')) exit;

/**
 * Register WordPress Customizer Settings
 */
function dealsindia_customize_register($wp_customize) {
    
    // ========================================
    // ANNOUNCEMENT BAR SETTINGS
    // ========================================
    $wp_customize->add_section('dealsindia_announcement_bar', array(
        'title'    => __('Announcement Bar', 'dealsindia'),
        'priority' => 25,
    ));
    
    $wp_customize->add_setting('dealsindia_show_announcement_bar', array(
        'default'           => false,
        'sanitize_callback' => 'wp_validate_boolean',
    ));
    $wp_customize->add_control('dealsindia_show_announcement_bar', array(
        'label'   => __('Enable Announcement Bar', 'dealsindia'),
        'section' => 'dealsindia_announcement_bar',
        'type'    => 'checkbox',
    ));
    
    $wp_customize->add_setting('dealsindia_announcement_text', array(
        'default'           => '',
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_announcement_text', array(
        'label'   => __('Announcement Text', 'dealsindia'),
        'section' => 'dealsindia_announcement_bar',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_announcement_link', array(
        'default'           => '',
        'sanitize_callback' => 'esc_url_raw',
    ));
    $wp_customize->add_control('dealsindia_announcement_link', array(
        'label'   => __('Announcement Link (Optional)', 'dealsindia'),
        'section' => 'dealsindia_announcement_bar',
        'type'    => 'url',
    ));
    
    $wp_customize->add_setting('dealsindia_announcement_bg_color', array(
        'default'           => '#ff6b6b',
        'sanitize_callback' => 'sanitize_hex_color',
    ));
    $wp_customize->add_control(new WP_Customize_Color_Control($wp_customize, 'dealsindia_announcement_bg_color', array(
        'label'    => __('Background Color', 'dealsindia'),
        'section'  => 'dealsindia_announcement_bar',
        'settings' => 'dealsindia_announcement_bg_color',
    )));
    
    $wp_customize->add_setting('dealsindia_announcement_text_color', array(
        'default'           => '#ffffff',
        'sanitize_callback' => 'sanitize_hex_color',
    ));
    $wp_customize->add_control(new WP_Customize_Color_Control($wp_customize, 'dealsindia_announcement_text_color', array(
        'label'    => __('Text Color', 'dealsindia'),
        'section'  => 'dealsindia_announcement_bar',
        'settings' => 'dealsindia_announcement_text_color',
    )));
    
    $wp_customize->add_setting('dealsindia_announcement_closeable', array(
        'default'           => true,
        'sanitize_callback' => 'wp_validate_boolean',
    ));
    $wp_customize->add_control('dealsindia_announcement_closeable', array(
        'label'   => __('Show Close Button', 'dealsindia'),
        'section' => 'dealsindia_announcement_bar',
        'type'    => 'checkbox',
    ));
    
    // ========================================
    // TOP BAR SETTINGS
    // ========================================
    $wp_customize->add_section('dealsindia_topbar', array(
        'title'    => __('Top Bar', 'dealsindia'),
        'priority' => 26,
    ));
    
    $wp_customize->add_setting('dealsindia_show_topbar', array(
        'default'           => false,
        'sanitize_callback' => 'wp_validate_boolean',
    ));
    $wp_customize->add_control('dealsindia_show_topbar', array(
        'label'   => __('Enable Top Bar', 'dealsindia'),
        'section' => 'dealsindia_topbar',
        'type'    => 'checkbox',
    ));
    
    $wp_customize->add_setting('dealsindia_topbar_message', array(
        'default'           => '',
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_topbar_message', array(
        'label'   => __('Top Bar Message', 'dealsindia'),
        'section' => 'dealsindia_topbar',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_topbar_phone', array(
        'default'           => '',
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_topbar_phone', array(
        'label'   => __('Phone Number', 'dealsindia'),
        'section' => 'dealsindia_topbar',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_topbar_email', array(
        'default'           => '',
        'sanitize_callback' => 'sanitize_email',
    ));
    $wp_customize->add_control('dealsindia_topbar_email', array(
        'label'   => __('Email Address', 'dealsindia'),
        'section' => 'dealsindia_topbar',
        'type'    => 'email',
    ));
    
    // ========================================
    // HEADER SETTINGS
    // ========================================
    $wp_customize->add_section('dealsindia_header', array(
        'title'    => __('Header Settings', 'dealsindia'),
        'priority' => 27,
    ));
    
    $wp_customize->add_setting('dealsindia_sticky_header', array(
        'default'           => true,
        'sanitize_callback' => 'wp_validate_boolean',
    ));
    $wp_customize->add_control('dealsindia_sticky_header', array(
        'label'   => __('Enable Sticky Header', 'dealsindia'),
        'section' => 'dealsindia_header',
        'type'    => 'checkbox',
    ));
    
    $wp_customize->add_setting('dealsindia_logo_emoji_fallback', array(
        'default'           => '🏷️',
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_logo_emoji_fallback', array(
        'label'       => __('Logo Emoji Fallback', 'dealsindia'),
        'description' => __('Used when no custom logo is uploaded', 'dealsindia'),
        'section'     => 'dealsindia_header',
        'type'        => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_search_placeholder', array(
        'default'           => __('Search for deals, stores...', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_search_placeholder', array(
        'label'   => __('Search Placeholder Text', 'dealsindia'),
        'section' => 'dealsindia_header',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_show_header_cta', array(
        'default'           => false,
        'sanitize_callback' => 'wp_validate_boolean',
    ));
    $wp_customize->add_control('dealsindia_show_header_cta', array(
        'label'   => __('Enable Header CTA Button', 'dealsindia'),
        'section' => 'dealsindia_header',
        'type'    => 'checkbox',
    ));
    
    $wp_customize->add_setting('dealsindia_header_cta_text', array(
        'default'           => __('Submit Deal', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_header_cta_text', array(
        'label'   => __('CTA Button Text', 'dealsindia'),
        'section' => 'dealsindia_header',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_header_cta_link', array(
        'default'           => '#',
        'sanitize_callback' => 'esc_url_raw',
    ));
    $wp_customize->add_control('dealsindia_header_cta_link', array(
        'label'   => __('CTA Button Link', 'dealsindia'),
        'section' => 'dealsindia_header',
        'type'    => 'url',
    ));
    
    $wp_customize->add_setting('dealsindia_header_cta_style', array(
        'default'           => 'primary',
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_header_cta_style', array(
        'label'   => __('CTA Button Style', 'dealsindia'),
        'section' => 'dealsindia_header',
        'type'    => 'select',
        'choices' => array(
            'primary'   => __('Primary', 'dealsindia'),
            'secondary' => __('Secondary', 'dealsindia'),
            'outline'   => __('Outline', 'dealsindia'),
        ),
    ));
    
    // ========================================
    // MOBILE MENU SETTINGS
    // ========================================
    $wp_customize->add_section('dealsindia_mobile_menu', array(
        'title'    => __('Mobile Menu Settings', 'dealsindia'),
        'priority' => 28,
    ));
    
    $wp_customize->add_setting('dealsindia_show_mobile_categories', array(
        'default'           => true,
        'sanitize_callback' => 'wp_validate_boolean',
    ));
    $wp_customize->add_control('dealsindia_show_mobile_categories', array(
        'label'   => __('Show Categories in Mobile Menu', 'dealsindia'),
        'section' => 'dealsindia_mobile_menu',
        'type'    => 'checkbox',
    ));
    
    $wp_customize->add_setting('dealsindia_mobile_cat_title', array(
        'default'           => __('Top Categories', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_mobile_cat_title', array(
        'label'   => __('Categories Section Title', 'dealsindia'),
        'section' => 'dealsindia_mobile_menu',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_mobile_categories_count', array(
        'default'           => 5,
        'sanitize_callback' => 'absint',
    ));
    $wp_customize->add_control('dealsindia_mobile_categories_count', array(
        'label'   => __('Number of Categories to Show', 'dealsindia'),
        'section' => 'dealsindia_mobile_menu',
        'type'    => 'number',
        'input_attrs' => array(
            'min'  => 1,
            'max'  => 20,
            'step' => 1,
        ),
    ));
    
    $wp_customize->add_setting('dealsindia_show_mobile_dealtypes', array(
        'default'           => false,
        'sanitize_callback' => 'wp_validate_boolean',
    ));
    $wp_customize->add_control('dealsindia_show_mobile_dealtypes', array(
        'label'   => __('Show Deal Types in Mobile Menu', 'dealsindia'),
        'section' => 'dealsindia_mobile_menu',
        'type'    => 'checkbox',
    ));
    
    $wp_customize->add_setting('dealsindia_mobile_dealtype_title', array(
        'default'           => __('Deal Types', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_mobile_dealtype_title', array(
        'label'   => __('Deal Types Section Title', 'dealsindia'),
        'section' => 'dealsindia_mobile_menu',
        'type'    => 'text',
    ));
    
    // ========================================
    // HOMEPAGE HERO SECTION
    // ========================================
    $wp_customize->add_section('dealsindia_hero', array(
        'title'    => __('Homepage Hero Section', 'dealsindia'),
        'priority' => 30,
    ));
    
    $wp_customize->add_setting('hero_title', array(
        'default'           => __('Find Amazing Deals & Discounts', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('hero_title', array(
        'label'   => __('Hero Title', 'dealsindia'),
        'section' => 'dealsindia_hero',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('hero_subtitle', array(
        'default'           => __('Save money with exclusive coupons, offers & cashback from 3000+ stores', 'dealsindia'),
        'sanitize_callback' => 'sanitize_textarea_field',
    ));
    $wp_customize->add_control('hero_subtitle', array(
        'label'   => __('Hero Subtitle', 'dealsindia'),
        'section' => 'dealsindia_hero',
        'type'    => 'textarea',
    ));
    
    $wp_customize->add_setting('hero_cta_text', array(
        'default'           => __('Browse All Deals', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('hero_cta_text', array(
        'label'   => __('Hero Button Text', 'dealsindia'),
        'section' => 'dealsindia_hero',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('hero_cta_link', array(
        'default'           => '/deals',
        'sanitize_callback' => 'esc_url_raw',
    ));
    $wp_customize->add_control('hero_cta_link', array(
        'label'   => __('Hero Button Link', 'dealsindia'),
        'section' => 'dealsindia_hero',
        'type'    => 'url',
    ));
    
    // ========================================
    // WORK STEPS SECTION
    // ========================================
    $wp_customize->add_section('dealsindia_work_steps', array(
        'title'    => __('How It Works Section', 'dealsindia'),
        'priority' => 40,
    ));
    
    $wp_customize->add_setting('work_steps_title', array(
        'default'           => __('How It Works', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('work_steps_title', array(
        'label'   => __('Section Title', 'dealsindia'),
        'section' => 'dealsindia_work_steps',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('step1_title', array(
        'default'           => __('Browse Deals', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('step1_title', array(
        'label'   => __('Step 1 Title', 'dealsindia'),
        'section' => 'dealsindia_work_steps',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('step1_desc', array(
        'default'           => __('Find verified deals from your favorite stores', 'dealsindia'),
        'sanitize_callback' => 'sanitize_textarea_field',
    ));
    $wp_customize->add_control('step1_desc', array(
        'label'   => __('Step 1 Description', 'dealsindia'),
        'section' => 'dealsindia_work_steps',
        'type'    => 'textarea',
    ));
    
    $wp_customize->add_setting('step2_title', array(
        'default'           => __('Get Coupon Code', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('step2_title', array(
        'label'   => __('Step 2 Title', 'dealsindia'),
        'section' => 'dealsindia_work_steps',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('step2_desc', array(
        'default'           => __('Click to reveal and copy the promo code', 'dealsindia'),
        'sanitize_callback' => 'sanitize_textarea_field',
    ));
    $wp_customize->add_control('step2_desc', array(
        'label'   => __('Step 2 Description', 'dealsindia'),
        'section' => 'dealsindia_work_steps',
        'type'    => 'textarea',
    ));
    
    $wp_customize->add_setting('step3_title', array(
        'default'           => __('Save Money', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('step3_title', array(
        'label'   => __('Step 3 Title', 'dealsindia'),
        'section' => 'dealsindia_work_steps',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('step3_desc', array(
        'default'           => __('Apply code at checkout and enjoy savings!', 'dealsindia'),
        'sanitize_callback' => 'sanitize_textarea_field',
    ));
    $wp_customize->add_control('step3_desc', array(
        'label'   => __('Step 3 Description', 'dealsindia'),
        'section' => 'dealsindia_work_steps',
        'type'    => 'textarea',
    ));
    
    // ========================================
    // HOT PICKS SECTION
    // ========================================
    $wp_customize->add_section('dealsindia_hot_picks', array(
        'title'    => __('Hot Picks Section', 'dealsindia'),
        'priority' => 45,
    ));
    
    $wp_customize->add_setting('hot_picks_title', array(
        'default'           => __('🔥 Festival Hot Picks!', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('hot_picks_title', array(
        'label'   => __('Section Title', 'dealsindia'),
        'section' => 'dealsindia_hot_picks',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('hot_picks_button_text', array(
        'default'           => __('See More', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('hot_picks_button_text', array(
        'label'   => __('Button Text', 'dealsindia'),
        'section' => 'dealsindia_hot_picks',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('hot_picks_bg_image', array(
        'default'           => '',
        'sanitize_callback' => 'esc_url_raw',
    ));
    $wp_customize->add_control(new WP_Customize_Image_Control($wp_customize, 'hot_picks_bg_image', array(
        'label'    => __('Background Image', 'dealsindia'),
        'section'  => 'dealsindia_hot_picks',
        'settings' => 'hot_picks_bg_image',
    )));
    
    // ========================================
    // TOP STORES SECTION
    // ========================================
    $wp_customize->add_section('dealsindia_top_stores', array(
        'title'    => __('Top Stores Section', 'dealsindia'),
        'priority' => 50,
    ));
    
    $wp_customize->add_setting('top_stores_title', array(
        'default'           => __('Top Stores', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('top_stores_title', array(
        'label'   => __('Section Title', 'dealsindia'),
        'section' => 'dealsindia_top_stores',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('top_stores_button_text', array(
        'default'           => __('View All Stores', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('top_stores_button_text', array(
        'label'   => __('Button Text', 'dealsindia'),
        'section' => 'dealsindia_top_stores',
        'type'    => 'text',
    ));
    
    // ========================================
    // NEWSLETTER SECTION (HOMEPAGE)
    // ========================================
    $wp_customize->add_section('dealsindia_newsletter', array(
        'title'    => __('Newsletter Section (Homepage)', 'dealsindia'),
        'priority' => 55,
    ));
    
    $wp_customize->add_setting('newsletter_title', array(
        'default'           => __('Never Miss a Deal!', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('newsletter_title', array(
        'label'   => __('Newsletter Title', 'dealsindia'),
        'section' => 'dealsindia_newsletter',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('newsletter_subtitle', array(
        'default'           => __('Subscribe to get the best deals delivered to your inbox', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('newsletter_subtitle', array(
        'label'   => __('Newsletter Subtitle', 'dealsindia'),
        'section' => 'dealsindia_newsletter',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('newsletter_btn_text', array(
        'default'           => __('Subscribe', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('newsletter_btn_text', array(
        'label'   => __('Button Text', 'dealsindia'),
        'section' => 'dealsindia_newsletter',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('newsletter_placeholder', array(
        'default'           => __('Enter your email address', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('newsletter_placeholder', array(
        'label'   => __('Input Placeholder', 'dealsindia'),
        'section' => 'dealsindia_newsletter',
        'type'    => 'text',
    ));
    
    // ========================================
    // NEWSLETTER SECTION (FOOTER)
    // ========================================
    $wp_customize->add_section('dealsindia_newsletter_footer', array(
        'title'    => __('Newsletter (Footer)', 'dealsindia'),
        'priority' => 115,
    ));
    
    $wp_customize->add_setting('dealsindia_show_newsletter', array(
        'default'           => true,
        'sanitize_callback' => 'wp_validate_boolean',
    ));
    $wp_customize->add_control('dealsindia_show_newsletter', array(
        'label'   => __('Show Newsletter Section', 'dealsindia'),
        'section' => 'dealsindia_newsletter_footer',
        'type'    => 'checkbox',
    ));
    
    $wp_customize->add_setting('dealsindia_newsletter_icon', array(
        'default'           => '📧',
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_newsletter_icon', array(
        'label'   => __('Newsletter Icon (Emoji)', 'dealsindia'),
        'section' => 'dealsindia_newsletter_footer',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_newsletter_title', array(
        'default'           => __('Never Miss a Deal!', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_newsletter_title', array(
        'label'   => __('Newsletter Title', 'dealsindia'),
        'section' => 'dealsindia_newsletter_footer',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_newsletter_subtitle', array(
        'default'           => __('Subscribe to get the hottest deals delivered to your inbox.', 'dealsindia'),
        'sanitize_callback' => 'sanitize_textarea_field',
    ));
    $wp_customize->add_control('dealsindia_newsletter_subtitle', array(
        'label'   => __('Newsletter Subtitle', 'dealsindia'),
        'section' => 'dealsindia_newsletter_footer',
        'type'    => 'textarea',
    ));
    
    $wp_customize->add_setting('dealsindia_newsletter_placeholder', array(
        'default'           => __('Enter your email address', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_newsletter_placeholder', array(
        'label'   => __('Email Input Placeholder', 'dealsindia'),
        'section' => 'dealsindia_newsletter_footer',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_newsletter_button_text', array(
        'default'           => __('Subscribe', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_newsletter_button_text', array(
        'label'   => __('Button Text', 'dealsindia'),
        'section' => 'dealsindia_newsletter_footer',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_newsletter_privacy_text', array(
        'default'           => __('We respect your privacy. Unsubscribe anytime.', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_newsletter_privacy_text', array(
        'label'   => __('Privacy Text', 'dealsindia'),
        'section' => 'dealsindia_newsletter_footer',
        'type'    => 'text',
    ));
    
    // ========================================
    // FOOTER - ABOUT SECTION
    // ========================================
    $wp_customize->add_section('dealsindia_footer_about', array(
        'title'    => __('Footer - About Section', 'dealsindia'),
        'priority' => 116,
    ));
    
    $wp_customize->add_setting('dealsindia_footer_about', array(
        'default'           => get_bloginfo('description'),
        'sanitize_callback' => 'sanitize_textarea_field',
    ));
    $wp_customize->add_control('dealsindia_footer_about', array(
        'label'   => __('About Description', 'dealsindia'),
        'section' => 'dealsindia_footer_about',
        'type'    => 'textarea',
    ));
    
    // ========================================
    // FOOTER - SOCIAL MEDIA LINKS
    // ========================================
    $wp_customize->add_section('dealsindia_footer_social_links', array(
        'title'    => __('Footer - Social Media', 'dealsindia'),
        'priority' => 117,
    ));
    
    $social_networks = array(
        'facebook'  => __('Facebook', 'dealsindia'),
        'twitter'   => __('Twitter', 'dealsindia'),
        'instagram' => __('Instagram', 'dealsindia'),
        'youtube'   => __('YouTube', 'dealsindia'),
        'telegram'  => __('Telegram', 'dealsindia'),
    );
    
    foreach ($social_networks as $network => $label) {
        $wp_customize->add_setting('dealsindia_social_' . $network, array(
            'default'           => '',
            'sanitize_callback' => 'esc_url_raw',
        ));
        $wp_customize->add_control('dealsindia_social_' . $network, array(
            'label'       => sprintf(__('%s URL', 'dealsindia'), $label),
            'description' => sprintf(__('Enter your %s profile URL', 'dealsindia'), $label),
            'section'     => 'dealsindia_footer_social_links',
            'type'        => 'url',
        ));
    }
    
    // ========================================
    // FOOTER - COLUMN SETTINGS
    // ========================================
    $wp_customize->add_section('dealsindia_footer_columns', array(
        'title'    => __('Footer - Column Settings', 'dealsindia'),
        'priority' => 118,
    ));
    
    $wp_customize->add_setting('dealsindia_footer_links_title', array(
        'default'           => __('Quick Links', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_footer_links_title', array(
        'label'   => __('Quick Links Column Title', 'dealsindia'),
        'section' => 'dealsindia_footer_columns',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_footer_categories_title', array(
        'default'           => __('Popular Categories', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_footer_categories_title', array(
        'label'   => __('Categories Column Title', 'dealsindia'),
        'section' => 'dealsindia_footer_columns',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_footer_categories_count', array(
        'default'           => 6,
        'sanitize_callback' => 'absint',
    ));
    $wp_customize->add_control('dealsindia_footer_categories_count', array(
        'label'       => __('Number of Categories to Display', 'dealsindia'),
        'description' => __('Maximum 12', 'dealsindia'),
        'section'     => 'dealsindia_footer_columns',
        'type'        => 'number',
        'input_attrs' => array(
            'min'  => 1,
            'max'  => 12,
            'step' => 1,
        ),
    ));
    
    $wp_customize->add_setting('dealsindia_footer_stores_title', array(
        'default'           => __('Top Stores', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_footer_stores_title', array(
        'label'   => __('Stores Column Title', 'dealsindia'),
        'section' => 'dealsindia_footer_columns',
        'type'    => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_footer_stores_count', array(
        'default'           => 6,
        'sanitize_callback' => 'absint',
    ));
    $wp_customize->add_control('dealsindia_footer_stores_count', array(
        'label'       => __('Number of Stores to Display', 'dealsindia'),
        'description' => __('Maximum 12', 'dealsindia'),
        'section'     => 'dealsindia_footer_columns',
        'type'        => 'number',
        'input_attrs' => array(
            'min'  => 1,
            'max'  => 12,
            'step' => 1,
        ),
    ));
    
    // ========================================
    // FOOTER - BOTTOM SECTION
    // ========================================
    $wp_customize->add_section('dealsindia_footer_bottom', array(
        'title'    => __('Footer - Bottom Bar', 'dealsindia'),
        'priority' => 119,
    ));
    
    $wp_customize->add_setting('dealsindia_copyright_text', array(
        'default'           => '&copy; {year} ' . get_bloginfo('name') . '. All Rights Reserved.',
        'sanitize_callback' => 'wp_kses_post',
    ));
    $wp_customize->add_control('dealsindia_copyright_text', array(
        'label'       => __('Copyright Text', 'dealsindia'),
        'description' => __('Use {year} to automatically insert current year', 'dealsindia'),
        'section'     => 'dealsindia_footer_bottom',
        'type'        => 'text',
    ));
    
    $wp_customize->add_setting('dealsindia_show_payment_methods', array(
        'default'           => true,
        'sanitize_callback' => 'wp_validate_boolean',
    ));
    $wp_customize->add_control('dealsindia_show_payment_methods', array(
        'label'   => __('Show Payment Methods', 'dealsindia'),
        'section' => 'dealsindia_footer_bottom',
        'type'    => 'checkbox',
    ));
    
    $wp_customize->add_setting('dealsindia_payment_text', array(
        'default'           => __('We Accept:', 'dealsindia'),
        'sanitize_callback' => 'sanitize_text_field',
    ));
    $wp_customize->add_control('dealsindia_payment_text', array(
        'label'   => __('Payment Methods Label', 'dealsindia'),
        'section' => 'dealsindia_footer_bottom',
        'type'    => 'text',
    ));
    
}
add_action('customize_register', 'dealsindia_customize_register');

// ===================================================== 
// SEO ENHANCEMENTS
// ===================================================== 

/**
 * Enable WordPress Title Tag Support
 * Automatically generates <title> tags for all pages
 */
add_action('after_setup_theme', 'arrzone_seo_setup');
function arrzone_seo_setup() {
    // Enable automatic title tag generation
    add_theme_support('title-tag');
    
    // Enable HTML5 support for better markup
    add_theme_support('html5', array(
        'search-form',
        'comment-form',
        'comment-list',
        'gallery',
        'caption',
        'script',
        'style'
    ));
}

/**
 * Add custom post types to sitemap
 */
add_filter('wp_sitemaps_post_types', 'arrzone_add_sitemap_post_types');
function arrzone_add_sitemap_post_types($post_types) {
    // Add deals to sitemap
    if (isset($post_types['deals'])) {
        $post_types['deals']->name = 'deals';
    }
    
    // Add giveaways to sitemap
    if (isset($post_types['giveaway'])) {
        $post_types['giveaway']->name = 'giveaway';
    }
    
    return $post_types;
}

/**
 * Add taxonomies to sitemap
 */
add_filter('wp_sitemaps_taxonomies', 'arrzone_add_sitemap_taxonomies');
function arrzone_add_sitemap_taxonomies($taxonomies) {
    // Add deal categories
    if (isset($taxonomies['deal-category'])) {
        $taxonomies['deal-category']->name = 'deal-category';
    }
    
    // Add stores
    if (isset($taxonomies['store'])) {
        $taxonomies['store']->name = 'store';
    }
    
    return $taxonomies;
}
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\taxonomies\campaigns.php === 
<?php
if (!defined('ABSPATH')) exit; // Exit if accessed directly

/**
 * Campaigns Taxonomy - Festival & Sale Events
 * Registers campaigns (Amazon Great Indian Festival, Diwali Sale, etc.)
 * 
 * Meta Fields:
 * - Campaign Banner Image (Hero)
 * - Start Date & End Date
 * - Campaign Status (Active/Upcoming/Expired)
 * - Campaign Icon (Emoji)
 * - Campaign Color Theme
 * - Featured Toggle
 * - Campaign Tagline
 * 
 * @package ARRZONE
 * @version 1.0 - Campaigns Launch
 */

// =====================================================
// REGISTER CAMPAIGNS TAXONOMY
// =====================================================

/**
 * Register Campaigns Taxonomy
 */
function dealsindia_register_campaign_taxonomy() {
    $labels = array(
        'name'              => __('Campaigns', 'dealsindia'),
        'singular_name'     => __('Campaign', 'dealsindia'),
        'search_items'      => __('Search Campaigns', 'dealsindia'),
        'all_items'         => __('All Campaigns', 'dealsindia'),
        'edit_item'         => __('Edit Campaign', 'dealsindia'),
        'update_item'       => __('Update Campaign', 'dealsindia'),
        'add_new_item'      => __('Add New Campaign', 'dealsindia'),
        'new_item_name'     => __('New Campaign Name', 'dealsindia'),
        'menu_name'         => __('Campaigns', 'dealsindia'),
    );

    $args = array(
        'hierarchical'      => true,  // ✅ CHANGED TO TRUE - Shows checkboxes
        'labels'            => $labels,
        'show_ui'           => true,
        'show_admin_column' => true,
        'query_var'         => true,
        'rewrite'           => array(
            'slug'       => 'campaign',
            'with_front' => false
        ),
        'show_in_rest'      => true,
    );

    register_taxonomy('campaign', array('deals'), $args);
}
add_action('init', 'dealsindia_register_campaign_taxonomy', 0);

// =====================================================
// CAMPAIGN META FIELDS - ADD FORM
// =====================================================

/**
 * Add Campaign Meta Fields to Add New Form
 */
function dealsindia_add_campaign_meta_fields() {
    ?>
    <!-- Campaign Icon (Emoji) -->
    <div class="form-field term-icon-wrap">
        <label for="campaign_icon"><?php _e('Campaign Icon (Emoji)', 'dealsindia'); ?></label>
        <input type="text" id="campaign_icon" name="campaign_icon" placeholder="🎉" maxlength="2" style="font-size: 24px;">
        <p class="description"><?php _e('Enter emoji icon (e.g., 🎉 for Festival, 🔥 for Sale)', 'dealsindia'); ?></p>
    </div>

    <!-- Campaign Banner -->
    <div class="form-field term-banner-wrap">
        <label for="campaign_banner_id"><?php _e('Campaign Banner Image', 'dealsindia'); ?></label>
        <input type="hidden" id="campaign_banner_id" name="campaign_banner_id" value="">
        <button type="button" class="button campaign-banner-upload-btn"><?php _e('Upload Banner Image', 'dealsindia'); ?></button>
        <p class="description"><?php _e('Recommended size: 1920x400px. Used as hero background on campaign page.', 'dealsindia'); ?></p>
    </div>

    <!-- Campaign Color -->
    <div class="form-field term-color-wrap">
        <label for="campaign_color"><?php _e('Campaign Color Theme', 'dealsindia'); ?></label>
        <input type="text" id="campaign_color" name="campaign_color" value="#ff6b6b" class="dealsindia-color-picker">
        <p class="description"><?php _e('Used in campaign badges and backgrounds.', 'dealsindia'); ?></p>
    </div>

    <!-- Start Date -->
    <div class="form-field term-start-date-wrap">
        <label for="campaign_start_date"><?php _e('Campaign Start Date', 'dealsindia'); ?></label>
        <input type="date" id="campaign_start_date" name="campaign_start_date" class="regular-text">
        <p class="description"><?php _e('When does this campaign start?', 'dealsindia'); ?></p>
    </div>

    <!-- End Date -->
    <div class="form-field term-end-date-wrap">
        <label for="campaign_end_date"><?php _e('Campaign End Date', 'dealsindia'); ?></label>
        <input type="date" id="campaign_end_date" name="campaign_end_date" class="regular-text">
        <p class="description"><?php _e('When does this campaign end?', 'dealsindia'); ?></p>
    </div>

    <!-- Campaign Tagline -->
    <div class="form-field term-tagline-wrap">
        <label for="campaign_tagline"><?php _e('Campaign Tagline', 'dealsindia'); ?></label>
        <input type="text" id="campaign_tagline" name="campaign_tagline" placeholder="Save Big This Diwali!" class="regular-text">
        <p class="description"><?php _e('Short tagline displayed on campaign page.', 'dealsindia'); ?></p>
    </div>

    <!-- Featured Campaign -->
    <div class="form-field term-featured-wrap">
        <label for="campaign_is_featured">
            <input type="checkbox" id="campaign_is_featured" name="campaign_is_featured" value="1">
            <?php _e('Mark as Featured Campaign', 'dealsindia'); ?>
        </label>
        <p class="description"><?php _e('Featured campaigns appear in Hot Picks section.', 'dealsindia'); ?></p>
    </div>
    <?php
}
add_action('campaign_add_form_fields', 'dealsindia_add_campaign_meta_fields');

// =====================================================
// CAMPAIGN META FIELDS - EDIT FORM
// =====================================================

/**
 * Edit Campaign Meta Fields on Edit Form
 */
function dealsindia_edit_campaign_meta_fields($term) {
    // Get existing values
    $icon = get_term_meta($term->term_id, 'campaign_icon', true);
    $banner_id = get_term_meta($term->term_id, 'campaign_banner_id', true);
    $banner_url = $banner_id ? wp_get_attachment_url($banner_id) : '';
    $color = get_term_meta($term->term_id, 'campaign_color', true);
    if (!$color) $color = '#ff6b6b';
    $start_date = get_term_meta($term->term_id, 'campaign_start_date', true);
    $end_date = get_term_meta($term->term_id, 'campaign_end_date', true);
    $tagline = get_term_meta($term->term_id, 'campaign_tagline', true);
    $is_featured = get_term_meta($term->term_id, 'campaign_is_featured', true);
    
    // Calculate status
    $today = current_time('Y-m-d');
    $status = 'Active';
    if ($start_date && $today < $start_date) {
        $status = 'Upcoming';
    } elseif ($end_date && $today > $end_date) {
        $status = 'Expired';
    }
    ?>
    
    <!-- Campaign Status (Auto-calculated) -->
    <tr class="form-field">
        <th scope="row" valign="top">
            <label><?php _e('Campaign Status', 'dealsindia'); ?></label>
        </th>
        <td>
            <?php
            $status_colors = array(
                'Active' => '#00b894',
                'Upcoming' => '#fdcb6e',
                'Expired' => '#d63031'
            );
            $status_color = isset($status_colors[$status]) ? $status_colors[$status] : '#95a5a6';
            ?>
            <span style="display: inline-block; padding: 5px 15px; background: <?php echo esc_attr($status_color); ?>; color: white; border-radius: 4px; font-weight: bold;">
                <?php echo esc_html($status); ?>
            </span>
            <p class="description"><?php _e('Status is automatically calculated from start/end dates.', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Campaign Icon -->
    <tr class="form-field term-icon-wrap">
        <th scope="row" valign="top">
            <label for="campaign_icon"><?php _e('Campaign Icon', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="campaign_icon" name="campaign_icon" value="<?php echo esc_attr($icon); ?>" maxlength="2" style="font-size: 24px; width: 80px;">
            <p class="description"><?php _e('Emoji icon for the campaign', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Campaign Banner -->
    <tr class="form-field term-banner-wrap">
        <th scope="row" valign="top">
            <label for="campaign_banner_id"><?php _e('Campaign Banner', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="hidden" id="campaign_banner_id" name="campaign_banner_id" value="<?php echo esc_attr($banner_id); ?>">
            <button type="button" class="button campaign-banner-upload-btn">
                <?php echo $banner_url ? __('Change Banner', 'dealsindia') : __('Upload Banner', 'dealsindia'); ?>
            </button>
            <?php if ($banner_url) : ?>
                <button type="button" class="button campaign-banner-remove-btn" style="margin-left: 10px;"><?php _e('Remove Banner', 'dealsindia'); ?></button>
                <div class="campaign-banner-preview">
                    <img src="<?php echo esc_url($banner_url); ?>" style="max-width: 400px; height: auto; margin-top: 10px; border: 2px solid #ddd; border-radius: 8px; display: block;">
                </div>
            <?php endif; ?>
            <p class="description"><?php _e('Recommended: 1920x400px', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Campaign Color -->
    <tr class="form-field term-color-wrap">
        <th scope="row" valign="top">
            <label for="campaign_color"><?php _e('Campaign Color', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="campaign_color" name="campaign_color" value="<?php echo esc_attr($color); ?>" class="dealsindia-color-picker">
            <p class="description"><?php _e('Theme color for badges and accents', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Start Date -->
    <tr class="form-field term-start-date-wrap">
        <th scope="row" valign="top">
            <label for="campaign_start_date"><?php _e('Start Date', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="date" id="campaign_start_date" name="campaign_start_date" value="<?php echo esc_attr($start_date); ?>" class="regular-text">
            <p class="description"><?php _e('Campaign start date', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- End Date -->
    <tr class="form-field term-end-date-wrap">
        <th scope="row" valign="top">
            <label for="campaign_end_date"><?php _e('End Date', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="date" id="campaign_end_date" name="campaign_end_date" value="<?php echo esc_attr($end_date); ?>" class="regular-text">
            <p class="description"><?php _e('Campaign end date', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Tagline -->
    <tr class="form-field term-tagline-wrap">
        <th scope="row" valign="top">
            <label for="campaign_tagline"><?php _e('Campaign Tagline', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="campaign_tagline" name="campaign_tagline" value="<?php echo esc_attr($tagline); ?>" class="large-text">
            <p class="description"><?php _e('Short promotional tagline', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Featured Toggle -->
    <tr class="form-field term-featured-wrap">
        <th scope="row" valign="top">
            <label for="campaign_is_featured"><?php _e('Featured Campaign', 'dealsindia'); ?></label>
        </th>
        <td>
            <label>
                <input type="checkbox" id="campaign_is_featured" name="campaign_is_featured" value="1" <?php checked($is_featured, '1'); ?>>
                <?php _e('Mark as Featured', 'dealsindia'); ?>
            </label>
            <p class="description"><?php _e('Featured campaigns appear in Hot Picks', 'dealsindia'); ?></p>
        </td>
    </tr>
    <?php
}
add_action('campaign_edit_form_fields', 'dealsindia_edit_campaign_meta_fields');

// =====================================================
// SAVE CAMPAIGN META
// =====================================================

/**
 * Save Campaign Meta Fields
 */
function dealsindia_save_campaign_meta_fields($term_id) {
    if (isset($_POST['campaign_icon'])) {
        update_term_meta($term_id, 'campaign_icon', sanitize_text_field($_POST['campaign_icon']));
    }
    
    if (isset($_POST['campaign_banner_id'])) {
        update_term_meta($term_id, 'campaign_banner_id', absint($_POST['campaign_banner_id']));
    }
    
    if (isset($_POST['campaign_color'])) {
        update_term_meta($term_id, 'campaign_color', sanitize_hex_color($_POST['campaign_color']));
    }
    
    if (isset($_POST['campaign_start_date'])) {
        update_term_meta($term_id, 'campaign_start_date', sanitize_text_field($_POST['campaign_start_date']));
    }
    
    if (isset($_POST['campaign_end_date'])) {
        update_term_meta($term_id, 'campaign_end_date', sanitize_text_field($_POST['campaign_end_date']));
    }
    
    if (isset($_POST['campaign_tagline'])) {
        update_term_meta($term_id, 'campaign_tagline', sanitize_text_field($_POST['campaign_tagline']));
    }
    
    // Featured toggle (checkbox - isset is enough)
    $is_featured = isset($_POST['campaign_is_featured']) ? '1' : '0';
    update_term_meta($term_id, 'campaign_is_featured', $is_featured);
}
add_action('created_campaign', 'dealsindia_save_campaign_meta_fields');
add_action('edited_campaign', 'dealsindia_save_campaign_meta_fields');

// =====================================================
// ADMIN COLUMNS
// =====================================================

/**
 * Add Custom Columns to Campaign List Table
 */
function dealsindia_campaign_columns($columns) {
    $new_columns = array();
    
    if (isset($columns['cb'])) {
        $new_columns['cb'] = $columns['cb'];
    }
    
    $new_columns['icon'] = __('Icon', 'dealsindia');
    $new_columns['name'] = $columns['name'];
    $new_columns['status'] = __('Status', 'dealsindia');
    $new_columns['dates'] = __('Duration', 'dealsindia');
    $new_columns['featured'] = __('Featured', 'dealsindia');
    
    if (isset($columns['posts'])) {
        $new_columns['posts'] = $columns['posts'];
    }
    
    return $new_columns;
}
add_filter('manage_edit-campaign_columns', 'dealsindia_campaign_columns');

/**
 * Display Custom Column Content
 */
function dealsindia_campaign_column_content($content, $column_name, $term_id) {
    if ($column_name === 'icon') {
        $icon = get_term_meta($term_id, 'campaign_icon', true);
        $content = $icon ? '<span style="font-size: 32px;">' . esc_html($icon) . '</span>' : '—';
    }
    
    if ($column_name === 'status') {
        $start_date = get_term_meta($term_id, 'campaign_start_date', true);
        $end_date = get_term_meta($term_id, 'campaign_end_date', true);
        $today = current_time('Y-m-d');
        
        $status = 'Active';
        $color = '#00b894';
        
        if ($start_date && $today < $start_date) {
            $status = 'Upcoming';
            $color = '#fdcb6e';
        } elseif ($end_date && $today > $end_date) {
            $status = 'Expired';
            $color = '#d63031';
        }
        
        $content = '<span style="display: inline-block; padding: 3px 10px; background: ' . esc_attr($color) . '; color: white; border-radius: 3px; font-size: 11px; font-weight: bold;">' . esc_html($status) . '</span>';
    }
    
    if ($column_name === 'dates') {
        $start_date = get_term_meta($term_id, 'campaign_start_date', true);
        $end_date = get_term_meta($term_id, 'campaign_end_date', true);
        
        if ($start_date && $end_date) {
            $content = date('M d', strtotime($start_date)) . ' - ' . date('M d, Y', strtotime($end_date));
        } else {
            $content = '—';
        }
    }
    
    if ($column_name === 'featured') {
        $is_featured = get_term_meta($term_id, 'campaign_is_featured', true);
        $content = $is_featured == '1' ? '<span style="color: #f39c12; font-weight: bold;">⭐ Featured</span>' : '—';
    }
    
    return $content;
}
add_filter('manage_campaign_custom_column', 'dealsindia_campaign_column_content', 10, 3);

// =====================================================
// COLOR PICKER SCRIPT
// =====================================================

/**
 * Enqueue Color Picker for Campaign Taxonomy
 */
function dealsindia_campaign_admin_scripts($hook) {
    if ($hook !== 'edit-tags.php' && $hook !== 'term.php') {
        return;
    }
    
    $screen = get_current_screen();
    if ($screen->taxonomy !== 'campaign') {
        return;
    }
    
    wp_enqueue_style('wp-color-picker');
    wp_enqueue_script('wp-color-picker');
    
    wp_add_inline_script('wp-color-picker', '
        jQuery(document).ready(function($) {
            $(".dealsindia-color-picker").wpColorPicker();
        });
    ');
}
add_action('admin_enqueue_scripts', 'dealsindia_campaign_admin_scripts');

// =====================================================
// CUSTOM REWRITE RULE FOR /campaigns/ BASE URL
// =====================================================

/**
 * Add Custom Rewrite Rule for /campaigns/ (All Campaigns Archive)
 */
function dealsindia_campaigns_base_rewrite_rule() {
    add_rewrite_rule(
        '^campaigns/?$',
        'index.php?dealsindia_all_campaigns=1',
        'top'
    );
}
add_action('init', 'dealsindia_campaigns_base_rewrite_rule');

/**
 * Register Custom Query Var for Campaigns Archive
 */
function dealsindia_campaigns_query_var($vars) {
    $vars[] = 'dealsindia_all_campaigns';
    return $vars;
}
add_filter('query_vars', 'dealsindia_campaigns_query_var');

/**
 * Load page-all-campaigns.php Template for /campaigns/ URL
 */
function dealsindia_campaigns_template_include($template) {
    if (get_query_var('dealsindia_all_campaigns')) {
        $new_template = locate_template('page-all-campaigns.php');
        if ($new_template) {
            return $new_template;
        }
    }
    return $template;
}
add_filter('template_include', 'dealsindia_campaigns_template_include', 99);
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\taxonomies\deal-categories.php === 
<?php
if (!defined('ABSPATH')) exit; // Exit if accessed directly

/**
 * Deal Categories Taxonomy - Enhanced for Homepage-Style Pages
 * Registers deal categories (Electronics, Fashion, Beauty, etc.) with rich meta fields
 * 
 * Meta Fields:
 * - Category Icon (Emoji + Image)
 * - Category Color
 * - Featured Toggle
 * - Banner Image (Hero)
 * - Description (Rich Text)
 * - Featured Deal IDs
 * - Related Categories
 * - Custom Background
 * 
 * @package ARRZONE
 * @version 4.0 - Enhanced Meta Fields
 */

// =====================================================
// REGISTER DEAL CATEGORIES TAXONOMY
// =====================================================

/**
 * Register Deal Categories Taxonomy
 */
function dealsindia_register_deal_category_taxonomy() {
    $labels = array(
        'name'              => __('Deal Categories', 'dealsindia'),
        'singular_name'     => __('Deal Category', 'dealsindia'),
        'search_items'      => __('Search Categories', 'dealsindia'),
        'all_items'         => __('All Categories', 'dealsindia'),
        'parent_item'       => __('Parent Category', 'dealsindia'),
        'parent_item_colon' => __('Parent Category:', 'dealsindia'),
        'edit_item'         => __('Edit Category', 'dealsindia'),
        'update_item'       => __('Update Category', 'dealsindia'),
        'add_new_item'      => __('Add New Category', 'dealsindia'),
        'new_item_name'     => __('New Category Name', 'dealsindia'),
        'menu_name'         => __('Categories', 'dealsindia'),
    );

    $args = array(
        'hierarchical'      => true,
        'labels'            => $labels,
        'show_ui'           => true,
        'show_admin_column' => true,
        'query_var'         => true,
        'rewrite'           => array(
            'slug'         => 'category',
            'with_front'   => false,
            'hierarchical' => true
        ),
        'show_in_rest'      => true,
    );

    register_taxonomy('deal-category', array('deals'), $args);
}
add_action('init', 'dealsindia_register_deal_category_taxonomy', 0);

// =====================================================
// CATEGORY META FIELDS - ADD FORM
// =====================================================

/**
 * Add Category Meta Fields to Add New Category Form
 */
function dealsindia_add_category_meta_fields() {
    ?>
    <!-- Category Icon (Emoji) -->
    <div class="form-field term-icon-wrap">
        <label for="category_icon"><?php _e('Category Icon (Emoji)', 'dealsindia'); ?></label>
        <input type="text" id="category_icon" name="category_icon" placeholder="📱" maxlength="2" style="font-size: 24px;">
        <p class="description"><?php _e('Enter emoji icon (e.g., 📱 for Electronics, 👗 for Fashion)', 'dealsindia'); ?></p>
    </div>

    <!-- Category Icon Image (Fallback) -->
    <div class="form-field term-icon-image-wrap">
        <label for="category_icon_image_id"><?php _e('Category Icon Image (Optional)', 'dealsindia'); ?></label>
        <input type="hidden" id="category_icon_image_id" name="category_icon_image_id" value="">
        <button type="button" class="button category-icon-upload-btn"><?php _e('Upload Icon Image', 'dealsindia'); ?></button>
        <p class="description"><?php _e('Upload custom icon image. This overrides emoji if set. Size: 100x100px', 'dealsindia'); ?></p>
    </div>

    <!-- Category Color -->
    <div class="form-field term-color-wrap">
        <label for="category_color"><?php _e('Category Color', 'dealsindia'); ?></label>
        <input type="text" id="category_color" name="category_color" value="#667eea" class="dealsindia-color-picker">
        <p class="description"><?php _e('Used in category cards and hero backgrounds.', 'dealsindia'); ?></p>
    </div>

    <!-- Banner Image (Hero) -->
    <div class="form-field term-banner-wrap">
        <label for="category_banner_id"><?php _e('Banner Image (Hero)', 'dealsindia'); ?></label>
        <input type="hidden" id="category_banner_id" name="category_banner_id" value="">
        <button type="button" class="button category-banner-upload-btn"><?php _e('Upload Banner Image', 'dealsindia'); ?></button>
        <p class="description"><?php _e('Recommended size: 1920x400px. Used as hero background on category page.', 'dealsindia'); ?></p>
    </div>

    <!-- Featured Category Toggle -->
    <div class="form-field term-featured-wrap">
        <label for="category_is_featured">
            <input type="checkbox" id="category_is_featured" name="category_is_featured" value="1">
            <?php _e('Mark as Featured Category', 'dealsindia'); ?>
        </label>
        <p class="description"><?php _e('Featured categories appear prominently on homepage.', 'dealsindia'); ?></p>
    </div>

    <!-- Featured Deal IDs -->
    <div class="form-field term-featured-deals-wrap">
        <label for="category_featured_deals"><?php _e('Featured Deal IDs (Optional)', 'dealsindia'); ?></label>
        <input type="text" id="category_featured_deals" name="category_featured_deals" placeholder="123, 456, 789" class="regular-text">
        <p class="description"><?php _e('Enter comma-separated deal post IDs to feature on category page.', 'dealsindia'); ?></p>
    </div>

    <!-- Related Categories -->
    <div class="form-field term-related-wrap">
        <label for="category_related_ids"><?php _e('Related Category IDs (Optional)', 'dealsindia'); ?></label>
        <input type="text" id="category_related_ids" name="category_related_ids" placeholder="5, 12, 18" class="regular-text">
        <p class="description"><?php _e('Enter comma-separated category term IDs to show as related categories.', 'dealsindia'); ?></p>
    </div>

    <!-- Custom Background Gradient -->
    <div class="form-field term-bg-gradient-wrap">
        <label for="category_bg_gradient"><?php _e('Hero Background Gradient (Optional)', 'dealsindia'); ?></label>
        <input type="text" id="category_bg_gradient" name="category_bg_gradient" placeholder="linear-gradient(135deg, #667eea 0%, #764ba2 100%)" class="regular-text">
        <p class="description"><?php _e('CSS gradient for hero section. Leave empty to use solid color.', 'dealsindia'); ?></p>
    </div>
    <?php
}
add_action('deal-category_add_form_fields', 'dealsindia_add_category_meta_fields');

// =====================================================
// CATEGORY META FIELDS - EDIT FORM
// =====================================================

/**
 * Edit Category Meta Fields on Edit Category Form
 */
function dealsindia_edit_category_meta_fields($term) {
    // Get existing values
    $icon = get_term_meta($term->term_id, 'category_icon', true);
    $icon_image_id = get_term_meta($term->term_id, 'category_icon_image_id', true);
    $icon_image_url = $icon_image_id ? wp_get_attachment_url($icon_image_id) : '';
    
    $color = get_term_meta($term->term_id, 'category_color', true);
    if (!$color) $color = '#667eea';
    
    $banner_id = get_term_meta($term->term_id, 'category_banner_id', true);
    $banner_url = $banner_id ? wp_get_attachment_url($banner_id) : '';
    
    $is_featured = get_term_meta($term->term_id, 'category_is_featured', true);
    $featured_deals = get_term_meta($term->term_id, 'category_featured_deals', true);
    $related_ids = get_term_meta($term->term_id, 'category_related_ids', true);
    $bg_gradient = get_term_meta($term->term_id, 'category_bg_gradient', true);
    ?>
    
    <!-- Category Icon (Emoji) -->
    <tr class="form-field term-icon-wrap">
        <th scope="row" valign="top">
            <label for="category_icon"><?php _e('Category Icon (Emoji)', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="category_icon" name="category_icon" value="<?php echo esc_attr($icon); ?>" maxlength="2" style="font-size: 24px; width: 80px;">
            <p class="description"><?php _e('Enter emoji icon (e.g., 📱 for Electronics)', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Category Icon Image -->
    <tr class="form-field term-icon-image-wrap">
        <th scope="row" valign="top">
            <label for="category_icon_image_id"><?php _e('Category Icon Image', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="hidden" id="category_icon_image_id" name="category_icon_image_id" value="<?php echo esc_attr($icon_image_id); ?>">
            <button type="button" class="button category-icon-upload-btn">
                <?php echo $icon_image_url ? __('Change Icon Image', 'dealsindia') : __('Upload Icon Image', 'dealsindia'); ?>
            </button>
            <?php if ($icon_image_url) : ?>
                <button type="button" class="button category-icon-remove-btn" style="margin-left: 10px;"><?php _e('Remove Icon', 'dealsindia'); ?></button>
                <div class="category-icon-preview">
                    <img src="<?php echo esc_url($icon_image_url); ?>" style="width: 100px; height: 100px; object-fit: contain; margin-top: 10px; border: 2px solid #ddd; border-radius: 8px; padding: 5px; display: block;">
                </div>
            <?php endif; ?>
            <p class="description"><?php _e('Overrides emoji if set. Size: 100x100px', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Category Color -->
    <tr class="form-field term-color-wrap">
        <th scope="row" valign="top">
            <label for="category_color"><?php _e('Category Color', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="category_color" name="category_color" value="<?php echo esc_attr($color); ?>" class="dealsindia-color-picker">
            <p class="description"><?php _e('Used in category cards and hero backgrounds.', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Banner Image -->
    <tr class="form-field term-banner-wrap">
        <th scope="row" valign="top">
            <label for="category_banner_id"><?php _e('Banner Image (Hero)', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="hidden" id="category_banner_id" name="category_banner_id" value="<?php echo esc_attr($banner_id); ?>">
            <button type="button" class="button category-banner-upload-btn">
                <?php echo $banner_url ? __('Change Banner', 'dealsindia') : __('Upload Banner', 'dealsindia'); ?>
            </button>
            <?php if ($banner_url) : ?>
                <button type="button" class="button category-banner-remove-btn" style="margin-left: 10px;"><?php _e('Remove Banner', 'dealsindia'); ?></button>
                <div class="category-banner-preview">
                    <img src="<?php echo esc_url($banner_url); ?>" style="max-width: 400px; height: auto; margin-top: 10px; border: 2px solid #ddd; border-radius: 8px; display: block;">
                </div>
            <?php endif; ?>
            <p class="description"><?php _e('Recommended size: 1920x400px. Hero background.', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Featured Category -->
    <tr class="form-field term-featured-wrap">
        <th scope="row" valign="top">
            <label for="category_is_featured"><?php _e('Featured Category', 'dealsindia'); ?></label>
        </th>
        <td>
            <label>
                <input type="checkbox" id="category_is_featured" name="category_is_featured" value="1" <?php checked($is_featured, '1'); ?>>
                <?php _e('Mark as Featured Category', 'dealsindia'); ?>
            </label>
            <p class="description"><?php _e('Featured categories appear prominently on homepage.', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Featured Deal IDs -->
    <tr class="form-field term-featured-deals-wrap">
        <th scope="row" valign="top">
            <label for="category_featured_deals"><?php _e('Featured Deal IDs', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="category_featured_deals" name="category_featured_deals" value="<?php echo esc_attr($featured_deals); ?>" class="regular-text" placeholder="123, 456, 789">
            <p class="description"><?php _e('Comma-separated deal post IDs to feature on category page.', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Related Categories -->
    <tr class="form-field term-related-wrap">
        <th scope="row" valign="top">
            <label for="category_related_ids"><?php _e('Related Category IDs', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="category_related_ids" name="category_related_ids" value="<?php echo esc_attr($related_ids); ?>" class="regular-text" placeholder="5, 12, 18">
            <p class="description"><?php _e('Comma-separated category term IDs to show as related.', 'dealsindia'); ?></p>
        </td>
    </tr>

    <!-- Background Gradient -->
    <tr class="form-field term-bg-gradient-wrap">
        <th scope="row" valign="top">
            <label for="category_bg_gradient"><?php _e('Hero Background Gradient', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="category_bg_gradient" name="category_bg_gradient" value="<?php echo esc_attr($bg_gradient); ?>" class="large-text" placeholder="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
            <p class="description"><?php _e('CSS gradient for hero section. Leave empty to use solid color.', 'dealsindia'); ?></p>
        </td>
    </tr>
    <?php
}
add_action('deal-category_edit_form_fields', 'dealsindia_edit_category_meta_fields');

// =====================================================
// SAVE CATEGORY META
// =====================================================

/**
 * Save Category Meta Fields
 */
function dealsindia_save_category_meta_fields($term_id) {
    if (isset($_POST['category_icon'])) {
        update_term_meta($term_id, 'category_icon', sanitize_text_field($_POST['category_icon']));
    }
    
    if (isset($_POST['category_icon_image_id'])) {
        update_term_meta($term_id, 'category_icon_image_id', absint($_POST['category_icon_image_id']));
    }
    
    if (isset($_POST['category_color'])) {
        update_term_meta($term_id, 'category_color', sanitize_hex_color($_POST['category_color']));
    }
    
    if (isset($_POST['category_banner_id'])) {
        update_term_meta($term_id, 'category_banner_id', absint($_POST['category_banner_id']));
    }
    
    // Featured toggle (checkbox)
    $is_featured = isset($_POST['category_is_featured']) ? '1' : '0';
    update_term_meta($term_id, 'category_is_featured', $is_featured);
    
    // Featured deals (comma-separated IDs)
    if (isset($_POST['category_featured_deals'])) {
        update_term_meta($term_id, 'category_featured_deals', sanitize_text_field($_POST['category_featured_deals']));
    }
    
    if (isset($_POST['category_related_ids'])) {
        update_term_meta($term_id, 'category_related_ids', sanitize_text_field($_POST['category_related_ids']));
    }
    
    if (isset($_POST['category_bg_gradient'])) {
        update_term_meta($term_id, 'category_bg_gradient', sanitize_text_field($_POST['category_bg_gradient']));
    }
}
add_action('created_deal-category', 'dealsindia_save_category_meta_fields');
add_action('edited_deal-category', 'dealsindia_save_category_meta_fields');

// =====================================================
// ADMIN COLUMNS
// =====================================================

/**
 * Add Custom Columns to Category List Table
 */
function dealsindia_category_columns($columns) {
    $new_columns = array();
    
    if (isset($columns['cb'])) {
        $new_columns['cb'] = $columns['cb'];
    }
    
    $new_columns['icon'] = __('Icon', 'dealsindia');
    $new_columns['name'] = $columns['name'];
    $new_columns['color'] = __('Color', 'dealsindia');
    $new_columns['featured'] = __('Featured', 'dealsindia');
    
    if (isset($columns['description'])) {
        $new_columns['description'] = $columns['description'];
    }
    if (isset($columns['slug'])) {
        $new_columns['slug'] = $columns['slug'];
    }
    if (isset($columns['posts'])) {
        $new_columns['posts'] = $columns['posts'];
    }
    
    return $new_columns;
}
add_filter('manage_edit-deal-category_columns', 'dealsindia_category_columns');

/**
 * Display Custom Column Content
 */
function dealsindia_category_column_content($content, $column_name, $term_id) {
    if ($column_name === 'icon') {
        // Try icon image first
        $icon_image_id = get_term_meta($term_id, 'category_icon_image_id', true);
        if ($icon_image_id) {
            $icon_url = wp_get_attachment_url($icon_image_id);
            if ($icon_url) {
                $content = '<img src="' . esc_url($icon_url) . '" style="width: 40px; height: 40px; object-fit: contain; border: 1px solid #ddd; border-radius: 4px; padding: 2px;">';
            }
        } else {
            // Fallback to emoji
            $icon = get_term_meta($term_id, 'category_icon', true);
            $content = $icon ? '<span style="font-size: 32px;">' . esc_html($icon) . '</span>' : '—';
        }
    }
    
    if ($column_name === 'color') {
        $color = get_term_meta($term_id, 'category_color', true);
        if ($color) {
            $content = '<span style="display: inline-block; width: 50px; height: 25px; background: ' . esc_attr($color) . '; border: 1px solid #ddd; border-radius: 4px;"></span>';
        } else {
            $content = '—';
        }
    }
    
    if ($column_name === 'featured') {
        $is_featured = get_term_meta($term_id, 'category_is_featured', true);
        $content = $is_featured == '1' ? '<span style="color: #f39c12; font-weight: bold;">⭐ Featured</span>' : '—';
    }
    
    return $content;
}
add_filter('manage_deal-category_custom_column', 'dealsindia_category_column_content', 10, 3);

// =====================================================
// COLOR PICKER SCRIPT
// =====================================================

/**
 * Enqueue Color Picker for Category Taxonomy
 */
function dealsindia_category_admin_scripts($hook) {
    if ($hook !== 'edit-tags.php' && $hook !== 'term.php') {
        return;
    }
    
    $screen = get_current_screen();
    if ($screen->taxonomy !== 'deal-category') {
        return;
    }
    
    wp_enqueue_style('wp-color-picker');
    wp_enqueue_script('wp-color-picker');
    
    wp_add_inline_script('wp-color-picker', '
        jQuery(document).ready(function($) {
            $(".dealsindia-color-picker").wpColorPicker();
        });
    ');
}
add_action('admin_enqueue_scripts', 'dealsindia_category_admin_scripts');

// =====================================================
// CUSTOM REWRITE RULE FOR /categories/ BASE URL
// =====================================================

/**
 * Add Custom Rewrite Rule for /categories/ (All Categories Archive)
 * Maps /categories/ URL to page-all-categories.php template
 */
function dealsindia_categories_base_rewrite_rule() {
    add_rewrite_rule(
        '^categories/?$',
        'index.php?dealsindia_all_categories=1',
        'top'
    );
}
add_action('init', 'dealsindia_categories_base_rewrite_rule');

/**
 * Register Custom Query Var for Categories Archive
 */
function dealsindia_categories_query_var($vars) {
    $vars[] = 'dealsindia_all_categories';
    return $vars;
}
add_filter('query_vars', 'dealsindia_categories_query_var');

/**
 * Load page-all-categories.php Template for /categories/ URL
 */
function dealsindia_categories_template_include($template) {
    if (get_query_var('dealsindia_all_categories')) {
        $new_template = locate_template('page-all-categories.php');
        if ($new_template) {
            return $new_template;
        }
    }
    return $template;
}
add_filter('template_include', 'dealsindia_categories_template_include', 99);
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\taxonomies\deal-types.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Deal Types Taxonomy - Enhanced for Homepage-Style Pages
 * Registers deal types (Coupons, Cashback, Bank Offers, etc.) with rich meta fields
 * 
 * Meta Fields:
 * - Deal Type Icon (Emoji)
 * - Deal Type Icon Image
 * - Banner Image (Hero)
 * - Custom Color Theme
 * - Featured Deal IDs
 * - Description (Rich Text)
 * - Custom Background
 * 
 * @package ARRZONE
 * @version 4.0 - Enhanced Meta Fields
 */


if (!defined('ABSPATH')) exit;


// =====================================================
// REGISTER DEAL TYPES TAXONOMY
// =====================================================


/**
 * Register Deal Types Taxonomy
 */
function dealsindia_register_deal_type_taxonomy() {
    $labels = array(
        'name'              => __('Deal Types', 'dealsindia'),
        'singular_name'     => __('Deal Type', 'dealsindia'),
        'search_items'      => __('Search Deal Types', 'dealsindia'),
        'all_items'         => __('All Deal Types', 'dealsindia'),
        'parent_item'       => __('Parent Deal Type', 'dealsindia'),
        'parent_item_colon' => __('Parent Deal Type:', 'dealsindia'),
        'edit_item'         => __('Edit Deal Type', 'dealsindia'),
        'update_item'       => __('Update Deal Type', 'dealsindia'),
        'add_new_item'      => __('Add New Deal Type', 'dealsindia'),
        'new_item_name'     => __('New Deal Type Name', 'dealsindia'),
        'menu_name'         => __('Deal Types', 'dealsindia'),
    );


    $args = array(
        'hierarchical'      => false,
        'labels'            => $labels,
        'show_ui'           => true,
        'show_admin_column' => true,
        'query_var'         => true,
        'rewrite'           => array(
            'slug'       => 'deal-type',
            'with_front' => false
        ),
        'show_in_rest'      => true,
    );


    register_taxonomy('deal-type', array('deals'), $args);
}
add_action('init', 'dealsindia_register_deal_type_taxonomy', 0);


// =====================================================
// AUTO-CREATE DEFAULT DEAL TYPES
// =====================================================


/**
 * Create Default Deal Types on Theme Activation
 */
function dealsindia_create_default_deal_types() {
    if (get_option('dealsindia_default_deal_types_created')) {
        return;
    }


    $default_types = array(
        array(
            'name'  => '🎫 Deals',
            'slug'  => 'deals',
            'icon'  => '🎫',
            'color' => '#667eea'
        ),
        array(
            'name'  => '🎟️ Coupons',
            'slug'  => 'coupons',
            'icon'  => '🎟️',
            'color' => '#f39c12'
        ),
        array(
            'name'  => '💰 Cashback',
            'slug'  => 'cashback',
            'icon'  => '💰',
            'color' => '#00897b'
        ),
        array(
            'name'  => '🏦 Bank Offers',
            'slug'  => 'bank-offers',
            'icon'  => '🏦',
            'color' => '#e74c3c'
        ),
        array(
            'name'  => '🔥 Flash Sale',
            'slug'  => 'flash-sale',
            'icon'  => '🔥',
            'color' => '#ff6b6b'
        ),
        array(
            'name'  => '🎁 Freebies',
            'slug'  => 'freebies',
            'icon'  => '🎁',
            'color' => '#e056fd'
        ),
    );


    foreach ($default_types as $type) {
        if (!term_exists($type['slug'], 'deal-type')) {
            $term = wp_insert_term($type['name'], 'deal-type', array('slug' => $type['slug']));
            
            if (!is_wp_error($term)) {
                update_term_meta($term['term_id'], 'dealtype_icon', $type['icon']);
                update_term_meta($term['term_id'], 'dealtype_color', $type['color']);
            }
        }
    }


    update_option('dealsindia_default_deal_types_created', true);
}
add_action('after_switch_theme', 'dealsindia_create_default_deal_types');


// =====================================================
// DEAL TYPE META FIELDS - ADD FORM
// =====================================================


/**
 * Add Deal Type Meta Fields to Add New Form
 */
function dealsindia_add_dealtype_meta_fields() {
    ?>
    <!-- Deal Type Icon (Emoji) -->
    <div class="form-field term-icon-wrap">
        <label for="dealtype_icon"><?php _e('Deal Type Icon (Emoji)', 'dealsindia'); ?></label>
        <input type="text" id="dealtype_icon" name="dealtype_icon" placeholder="🎟️" maxlength="2" style="font-size: 24px;">
        <p class="description"><?php _e('Enter emoji icon (e.g., 🎟️ for Coupons, 💰 for Cashback)', 'dealsindia'); ?></p>
    </div>


    <!-- Deal Type Icon Image (Fallback) -->
    <div class="form-field term-icon-image-wrap">
        <label for="dealtype_icon_image_id"><?php _e('Icon Image (Optional)', 'dealsindia'); ?></label>
        <input type="hidden" id="dealtype_icon_image_id" name="dealtype_icon_image_id" value="">
        <button type="button" class="button dealtype-icon-upload-btn"><?php _e('Upload Icon Image', 'dealsindia'); ?></button>
        <p class="description"><?php _e('Upload custom icon image. This overrides emoji if set. Size: 100x100px', 'dealsindia'); ?></p>
    </div>


    <!-- Deal Type Color -->
    <div class="form-field term-color-wrap">
        <label for="dealtype_color"><?php _e('Deal Type Color', 'dealsindia'); ?></label>
        <input type="text" id="dealtype_color" name="dealtype_color" value="#667eea" class="dealsindia-color-picker">
        <p class="description"><?php _e('Used in deal type badges and hero backgrounds.', 'dealsindia'); ?></p>
    </div>


    <!-- Banner Image (Hero) -->
    <div class="form-field term-banner-wrap">
        <label for="dealtype_banner_id"><?php _e('Banner Image (Hero)', 'dealsindia'); ?></label>
        <input type="hidden" id="dealtype_banner_id" name="dealtype_banner_id" value="">
        <button type="button" class="button dealtype-banner-upload-btn"><?php _e('Upload Banner Image', 'dealsindia'); ?></button>
        <p class="description"><?php _e('Recommended size: 1920x400px. Used as hero background on deal type page.', 'dealsindia'); ?></p>
    </div>


    <!-- Featured Deal IDs -->
    <div class="form-field term-featured-deals-wrap">
        <label for="dealtype_featured_deals"><?php _e('Featured Deal IDs (Optional)', 'dealsindia'); ?></label>
        <input type="text" id="dealtype_featured_deals" name="dealtype_featured_deals" placeholder="123, 456, 789" class="regular-text">
        <p class="description"><?php _e('Enter comma-separated deal post IDs to feature on deal type page.', 'dealsindia'); ?></p>
    </div>


    <!-- Custom Background Gradient -->
    <div class="form-field term-bg-gradient-wrap">
        <label for="dealtype_bg_gradient"><?php _e('Hero Background Gradient (Optional)', 'dealsindia'); ?></label>
        <input type="text" id="dealtype_bg_gradient" name="dealtype_bg_gradient" placeholder="linear-gradient(135deg, #667eea 0%, #764ba2 100%)" class="regular-text">
        <p class="description"><?php _e('CSS gradient for hero section. Leave empty to use solid color.', 'dealsindia'); ?></p>
    </div>
    <?php
}
add_action('deal-type_add_form_fields', 'dealsindia_add_dealtype_meta_fields');


// =====================================================
// DEAL TYPE META FIELDS - EDIT FORM
// =====================================================


/**
 * Edit Deal Type Meta Fields on Edit Form
 */
function dealsindia_edit_dealtype_meta_fields($term) {
    // Get existing values
    $icon = get_term_meta($term->term_id, 'dealtype_icon', true);
    $icon_image_id = get_term_meta($term->term_id, 'dealtype_icon_image_id', true);
    $icon_image_url = $icon_image_id ? wp_get_attachment_url($icon_image_id) : '';
    
    $color = get_term_meta($term->term_id, 'dealtype_color', true);
    if (!$color) $color = '#667eea';
    
    $banner_id = get_term_meta($term->term_id, 'dealtype_banner_id', true);
    $banner_url = $banner_id ? wp_get_attachment_url($banner_id) : '';
    
    $featured_deals = get_term_meta($term->term_id, 'dealtype_featured_deals', true);
    $bg_gradient = get_term_meta($term->term_id, 'dealtype_bg_gradient', true);
    ?>
    
    <!-- Deal Type Icon (Emoji) -->
    <tr class="form-field term-icon-wrap">
        <th scope="row" valign="top">
            <label for="dealtype_icon"><?php _e('Icon (Emoji)', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="dealtype_icon" name="dealtype_icon" value="<?php echo esc_attr($icon); ?>" maxlength="2" style="font-size: 24px; width: 80px;">
            <p class="description"><?php _e('Enter emoji icon (e.g., 🎟️ for Coupons)', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Deal Type Icon Image -->
    <tr class="form-field term-icon-image-wrap">
        <th scope="row" valign="top">
            <label for="dealtype_icon_image_id"><?php _e('Icon Image', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="hidden" id="dealtype_icon_image_id" name="dealtype_icon_image_id" value="<?php echo esc_attr($icon_image_id); ?>">
            <button type="button" class="button dealtype-icon-upload-btn">
                <?php echo $icon_image_url ? __('Change Icon Image', 'dealsindia') : __('Upload Icon Image', 'dealsindia'); ?>
            </button>
            <?php if ($icon_image_url) : ?>
                <button type="button" class="button dealtype-icon-remove-btn" style="margin-left: 10px;"><?php _e('Remove Icon', 'dealsindia'); ?></button>
                <div class="dealtype-icon-preview">
                    <img src="<?php echo esc_url($icon_image_url); ?>" style="width: 100px; height: 100px; object-fit: contain; margin-top: 10px; border: 2px solid #ddd; border-radius: 8px; padding: 5px; display: block;">
                </div>
            <?php endif; ?>
            <p class="description"><?php _e('Overrides emoji if set. Size: 100x100px', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Deal Type Color -->
    <tr class="form-field term-color-wrap">
        <th scope="row" valign="top">
            <label for="dealtype_color"><?php _e('Color', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="dealtype_color" name="dealtype_color" value="<?php echo esc_attr($color); ?>" class="dealsindia-color-picker">
            <p class="description"><?php _e('Used in deal type badges and hero backgrounds.', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Banner Image -->
    <tr class="form-field term-banner-wrap">
        <th scope="row" valign="top">
            <label for="dealtype_banner_id"><?php _e('Banner Image (Hero)', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="hidden" id="dealtype_banner_id" name="dealtype_banner_id" value="<?php echo esc_attr($banner_id); ?>">
            <button type="button" class="button dealtype-banner-upload-btn">
                <?php echo $banner_url ? __('Change Banner', 'dealsindia') : __('Upload Banner', 'dealsindia'); ?>
            </button>
            <?php if ($banner_url) : ?>
                <button type="button" class="button dealtype-banner-remove-btn" style="margin-left: 10px;"><?php _e('Remove Banner', 'dealsindia'); ?></button>
                <div class="dealtype-banner-preview">
                    <img src="<?php echo esc_url($banner_url); ?>" style="max-width: 400px; height: auto; margin-top: 10px; border: 2px solid #ddd; border-radius: 8px; display: block;">
                </div>
            <?php endif; ?>
            <p class="description"><?php _e('Recommended size: 1920x400px. Hero background.', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Featured Deal IDs -->
    <tr class="form-field term-featured-deals-wrap">
        <th scope="row" valign="top">
            <label for="dealtype_featured_deals"><?php _e('Featured Deal IDs', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="dealtype_featured_deals" name="dealtype_featured_deals" value="<?php echo esc_attr($featured_deals); ?>" class="regular-text" placeholder="123, 456, 789">
            <p class="description"><?php _e('Comma-separated deal post IDs to feature on deal type page.', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Background Gradient -->
    <tr class="form-field term-bg-gradient-wrap">
        <th scope="row" valign="top">
            <label for="dealtype_bg_gradient"><?php _e('Hero Background Gradient', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="dealtype_bg_gradient" name="dealtype_bg_gradient" value="<?php echo esc_attr($bg_gradient); ?>" class="large-text" placeholder="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
            <p class="description"><?php _e('CSS gradient for hero section. Leave empty to use solid color.', 'dealsindia'); ?></p>
        </td>
    </tr>
    <?php
}
add_action('deal-type_edit_form_fields', 'dealsindia_edit_dealtype_meta_fields');


// =====================================================
// SAVE DEAL TYPE META
// =====================================================


/**
 * Save Deal Type Meta Fields
 */
function dealsindia_save_dealtype_meta_fields($term_id) {
    if (isset($_POST['dealtype_icon'])) {
        update_term_meta($term_id, 'dealtype_icon', sanitize_text_field($_POST['dealtype_icon']));
    }
    
    if (isset($_POST['dealtype_icon_image_id'])) {
        update_term_meta($term_id, 'dealtype_icon_image_id', sanitize_text_field($_POST['dealtype_icon_image_id']));
    }
    
    if (isset($_POST['dealtype_color'])) {
        update_term_meta($term_id, 'dealtype_color', sanitize_hex_color($_POST['dealtype_color']));
    }
    
    if (isset($_POST['dealtype_banner_id'])) {
        update_term_meta($term_id, 'dealtype_banner_id', sanitize_text_field($_POST['dealtype_banner_id']));
    }
    
    if (isset($_POST['dealtype_featured_deals'])) {
        update_term_meta($term_id, 'dealtype_featured_deals', sanitize_text_field($_POST['dealtype_featured_deals']));
    }
    
    if (isset($_POST['dealtype_bg_gradient'])) {
        update_term_meta($term_id, 'dealtype_bg_gradient', sanitize_text_field($_POST['dealtype_bg_gradient']));
    }
}
add_action('created_deal-type', 'dealsindia_save_dealtype_meta_fields');
add_action('edited_deal-type', 'dealsindia_save_dealtype_meta_fields');


// =====================================================
// ADMIN COLUMNS
// =====================================================


/**
 * Add Custom Columns to Deal Type List Table
 */
function dealsindia_dealtype_columns($columns) {
    $new_columns = array();
    
    if (isset($columns['cb'])) {
        $new_columns['cb'] = $columns['cb'];
    }
    
    $new_columns['icon'] = __('Icon', 'dealsindia');
    $new_columns['name'] = $columns['name'];
    $new_columns['color'] = __('Color', 'dealsindia');
    
    if (isset($columns['description'])) {
        $new_columns['description'] = $columns['description'];
    }
    if (isset($columns['slug'])) {
        $new_columns['slug'] = $columns['slug'];
    }
    if (isset($columns['posts'])) {
        $new_columns['posts'] = $columns['posts'];
    }
    
    return $new_columns;
}
add_filter('manage_edit-deal-type_columns', 'dealsindia_dealtype_columns');


/**
 * Display Custom Column Content
 */
function dealsindia_dealtype_column_content($content, $column_name, $term_id) {
    if ($column_name === 'icon') {
        // Try icon image first
        $icon_image_id = get_term_meta($term_id, 'dealtype_icon_image_id', true);
        if ($icon_image_id) {
            $icon_url = wp_get_attachment_url($icon_image_id);
            if ($icon_url) {
                $content = '<img src="' . esc_url($icon_url) . '" style="width: 40px; height: 40px; object-fit: contain; border: 1px solid #ddd; border-radius: 4px; padding: 2px;">';
            }
        } else {
            // Fallback to emoji
            $icon = get_term_meta($term_id, 'dealtype_icon', true);
            $content = $icon ? '<span style="font-size: 32px;">' . esc_html($icon) . '</span>' : '—';
        }
    }
    
    if ($column_name === 'color') {
        $color = get_term_meta($term_id, 'dealtype_color', true);
        if ($color) {
            $content = '<span style="display: inline-block; width: 50px; height: 25px; background: ' . esc_attr($color) . '; border: 1px solid #ddd; border-radius: 4px;"></span>';
        } else {
            $content = '—';
        }
    }
    
    return $content;
}
add_filter('manage_deal-type_custom_column', 'dealsindia_dealtype_column_content', 10, 3);


// =====================================================
// COLOR PICKER SCRIPT
// =====================================================


/**
 * Enqueue Color Picker for Deal Type Taxonomy
 */
function dealsindia_dealtype_admin_scripts($hook) {
    if ($hook !== 'edit-tags.php' && $hook !== 'term.php') {
        return;
    }
    
    $screen = get_current_screen();
    if ($screen->taxonomy !== 'deal-type') {
        return;
    }
    
    wp_enqueue_style('wp-color-picker');
    wp_enqueue_script('wp-color-picker');
    
    wp_add_inline_script('wp-color-picker', '
        jQuery(document).ready(function($) {
            $(".dealsindia-color-picker").wpColorPicker();
        });
    ');
}
add_action('admin_enqueue_scripts', 'dealsindia_dealtype_admin_scripts');


// =====================================================
// CUSTOM REWRITE RULE FOR /deal-types/ BASE URL
// =====================================================


/**
 * Add Custom Rewrite Rule for /deal-types/ (All Deal Types Archive)
 * Maps /deal-types/ URL to page-all-deal-types.php template
 */
function dealsindia_deal_types_base_rewrite_rule() {
    add_rewrite_rule(
        '^deal-types/?$',
        'index.php?dealsindia_all_deal_types=1',
        'top'
    );
}
add_action('init', 'dealsindia_deal_types_base_rewrite_rule');


/**
 * Register Custom Query Var for Deal Types Archive
 */
function dealsindia_deal_types_query_var($vars) {
    $vars[] = 'dealsindia_all_deal_types';
    return $vars;
}
add_filter('query_vars', 'dealsindia_deal_types_query_var');


/**
 * Load page-all-deal-types.php Template for /deal-types/ URL
 */
function dealsindia_deal_types_template_include($template) {
    if (get_query_var('dealsindia_all_deal_types')) {
        $new_template = locate_template('page-all-deal-types.php');
        if ($new_template) {
            return $new_template;
        }
    }
    return $template;
}
add_filter('template_include', 'dealsindia_deal_types_template_include', 99);
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\taxonomies\stores.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Stores Taxonomy - Enhanced for Homepage-Style Pages
 * Registers stores (Amazon, Flipkart, etc.) with rich meta fields
 * 
 * Meta Fields:
 * - Store Logo (Image)
 * - Store Banner (Hero Image)
 * - Cashback Rate (Text)
 * - Featured Badge (Toggle)
 * - Description (Rich Text)
 * - Website URL (External Link)
 * - Featured Deals (Deal IDs)
 * - Custom Background Color
 * 
 * @package ARRZONE
 * @version 4.0 - Enhanced Meta Fields
 */


if (!defined('ABSPATH')) exit;


// =====================================================
// REGISTER STORES TAXONOMY
// =====================================================


/**
 * Register Stores Taxonomy
 */
function dealsindia_register_store_taxonomy() {
    $labels = array(
        'name'              => __('Stores', 'dealsindia'),
        'singular_name'     => __('Store', 'dealsindia'),
        'search_items'      => __('Search Stores', 'dealsindia'),
        'all_items'         => __('All Stores', 'dealsindia'),
        'parent_item'       => __('Parent Store', 'dealsindia'),
        'parent_item_colon' => __('Parent Store:', 'dealsindia'),
        'edit_item'         => __('Edit Store', 'dealsindia'),
        'update_item'       => __('Update Store', 'dealsindia'),
        'add_new_item'      => __('Add New Store', 'dealsindia'),
        'new_item_name'     => __('New Store Name', 'dealsindia'),
        'menu_name'         => __('Stores', 'dealsindia'),
    );


    $args = array(
        'hierarchical'      => true,
        'labels'            => $labels,
        'show_ui'           => true,
        'show_admin_column' => true,
        'query_var'         => true,
        'rewrite'           => array(
            'slug'         => 'store',
            'with_front'   => false,
            'hierarchical' => true
        ),
        'show_in_rest'      => true,
    );


    register_taxonomy('store', array('deals'), $args);
}
add_action('init', 'dealsindia_register_store_taxonomy', 0);


// =====================================================
// STORE META FIELDS - ADD FORM
// =====================================================


/**
 * Add Store Meta Fields to Add New Store Form
 */
function dealsindia_add_store_meta_fields() {
    ?>
    <!-- Store Logo -->
    <div class="form-field term-logo-wrap">
        <label for="store_logo_id"><?php _e('Store Logo', 'dealsindia'); ?></label>
        <input type="hidden" id="store_logo_id" name="store_logo_id" value="">
        <button type="button" class="button store-logo-upload-btn"><?php _e('Upload Logo', 'dealsindia'); ?></button>
        <p class="description"><?php _e('Recommended size: 200x200px square. Displayed in store listings.', 'dealsindia'); ?></p>
    </div>


    <!-- Store Banner -->
    <div class="form-field term-banner-wrap">
        <label for="store_banner_id"><?php _e('Store Banner (Hero Image)', 'dealsindia'); ?></label>
        <input type="hidden" id="store_banner_id" name="store_banner_id" value="">
        <button type="button" class="button store-banner-upload-btn"><?php _e('Upload Banner Image', 'dealsindia'); ?></button>
        <p class="description"><?php _e('Recommended size: 1920x400px. Used as hero background on store page.', 'dealsindia'); ?></p>
    </div>


    <!-- Cashback Rate -->
    <div class="form-field term-cashback-wrap">
        <label for="store_cashback"><?php _e('Cashback Rate', 'dealsindia'); ?></label>
        <input type="text" id="store_cashback" name="store_cashback" placeholder="<?php _e('e.g., Up to 5% Cashback', 'dealsindia'); ?>">
        <p class="description"><?php _e('Enter cashback rate, e.g., "5% Cashback" or "Up to 10%"', 'dealsindia'); ?></p>
    </div>


    <!-- Featured Store Toggle -->
    <div class="form-field term-featured-wrap">
        <label for="store_is_featured">
            <input type="checkbox" id="store_is_featured" name="store_is_featured" value="1">
            <?php _e('Mark as Featured Store', 'dealsindia'); ?>
        </label>
        <p class="description"><?php _e('Featured stores appear at the top of listings.', 'dealsindia'); ?></p>
    </div>


    <!-- Store Website URL -->
    <div class="form-field term-website-wrap">
        <label for="store_website_url"><?php _e('Store Website URL', 'dealsindia'); ?></label>
        <input type="url" id="store_website_url" name="store_website_url" placeholder="https://www.amazon.in" class="regular-text">
        <p class="description"><?php _e('Official store website link.', 'dealsindia'); ?></p>
    </div>


    <!-- Custom Background Color -->
    <div class="form-field term-bgcolor-wrap">
        <label for="store_bg_color"><?php _e('Hero Background Color', 'dealsindia'); ?></label>
        <input type="text" id="store_bg_color" name="store_bg_color" value="#667eea" class="dealsindia-color-picker">
        <p class="description"><?php _e('Custom background color for store hero section.', 'dealsindia'); ?></p>
    </div>


    <!-- Featured Deal IDs -->
    <div class="form-field term-featured-deals-wrap">
        <label for="store_featured_deals"><?php _e('Featured Deal IDs (Optional)', 'dealsindia'); ?></label>
        <input type="text" id="store_featured_deals" name="store_featured_deals" placeholder="123, 456, 789" class="regular-text">
        <p class="description"><?php _e('Enter comma-separated deal post IDs to feature on store page.', 'dealsindia'); ?></p>
    </div>
    <?php
}
add_action('store_add_form_fields', 'dealsindia_add_store_meta_fields');


// =====================================================
// STORE META FIELDS - EDIT FORM
// =====================================================


/**
 * Edit Store Meta Fields on Edit Store Form
 */
function dealsindia_edit_store_meta_fields($term) {
    // Get existing values
    $logo_id = get_term_meta($term->term_id, 'store_logo_id', true);
    $logo_url = $logo_id ? wp_get_attachment_url($logo_id) : '';
    
    $banner_id = get_term_meta($term->term_id, 'store_banner_id', true);
    $banner_url = $banner_id ? wp_get_attachment_url($banner_id) : '';
    
    $cashback = get_term_meta($term->term_id, 'store_cashback', true);
    $is_featured = get_term_meta($term->term_id, 'store_is_featured', true);
    $website_url = get_term_meta($term->term_id, 'store_website_url', true);
    $bg_color = get_term_meta($term->term_id, 'store_bg_color', true);
    if (!$bg_color) $bg_color = '#667eea';
    $featured_deals = get_term_meta($term->term_id, 'store_featured_deals', true);
    ?>
    
    <!-- Store Logo -->
    <tr class="form-field term-logo-wrap">
        <th scope="row" valign="top">
            <label for="store_logo_id"><?php _e('Store Logo', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="hidden" id="store_logo_id" name="store_logo_id" value="<?php echo esc_attr($logo_id); ?>">
            <button type="button" class="button store-logo-upload-btn">
                <?php echo $logo_url ? __('Change Logo', 'dealsindia') : __('Upload Logo', 'dealsindia'); ?>
            </button>
            <?php if ($logo_url) : ?>
                <button type="button" class="button store-logo-remove-btn" style="margin-left: 10px;"><?php _e('Remove Logo', 'dealsindia'); ?></button>
                <div class="store-logo-preview">
                    <img src="<?php echo esc_url($logo_url); ?>" style="max-width: 150px; height: auto; margin-top: 10px; border: 2px solid #ddd; border-radius: 8px; padding: 5px; display: block;">
                </div>
            <?php endif; ?>
            <p class="description"><?php _e('Recommended size: 200x200px square.', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Store Banner -->
    <tr class="form-field term-banner-wrap">
        <th scope="row" valign="top">
            <label for="store_banner_id"><?php _e('Store Banner (Hero)', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="hidden" id="store_banner_id" name="store_banner_id" value="<?php echo esc_attr($banner_id); ?>">
            <button type="button" class="button store-banner-upload-btn">
                <?php echo $banner_url ? __('Change Banner', 'dealsindia') : __('Upload Banner', 'dealsindia'); ?>
            </button>
            <?php if ($banner_url) : ?>
                <button type="button" class="button store-banner-remove-btn" style="margin-left: 10px;"><?php _e('Remove Banner', 'dealsindia'); ?></button>
                <div class="store-banner-preview">
                    <img src="<?php echo esc_url($banner_url); ?>" style="max-width: 400px; height: auto; margin-top: 10px; border: 2px solid #ddd; border-radius: 8px; display: block;">
                </div>
            <?php endif; ?>
            <p class="description"><?php _e('Recommended size: 1920x400px. Hero background.', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Cashback Rate -->
    <tr class="form-field term-cashback-wrap">
        <th scope="row" valign="top">
            <label for="store_cashback"><?php _e('Cashback Rate', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="store_cashback" name="store_cashback" value="<?php echo esc_attr($cashback); ?>" class="regular-text" placeholder="<?php _e('e.g., 5% Cashback', 'dealsindia'); ?>">
            <p class="description"><?php _e('Enter cashback rate.', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Featured Store -->
    <tr class="form-field term-featured-wrap">
        <th scope="row" valign="top">
            <label for="store_is_featured"><?php _e('Featured Store', 'dealsindia'); ?></label>
        </th>
        <td>
            <label>
                <input type="checkbox" id="store_is_featured" name="store_is_featured" value="1" <?php checked($is_featured, '1'); ?>>
                <?php _e('Mark as Featured Store', 'dealsindia'); ?>
            </label>
            <p class="description"><?php _e('Featured stores appear at top of listings.', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Website URL -->
    <tr class="form-field term-website-wrap">
        <th scope="row" valign="top">
            <label for="store_website_url"><?php _e('Store Website URL', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="url" id="store_website_url" name="store_website_url" value="<?php echo esc_url($website_url); ?>" class="regular-text" placeholder="https://www.amazon.in">
            <p class="description"><?php _e('Official store website link.', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Background Color -->
    <tr class="form-field term-bgcolor-wrap">
        <th scope="row" valign="top">
            <label for="store_bg_color"><?php _e('Hero Background Color', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="store_bg_color" name="store_bg_color" value="<?php echo esc_attr($bg_color); ?>" class="dealsindia-color-picker">
            <p class="description"><?php _e('Custom background color for store hero.', 'dealsindia'); ?></p>
        </td>
    </tr>


    <!-- Featured Deal IDs -->
    <tr class="form-field term-featured-deals-wrap">
        <th scope="row" valign="top">
            <label for="store_featured_deals"><?php _e('Featured Deal IDs', 'dealsindia'); ?></label>
        </th>
        <td>
            <input type="text" id="store_featured_deals" name="store_featured_deals" value="<?php echo esc_attr($featured_deals); ?>" class="regular-text" placeholder="123, 456, 789">
            <p class="description"><?php _e('Comma-separated deal post IDs to feature on store page.', 'dealsindia'); ?></p>
        </td>
    </tr>
    <?php
}
add_action('store_edit_form_fields', 'dealsindia_edit_store_meta_fields');


// =====================================================
// SAVE STORE META
// =====================================================


/**
 * Save Store Meta Fields
 */
function dealsindia_save_store_meta_fields($term_id) {
    if (isset($_POST['store_logo_id'])) {
        update_term_meta($term_id, 'store_logo_id', sanitize_text_field($_POST['store_logo_id']));
    }
    
    if (isset($_POST['store_banner_id'])) {
        update_term_meta($term_id, 'store_banner_id', sanitize_text_field($_POST['store_banner_id']));
    }
    
    if (isset($_POST['store_cashback'])) {
        update_term_meta($term_id, 'store_cashback', sanitize_text_field($_POST['store_cashback']));
    }
    
    // Featured toggle
    if (isset($_POST['store_is_featured'])) {
        update_term_meta($term_id, 'store_is_featured', '1');
    } else {
        update_term_meta($term_id, 'store_is_featured', '0');
    }
    
    if (isset($_POST['store_website_url'])) {
        update_term_meta($term_id, 'store_website_url', esc_url_raw($_POST['store_website_url']));
    }
    
    if (isset($_POST['store_bg_color'])) {
        update_term_meta($term_id, 'store_bg_color', sanitize_hex_color($_POST['store_bg_color']));
    }
    
    if (isset($_POST['store_featured_deals'])) {
        update_term_meta($term_id, 'store_featured_deals', sanitize_text_field($_POST['store_featured_deals']));
    }
}
add_action('created_store', 'dealsindia_save_store_meta_fields');
add_action('edited_store', 'dealsindia_save_store_meta_fields');


// =====================================================
// ADMIN COLUMNS
// =====================================================


/**
 * Add Custom Columns to Store List Table
 */
function dealsindia_store_columns($columns) {
    $new_columns = array();
    
    if (isset($columns['cb'])) {
        $new_columns['cb'] = $columns['cb'];
    }
    
    $new_columns['logo'] = __('Logo', 'dealsindia');
    $new_columns['name'] = $columns['name'];
    $new_columns['cashback'] = __('Cashback', 'dealsindia');
    $new_columns['featured'] = __('Featured', 'dealsindia');
    
    if (isset($columns['description'])) {
        $new_columns['description'] = $columns['description'];
    }
    if (isset($columns['slug'])) {
        $new_columns['slug'] = $columns['slug'];
    }
    if (isset($columns['posts'])) {
        $new_columns['posts'] = $columns['posts'];
    }
    
    return $new_columns;
}
add_filter('manage_edit-store_columns', 'dealsindia_store_columns');


/**
 * Display Custom Column Content
 */
function dealsindia_store_column_content($content, $column_name, $term_id) {
    if ($column_name === 'logo') {
        $logo_id = get_term_meta($term_id, 'store_logo_id', true);
        if ($logo_id) {
            $logo_url = wp_get_attachment_url($logo_id);
            if ($logo_url) {
                $content = '<img src="' . esc_url($logo_url) . '" style="width: 50px; height: 50px; object-fit: contain; border: 1px solid #ddd; border-radius: 4px; padding: 3px;">';
            }
        } else {
            $content = '—';
        }
    }
    
    if ($column_name === 'cashback') {
        $cashback = get_term_meta($term_id, 'store_cashback', true);
        $content = $cashback ? '<strong style="color: #00897B;">' . esc_html($cashback) . '</strong>' : '—';
    }
    
    if ($column_name === 'featured') {
        $is_featured = get_term_meta($term_id, 'store_is_featured', true);
        $content = $is_featured == '1' ? '<span style="color: #f39c12; font-weight: bold;">⭐ Featured</span>' : '—';
    }
    
    return $content;
}
add_filter('manage_store_custom_column', 'dealsindia_store_column_content', 10, 3);


// =====================================================
// COLOR PICKER SCRIPT
// =====================================================


/**
 * Enqueue Color Picker for Store Taxonomy
 */
function dealsindia_store_admin_scripts($hook) {
    if ($hook !== 'edit-tags.php' && $hook !== 'term.php') {
        return;
    }
    
    $screen = get_current_screen();
    if ($screen->taxonomy !== 'store') {
        return;
    }
    
    wp_enqueue_style('wp-color-picker');
    wp_enqueue_script('wp-color-picker');
    
    wp_add_inline_script('wp-color-picker', '
        jQuery(document).ready(function($) {
            $(".dealsindia-color-picker").wpColorPicker();
        });
    ');
}
add_action('admin_enqueue_scripts', 'dealsindia_store_admin_scripts');


// =====================================================
// CUSTOM REWRITE RULE FOR /stores/ BASE URL
// =====================================================


/**
 * Add Custom Rewrite Rule for /stores/ (All Stores Archive)
 * Maps /stores/ URL to page-all-stores.php template
 */
function dealsindia_stores_base_rewrite_rule() {
    add_rewrite_rule(
        '^stores/?$',
        'index.php?dealsindia_all_stores=1',
        'top'
    );
}
add_action('init', 'dealsindia_stores_base_rewrite_rule');


/**
 * Register Custom Query Var for Stores Archive
 */
function dealsindia_stores_query_var($vars) {
    $vars[] = 'dealsindia_all_stores';
    return $vars;
}
add_filter('query_vars', 'dealsindia_stores_query_var');


/**
 * Load page-all-stores.php Template for /stores/ URL
 */
function dealsindia_stores_template_include($template) {
    if (get_query_var('dealsindia_all_stores')) {
        $new_template = locate_template('page-all-stores.php');
        if ($new_template) {
            return $new_template;
        }
    }
    return $template;
}
add_filter('template_include', 'dealsindia_stores_template_include', 99);
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\inc\taxonomies\term-meta.php === 
<?php
if (!defined('ABSPATH')) exit; 
/**
 * Term Meta Handler - Enhanced for All Taxonomies
 * Handles media uploads for:
 * - Stores (logo, banner)
 * - Categories (icon image, banner)
 * - Deal Types (icon image, banner)
 * 
 * @package ARRZONE
 * @version 4.0 - Enhanced for Homepage-Style Pages
 */

if (!defined('ABSPATH')) exit;

/**
 * Enqueue Media Scripts for Term Edit Pages
 * Loads WordPress media uploader on taxonomy edit screens
 */
function dealsindia_enqueue_term_media_scripts($hook) {
    // Only load on term edit pages
    if ($hook !== 'edit-tags.php' && $hook !== 'term.php') {
        return;
    }
    
    $screen = get_current_screen();
    
    // Check if we're on a taxonomy that uses media uploads
    $supported_taxonomies = array('store', 'deal-category', 'deal-type');
    
    if (!in_array($screen->taxonomy, $supported_taxonomies)) {
        return;
    }
    
    // Enqueue WordPress media uploader
    wp_enqueue_media();
    
    // Enqueue our custom admin media uploader script
    wp_enqueue_script(
        'dealsindia-admin-media-uploader',
        get_template_directory_uri() . '/assets/js/admin-media-uploader.js',
        array('jquery'),
        filemtime(get_template_directory() . '/assets/js/admin-media-uploader.js'),
        true
    );
    
    // Pass taxonomy type to JavaScript
    wp_localize_script('dealsindia-admin-media-uploader', 'dealsindiaTermMeta', array(
        'taxonomy' => $screen->taxonomy,
        'strings' => array(
            'selectImage' => __('Select Image', 'dealsindia'),
            'useImage' => __('Use this image', 'dealsindia'),
            'uploadImage' => __('Upload Image', 'dealsindia'),
            'changeImage' => __('Change Image', 'dealsindia'),
            'removeImage' => __('Remove Image', 'dealsindia'),
        )
    ));
}
add_action('admin_enqueue_scripts', 'dealsindia_enqueue_term_media_scripts');

/**
 * Add Custom Styles for Term Meta Fields
 */
function dealsindia_term_meta_admin_styles() {
    $screen = get_current_screen();
    
    if ($screen && ($screen->taxonomy === 'store' || $screen->taxonomy === 'deal-category' || $screen->taxonomy === 'deal-type')) {
        ?>
        <style>
            /* Image Preview Styles */
            .term-logo-wrap img,
            .term-banner-wrap img,
            .term-icon-image-wrap img {
                display: block;
                margin-top: 10px;
                border: 2px solid #ddd;
                border-radius: 8px;
                padding: 5px;
                background: #fff;
            }
            
            .store-logo-preview img {
                max-width: 150px;
                height: auto;
                object-fit: contain;
            }
            
            .store-banner-preview img,
            .category-banner-preview img,
            .dealtype-banner-preview img {
                max-width: 400px;
                height: auto;
                object-fit: cover;
            }
            
            .category-icon-preview img,
            .dealtype-icon-preview img {
                width: 100px;
                height: 100px;
                object-fit: contain;
            }
            
            /* Button Styles */
            .button.store-logo-upload-btn,
            .button.store-banner-upload-btn,
            .button.category-icon-upload-btn,
            .button.category-banner-upload-btn,
            .button.dealtype-icon-upload-btn,
            .button.dealtype-banner-upload-btn {
                margin-right: 10px;
            }
            
            .button.store-logo-remove-btn,
            .button.store-banner-remove-btn,
            .button.category-icon-remove-btn,
            .button.category-banner-remove-btn,
            .button.dealtype-icon-remove-btn,
            .button.dealtype-banner-remove-btn {
                display: none;
                color: #d63638;
                border-color: #d63638;
            }
            
            .button.store-logo-remove-btn:hover,
            .button.store-banner-remove-btn:hover,
            .button.category-icon-remove-btn:hover,
            .button.category-banner-remove-btn:hover,
            .button.dealtype-icon-remove-btn:hover,
            .button.dealtype-banner-remove-btn:hover {
                background: #d63638;
                color: #fff;
            }
            
            /* Form Field Spacing */
            .form-field.term-logo-wrap,
            .form-field.term-banner-wrap,
            .form-field.term-icon-image-wrap,
            .form-field.term-icon-wrap,
            .form-field.term-color-wrap {
                margin-bottom: 20px;
            }
            
            /* Color Picker */
            .wp-picker-container {
                margin-top: 5px;
            }
            
            /* Preview Container */
            .image-preview-container {
                margin-top: 10px;
                padding: 10px;
                background: #f9f9f9;
                border: 1px solid #ddd;
                border-radius: 4px;
            }
        </style>
        <?php
    }
}
add_action('admin_head', 'dealsindia_term_meta_admin_styles');
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\template-parts\deal-card.php === 
<?php
/**
 * Deal Card Component - Production Ready
 * 
 * Reusable deal card used in:
 * - Archive pages (stores, categories, deal types)
 * - Homepage sections
 * - Single deal page (related deals)
 * - Search results
 * 
 * Features:
 * - Clean markup (no inline CSS)
 * - Image with discount badge
 * - Store logo overlay
 * - Price comparison
 * - Expiry status
 * - Coupon code indicator
 * - Click tracking ready
 * - Responsive design
 * 
 * @package ARRZONE
 * @version 5.0 - Production Ready
 */

// Get deal ID and data
$deal_id = get_the_ID();
$deal_title = get_the_title();
$deal_url = get_permalink();

// Get deal meta
$coupon_code = get_post_meta($deal_id, 'deal_coupon_code', true);
$affiliate_link = get_post_meta($deal_id, 'deal_affiliate_link', true);
$original_price = get_post_meta($deal_id, 'deal_original_price', true);
$sale_price = get_post_meta($deal_id, 'deal_sale_price', true);
$expiry_date = get_post_meta($deal_id, 'deal_expiry_date', true);

// Calculate discount
$discount = 0;
if ($original_price && $sale_price && $original_price > $sale_price) {
    $discount = round((($original_price - $sale_price) / $original_price) * 100);
}

// Check if expired
$is_expired = false;
$time_remaining = '';
if ($expiry_date) {
    $expiry_timestamp = strtotime($expiry_date);
    $current_timestamp = current_time('timestamp');
    $is_expired = ($current_timestamp > $expiry_timestamp);
    
    if (!$is_expired) {
        $difference = $expiry_timestamp - $current_timestamp;
        $days = floor($difference / 86400);
        $hours = floor(($difference % 86400) / 3600);
        
        if ($days > 0) {
            $time_remaining = sprintf(__('%d days left', 'dealsindia'), $days);
        } elseif ($hours > 0) {
            $time_remaining = sprintf(__('%d hours left', 'dealsindia'), $hours);
        } else {
            $time_remaining = __('Ending soon', 'dealsindia');
        }
    }
}

// Get taxonomies
$stores = get_the_terms($deal_id, 'store');
$categories = get_the_terms($deal_id, 'deal-category');
$deal_types = get_the_terms($deal_id, 'deal-type');

// Get store info
$store_name = '';
$store_logo_url = '';
$store_cashback = '';

if ($stores && !is_wp_error($stores)) {
    $first_store = reset($stores);
    $store_name = $first_store->name;
    $store_logo_id = get_term_meta($first_store->term_id, 'store_logo_id', true);
    $store_logo_url = $store_logo_id ? wp_get_attachment_url($store_logo_id) : '';
    $store_cashback = get_term_meta($first_store->term_id, 'store_cashback', true);
}

// Get featured image
$featured_image = get_the_post_thumbnail_url($deal_id, 'medium');
?>

<article class="deal-card <?php echo $is_expired ? 'deal-expired' : ''; ?>" data-deal-id="<?php echo esc_attr($deal_id); ?>">
    
    <a href="<?php echo esc_url($deal_url); ?>" class="deal-card-link">
        
        <!-- Deal Image -->
        <div class="deal-card-image">
            <?php if ($featured_image) : ?>
                <img src="<?php echo esc_url($featured_image); ?>" alt="<?php echo esc_attr($deal_title); ?>" loading="lazy">
            <?php else : ?>
                <div class="deal-no-image">
                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke-width="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                    </svg>
                </div>
            <?php endif; ?>
            
            <!-- Store Logo Badge -->
            <?php if ($store_logo_url) : ?>
                <div class="deal-store-badge">
                    <img src="<?php echo esc_url($store_logo_url); ?>" alt="<?php echo esc_attr($store_name); ?>">
                </div>
            <?php endif; ?>
            
            <!-- Discount Badge -->
            <?php if ($discount > 0 && !$is_expired) : ?>
                <div class="deal-discount-badge">
                    <span class="discount-value"><?php echo esc_html($discount); ?>%</span>
                    <span class="discount-label"><?php esc_html_e('OFF', 'dealsindia'); ?></span>
                </div>
            <?php endif; ?>
            
            <!-- Expired Overlay -->
            <?php if ($is_expired) : ?>
                <div class="deal-expired-overlay">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="10" stroke-width="2"/>
                        <line x1="15" y1="9" x2="9" y2="15" stroke-width="2"/>
                        <line x1="9" y1="9" x2="15" y2="15" stroke-width="2"/>
                    </svg>
                    <p><?php esc_html_e('Expired', 'dealsindia'); ?></p>
                </div>
            <?php endif; ?>
        </div>
        
        <!-- Deal Content -->
        <div class="deal-card-content">
            
            <!-- Store Name -->
            <?php if ($store_name) : ?>
                <div class="deal-store-name">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke-width="2"/>
                        <polyline points="9 22 9 12 15 12 15 22" stroke-width="2"/>
                    </svg>
                    <?php echo esc_html($store_name); ?>
                </div>
            <?php endif; ?>
            
            <!-- Deal Title -->
            <h3 class="deal-card-title"><?php echo esc_html(wp_trim_words($deal_title, 12)); ?></h3>
            
            <!-- Price Section -->
            <?php if ($sale_price) : ?>
                <div class="deal-card-prices">
                    <span class="deal-price-sale">₹<?php echo number_format($sale_price); ?></span>
                    <?php if ($original_price && $original_price > $sale_price) : ?>
                        <span class="deal-price-original">₹<?php echo number_format($original_price); ?></span>
                    <?php endif; ?>
                </div>
            <?php endif; ?>
            
            <!-- Deal Meta (Bottom) -->
            <div class="deal-card-meta">
                
                <!-- Coupon Indicator -->
                <?php if ($coupon_code && !$is_expired) : ?>
                    <span class="deal-meta-coupon">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <rect x="1" y="5" width="22" height="14" rx="2" ry="2" stroke-width="2"/>
                            <line x1="1" y1="10" x2="23" y2="10" stroke-width="2"/>
                        </svg>
                        <?php esc_html_e('Code', 'dealsindia'); ?>
                    </span>
                <?php endif; ?>
                
                <!-- Cashback Badge -->
                <?php if ($store_cashback && !$is_expired) : ?>
                    <span class="deal-meta-cashback">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <line x1="12" y1="1" x2="12" y2="23" stroke-width="2"/>
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke-width="2"/>
                        </svg>
                        <?php echo esc_html($store_cashback); ?>
                    </span>
                <?php endif; ?>
                
                <!-- Expiry Timer -->
                <?php if ($time_remaining && !$is_expired) : ?>
                    <span class="deal-meta-expiry">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"/>
                            <polyline points="12 6 12 12 16 14" stroke-width="2"/>
                        </svg>
                        <?php echo esc_html($time_remaining); ?>
                    </span>
                <?php endif; ?>
                
            </div>
            
        </div>
        
    </a>
    
    <!-- Quick Action Button -->
    <?php if (!$is_expired) : ?>
        <div class="deal-card-actions">
            <a href="<?php echo esc_url($affiliate_link ? $affiliate_link : $deal_url); ?>" 
               class="deal-btn-action" 
               <?php echo $affiliate_link ? 'target="_blank" rel="nofollow noopener"' : ''; ?>
               data-deal-id="<?php echo esc_attr($deal_id); ?>"
               onclick="event.stopPropagation();">
                <?php if ($coupon_code) : ?>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <rect x="1" y="5" width="22" height="14" rx="2" ry="2" stroke-width="2"/>
                        <line x1="1" y1="10" x2="23" y2="10" stroke-width="2"/>
                    </svg>
                    <?php esc_html_e('Get Code', 'dealsindia'); ?>
                <?php else : ?>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" stroke-width="2"/>
                        <polyline points="10 17 15 12 10 7" stroke-width="2"/>
                        <line x1="15" y1="12" x2="3" y2="12" stroke-width="2"/>
                    </svg>
                    <?php esc_html_e('Get Deal', 'dealsindia'); ?>
                <?php endif; ?>
            </a>
        </div>
    <?php endif; ?>
    
</article>
echo ..
=== FILE: \Users\adell\Local Sites\dealsindia-local\app\public\wp-content\themes\dealsindia\template-parts\filter-sidebar.php === 
<?php
if (!defined('ABSPATH')) exit;

/**
 * Enhanced Deal Filter Sidebar - Split Layout
 * Conditionally shows horizontal filters OR sidebar filters based on query vars
 * 
 * ALL JAVASCRIPT REMOVED - Handled by assets/js/filter.js
 * 
 * @package ARRZONE
 * @version 6.0 - Cleaned Up (No Inline Scripts)
 */

// =====================================================
// DISPLAY LOGIC
// =====================================================
$show_horizontal_only = get_query_var('show_horizontal_only', false);
$show_sidebar_only = get_query_var('show_sidebar_only', false);

// =====================================================
// CONTEXT DETECTION
// =====================================================
$context_type = '';
$context_slug = '';
$context_name = '';

if (is_tax('campaign')) {
    $context_type = 'campaign';
    $queried_object = get_queried_object();
    $context_slug = $queried_object->slug;
    $context_name = $queried_object->name;
} elseif (is_tax('store')) {
    $context_type = 'store';
    $queried_object = get_queried_object();
    $context_slug = $queried_object->slug;
    $context_name = $queried_object->name;
} elseif (is_tax('deal-category')) {
    $context_type = 'deal-category';
    $queried_object = get_queried_object();
    $context_slug = $queried_object->slug;
    $context_name = $queried_object->name;
} elseif (is_tax('deal-type')) {
    $context_type = 'deal-type';
    $queried_object = get_queried_object();
    $context_slug = $queried_object->slug;
    $context_name = $queried_object->name;
}

// =====================================================
// GET TAXONOMIES
// =====================================================
$stores = get_terms(array(
    'taxonomy'   => 'store',
    'hide_empty' => true,
    'orderby'    => 'count',
    'order'      => 'DESC',
    'number'     => 20,
    'exclude'    => ($context_type === 'store' && get_queried_object()) ? array(get_queried_object()->term_id) : array(),
));

$categories = get_terms(array(
    'taxonomy'   => 'deal-category',
    'hide_empty' => true,
    'orderby'    => 'count',
    'order'      => 'DESC',
    'number'     => 15,
    'exclude'    => ($context_type === 'deal-category' && get_queried_object()) ? array(get_queried_object()->term_id) : array(),
));

$deal_types = get_terms(array(
    'taxonomy'   => 'deal-type',
    'hide_empty' => true,
    'orderby'    => 'count',
    'order'      => 'DESC',
    'number'     => 10,
    'exclude'    => ($context_type === 'deal-type' && get_queried_object()) ? array(get_queried_object()->term_id) : array(),
));

// =====================================================
// HORIZONTAL FILTERS (Full Width)
// =====================================================
if (!$show_sidebar_only && (($context_type !== 'store' && !empty($stores) && !is_wp_error($stores)) || ($context_type !== 'deal-category' && !empty($categories) && !is_wp_error($categories)))) : ?>

<div class="horizontal-filters-wrapper" id="horizontalFilters" 
     data-context-type="<?php echo esc_attr($context_type); ?>" 
     data-context-slug="<?php echo esc_attr($context_slug); ?>">
    
    <div class="container">
        
        <!-- Stores Horizontal Chips -->
        <?php if ($context_type !== 'store' && !empty($stores) && !is_wp_error($stores)) : ?>
            <div class="horizontal-filter-section">
                <div class="horizontal-filter-label">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke-width="2"/>
                        <polyline points="9 22 9 12 15 12 15 22" stroke-width="2"/>
                    </svg>
                    <?php esc_html_e('Stores', 'dealsindia'); ?>
                </div>
                <div class="horizontal-filter-chips">
                    <?php foreach ($stores as $store) : 
                        $logo_id = get_term_meta($store->term_id, 'store_logo_id', true);
                        $logo_url = $logo_id ? wp_get_attachment_url($logo_id) : '';
                    ?>
                        <button class="filter-chip" data-filter-type="store" data-filter-value="<?php echo esc_attr($store->slug); ?>">
                            <?php if ($logo_url) : ?>
                                <img src="<?php echo esc_url($logo_url); ?>" alt="<?php echo esc_attr($store->name); ?>" class="chip-logo">
                            <?php endif; ?>
                            <span class="chip-label"><?php echo esc_html($store->name); ?></span>
                            <span class="chip-count"><?php echo number_format($store->count); ?></span>
                        </button>
                    <?php endforeach; ?>
                </div>
            </div>
        <?php endif; ?>
        
        <!-- Categories Horizontal Chips -->
        <?php if ($context_type !== 'deal-category' && !empty($categories) && !is_wp_error($categories)) : ?>
            <div class="horizontal-filter-section">
                <div class="horizontal-filter-label">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" stroke-width="2"/>
                        <line x1="7" y1="7" x2="7.01" y2="7" stroke-width="2"/>
                    </svg>
                    <?php esc_html_e('Categories', 'dealsindia'); ?>
                </div>
                <div class="horizontal-filter-chips">
                    <?php foreach ($categories as $category) : 
                        $icon = get_term_meta($category->term_id, 'category_icon', true);
                    ?>
                        <button class="filter-chip" data-filter-type="category" data-filter-value="<?php echo esc_attr($category->slug); ?>">
                            <?php if ($icon) : ?>
                                <span class="chip-icon"><?php echo esc_html($icon); ?></span>
                            <?php endif; ?>
                            <span class="chip-label"><?php echo esc_html($category->name); ?></span>
                            <span class="chip-count"><?php echo number_format($category->count); ?></span>
                        </button>
                    <?php endforeach; ?>
                </div>
            </div>
        <?php endif; ?>
        
    </div>
    
</div>

<?php endif; ?>

<?php
// =====================================================
// SIDEBAR FILTERS (Left Column)
// =====================================================
if (!$show_horizontal_only) : ?>

<div class="deal-filters-sidebar" id="dealFiltersSidebar">
    
    <!-- Filter Header -->
    <div class="filter-header">
        <h2 class="filter-main-title">
            <svg class="filter-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" stroke-width="2"/>
            </svg>
            <?php esc_html_e('Filters', 'dealsindia'); ?>
        </h2>
        <button class="filter-reset-btn" id="filterResetBtn">
            <?php esc_html_e('Reset', 'dealsindia'); ?>
        </button>
    </div>
    
    <!-- Context Info -->
    <?php if (!empty($context_name)) : ?>
        <div class="filter-context-info">
            <span class="context-label">
                <?php 
                if ($context_type === 'campaign') {
                    echo '🎪 ';
                    esc_html_e('Campaign', 'dealsindia');
                } elseif ($context_type === 'store') {
                    esc_html_e('Store', 'dealsindia');
                } elseif ($context_type === 'deal-category') {
                    esc_html_e('Category', 'dealsindia');
                } else {
                    esc_html_e('Filter', 'dealsindia');
                }
                ?>
            </span>
            <strong class="context-value"><?php echo esc_html($context_name); ?></strong>
        </div>
    <?php endif; ?>
    
    <!-- Filter Sections -->
    <div class="filter-sections-wrapper">
        
        <!-- Sort By Section -->
        <div class="filter-section filter-section-sort active">
            <button class="filter-section-header" type="button" aria-expanded="true">
                <h3 class="filter-section-title">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <line x1="12" y1="5" x2="12" y2="19" stroke-width="2"/>
                        <polyline points="5 12 12 5 19 12" stroke-width="2"/>
                    </svg>
                    <?php esc_html_e('Sort By', 'dealsindia'); ?>
                </h3>
                <svg class="filter-toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <polyline points="6 9 12 15 18 9" stroke-width="2"/>
                </svg>
            </button>
            <div class="filter-section-content">
                <div class="filter-options-list">
                    <?php
                    $sort_options = array(
                        'latest'     => __('Latest Deals', 'dealsindia'),
                        'popular'    => __('Most Popular', 'dealsindia'),
                        'discount'   => __('Highest Discount', 'dealsindia'),
                        'price_low'  => __('Price: Low to High', 'dealsindia'),
                        'price_high' => __('Price: High to Low', 'dealsindia'),
                    );
                    
                    foreach ($sort_options as $value => $label) :
                    ?>
                        <label class="filter-option-item">
                            <input type="radio" name="sortby" value="<?php echo esc_attr($value); ?>" <?php checked($value, 'latest'); ?> class="filter-radio">
                            <span class="filter-option-label"><?php echo esc_html($label); ?></span>
                        </label>
                    <?php endforeach; ?>
                </div>
            </div>
        </div>
        
        <!-- Deal Types Section -->
        <?php if ($context_type !== 'deal-type' && !empty($deal_types) && !is_wp_error($deal_types)) : ?>
            <div class="filter-section filter-section-deal-types">
                <button class="filter-section-header" type="button" aria-expanded="true">
                    <h3 class="filter-section-title">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <rect x="3" y="3" width="7" height="7" rx="1" stroke-width="2"/>
                            <rect x="14" y="3" width="7" height="7" rx="1" stroke-width="2"/>
                            <rect x="3" y="14" width="7" height="7" rx="1" stroke-width="2"/>
                            <rect x="14" y="14" width="7" height="7" rx="1" stroke-width="2"/>
                        </svg>
                        <?php esc_html_e('Deal Types', 'dealsindia'); ?>
                    </h3>
                    <svg class="filter-toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polyline points="6 9 12 15 18 9" stroke-width="2"/>
                    </svg>
                </button>
                <div class="filter-section-content">
                    <div class="filter-options-list">
                        <?php foreach ($deal_types as $deal_type) : 
                            $icon = get_term_meta($deal_type->term_id, 'dealtype_icon', true);
                        ?>
                            <label class="filter-option-item">
                                <input type="checkbox" value="<?php echo esc_attr($deal_type->slug); ?>" class="filter-checkbox">
                                <span class="filter-option-label">
                                    <?php if ($icon) : ?>
                                        <span class="filter-emoji"><?php echo esc_html($icon); ?></span>
                                    <?php endif; ?>
                                    <?php echo esc_html($deal_type->name); ?>
                                </span>
                                <span class="filter-count"><?php echo number_format($deal_type->count); ?></span>
                            </label>
                        <?php endforeach; ?>
                    </div>
                </div>
            </div>
        <?php endif; ?>
        
        <!-- Price Range Section -->
        <div class="filter-section filter-section-price">
            <button class="filter-section-header" type="button" aria-expanded="false">
                <h3 class="filter-section-title">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <line x1="12" y1="1" x2="12" y2="23" stroke-width="2"/>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke-width="2"/>
                    </svg>
                    <?php esc_html_e('Price Range', 'dealsindia'); ?>
                </h3>
                <svg class="filter-toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <polyline points="6 9 12 15 18 9" stroke-width="2"/>
                </svg>
            </button>
            <div class="filter-section-content" style="display: none;">
                <div class="filter-price-inputs">
                    <div class="price-input-group">
                        <label for="priceRangeMin"><?php esc_html_e('Min', 'dealsindia'); ?></label>
                        <input type="number" id="priceRangeMin" placeholder="₹0" min="0" class="filter-input">
                    </div>
                    <span class="price-separator">-</span>
                    <div class="price-input-group">
                        <label for="priceRangeMax"><?php esc_html_e('Max', 'dealsindia'); ?></label>
                        <input type="number" id="priceRangeMax" placeholder="₹99999" min="0" class="filter-input">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Discount Section -->
        <div class="filter-section filter-section-discount">
            <button class="filter-section-header" type="button" aria-expanded="false">
                <h3 class="filter-section-title">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="10" stroke-width="2"/>
                        <path d="M8 14l2 2 4-4" stroke-width="2"/>
                    </svg>
                    <?php esc_html_e('Discount', 'dealsindia'); ?>
                </h3>
                <svg class="filter-toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <polyline points="6 9 12 15 18 9" stroke-width="2"/>
                </svg>
            </button>
            <div class="filter-section-content" style="display: none;">
                <div class="filter-discount-select">
                    <select id="discountMin" class="filter-select">
                        <option value="0"><?php esc_html_e('Any discount', 'dealsindia'); ?></option>
                        <option value="10"><?php esc_html_e('10%+', 'dealsindia'); ?></option>
                        <option value="20"><?php esc_html_e('20%+', 'dealsindia'); ?></option>
                        <option value="30"><?php esc_html_e('30%+', 'dealsindia'); ?></option>
                        <option value="50"><?php esc_html_e('50%+', 'dealsindia'); ?></option>
                        <option value="70"><?php esc_html_e('70%+', 'dealsindia'); ?></option>
                    </select>
                </div>
            </div>
        </div>
        
        <!-- Deal Status Section -->
        <div class="filter-section filter-section-status">
            <button class="filter-section-header" type="button" aria-expanded="false">
                <h3 class="filter-section-title">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="10" stroke-width="2"/>
                        <polyline points="12 6 12 12 16 14" stroke-width="2"/>
                    </svg>
                    <?php esc_html_e('Status', 'dealsindia'); ?>
                </h3>
                <svg class="filter-toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <polyline points="6 9 12 15 18 9" stroke-width="2"/>
                </svg>
            </button>
            <div class="filter-section-content" style="display: none;">
                <div class="filter-status-select">
                    <select id="statusFilter" class="filter-select">
                        <option value=""><?php esc_html_e('All deals', 'dealsindia'); ?></option>
                        <option value="active"><?php esc_html_e('Active', 'dealsindia'); ?></option>
                        <option value="ending_soon"><?php esc_html_e('Ending soon', 'dealsindia'); ?></option>
                    </select>
                </div>
            </div>
        </div>
        
    </div>
    
</div>

<?php endif; ?>
echo ..
